extends layout

block content
  div.topic
    form(method='POST' action='')
      div.form-group
        label(for='topic') Topic:
        input#topic.form-control(type='text', placeholder='Topic' name='topic' required='true' value=(undefined===note ? '' : note.topic) )
      div.form-group
        label(for='subject') Subject:
        select#subject.form-control(type='select', placeholder='Select subject' name='subject' required='true' )
          - subjects.sort(function(a, b) {let textA = a.title.toUpperCase(); let textB = b.title.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
          for subject in subjects
            if note
              option(value=subject._id selected=(subject._id.toString()===note.subject._id.toString() ? 'selected' : false) ) #{subject.title}
            else
              option(value=subject._id) #{subject.title}
      div.form-group
        label(for='date') Date:
        input#date.form-control(type='date', placeholder='Date' name='date' required='true' value=(undefined===note ? '' : note.date_yyyy_mm_dd) )
      div.form-group
        label(for='lectureNote') Lecture Notes:
        textarea#lectureNote.form-control(type='textarea', placeholder='Lecture Notes' name='lectureNote' required='true') #{undefined===note ? '' : note.lectureNote}
      div.form-group
        label(for='summary') Summary:
        textarea#summary.form-control(type='textarea', placeholder='Summary' name='summary' required='true') #{undefined===note ? '' : note.summary}
      button.btn.btn-primary(type='submit') Submit

    if errors
      ul
        for error in errors
          li!= error.msg