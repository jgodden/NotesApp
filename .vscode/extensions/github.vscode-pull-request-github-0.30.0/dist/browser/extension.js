(()=>{var dl={39809:(b,$,w)=>{"use strict";const _=$;_.bignum=w(13550),_.define=w(22500).define,_.base=w(71979),_.constants=w(36826),_.decoders=w(78307),_.encoders=w(56579)},22500:(b,$,w)=>{"use strict";const _=w(56579),D=w(78307),x=w(35717),S=$;S.define=function(n,c){return new o(n,c)};function o(l,n){this.name=l,this.body=n,this.decoders={},this.encoders={}}o.prototype._createNamed=function(n){const c=this.name;function g(f){this._initNamed(f,c)}return x(g,n),g.prototype._initNamed=function(u,E){n.call(this,u,E)},new g(this)},o.prototype._getDecoder=function(n){return n=n||"der",this.decoders.hasOwnProperty(n)||(this.decoders[n]=this._createNamed(D[n])),this.decoders[n]},o.prototype.decode=function(n,c,g){return this._getDecoder(c).decode(n,g)},o.prototype._getEncoder=function(n){return n=n||"der",this.encoders.hasOwnProperty(n)||(this.encoders[n]=this._createNamed(_[n])),this.encoders[n]},o.prototype.encode=function(n,c,g){return this._getEncoder(c).encode(n,g)}},36625:(b,$,w)=>{"use strict";const _=w(35717),D=w(98465).b,x=w(2399).Buffer;function S(l,n){if(D.call(this,n),!x.isBuffer(l)){this.error("Input not Buffer");return}this.base=l,this.offset=0,this.length=l.length}_(S,D),$.C=S,S.isDecoderBuffer=function(n){return n instanceof S?!0:typeof n=="object"&&x.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},S.prototype.save=function(){return{offset:this.offset,reporter:D.prototype.save.call(this)}},S.prototype.restore=function(n){const c=new S(this.base);return c.offset=n.offset,c.length=this.offset,this.offset=n.offset,D.prototype.restore.call(this,n.reporter),c},S.prototype.isEmpty=function(){return this.offset===this.length},S.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},S.prototype.skip=function(n,c){if(!(this.offset+n<=this.length))return this.error(c||"DecoderBuffer overrun");const g=new S(this.base);return g._reporterState=this._reporterState,g.offset=this.offset,g.length=this.offset+n,this.offset+=n,g},S.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)};function o(l,n){if(Array.isArray(l))this.length=0,this.value=l.map(function(c){return o.isEncoderBuffer(c)||(c=new o(c,n)),this.length+=c.length,c},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return n.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=x.byteLength(l);else if(x.isBuffer(l))this.value=l,this.length=l.length;else return n.error("Unsupported type: "+typeof l)}$.R=o,o.isEncoderBuffer=function(n){return n instanceof o?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},o.prototype.join=function(n,c){return n||(n=x.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(g){g.join(n,c),c+=g.length}):(typeof this.value=="number"?n[c]=this.value:typeof this.value=="string"?n.write(this.value,c):x.isBuffer(this.value)&&this.value.copy(n,c),c+=this.length)),n}},71979:(b,$,w)=>{"use strict";const _=$;_.Reporter=w(98465).b,_.DecoderBuffer=w(36625).C,_.EncoderBuffer=w(36625).R,_.Node=w(41949)},41949:(b,$,w)=>{"use strict";const _=w(98465).b,D=w(36625).R,x=w(36625).C,S=w(79746),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),n=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(f,u,E){const d={};this._baseState=d,d.name=E,d.enc=f,d.parent=u||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}b.exports=c;const g=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const u=this._baseState,E={};g.forEach(function(h){E[h]=u[h]});const d=new this.constructor(E.parent);return d._baseState=E,d},c.prototype._wrap=function(){const u=this._baseState;l.forEach(function(E){this[E]=function(){const h=new this.constructor(this);return u.children.push(h),h[E].apply(h,arguments)}},this)},c.prototype._init=function(u){const E=this._baseState;S(E.parent===null),u.call(this),E.children=E.children.filter(function(d){return d._baseState.parent===this},this),S.equal(E.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(u){const E=this._baseState,d=u.filter(function(h){return h instanceof this.constructor},this);u=u.filter(function(h){return!(h instanceof this.constructor)},this),d.length!==0&&(S(E.children===null),E.children=d,d.forEach(function(h){h._baseState.parent=this},this)),u.length!==0&&(S(E.args===null),E.args=u,E.reverseArgs=u.map(function(h){if(typeof h!="object"||h.constructor!==Object)return h;const v={};return Object.keys(h).forEach(function(k){k==(k|0)&&(k|=0);const A=h[k];v[A]=k}),v}))},n.forEach(function(f){c.prototype[f]=function(){const E=this._baseState;throw new Error(f+" not implemented for encoding: "+E.enc)}}),o.forEach(function(f){c.prototype[f]=function(){const E=this._baseState,d=Array.prototype.slice.call(arguments);return S(E.tag===null),E.tag=f,this._useArgs(d),this}}),c.prototype.use=function(u){S(u);const E=this._baseState;return S(E.use===null),E.use=u,this},c.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},c.prototype.def=function(u){const E=this._baseState;return S(E.default===null),E.default=u,E.optional=!0,this},c.prototype.explicit=function(u){const E=this._baseState;return S(E.explicit===null&&E.implicit===null),E.explicit=u,this},c.prototype.implicit=function(u){const E=this._baseState;return S(E.explicit===null&&E.implicit===null),E.implicit=u,this},c.prototype.obj=function(){const u=this._baseState,E=Array.prototype.slice.call(arguments);return u.obj=!0,E.length!==0&&this._useArgs(E),this},c.prototype.key=function(u){const E=this._baseState;return S(E.key===null),E.key=u,this},c.prototype.any=function(){const u=this._baseState;return u.any=!0,this},c.prototype.choice=function(u){const E=this._baseState;return S(E.choice===null),E.choice=u,this._useArgs(Object.keys(u).map(function(d){return u[d]})),this},c.prototype.contains=function(u){const E=this._baseState;return S(E.use===null),E.contains=u,this},c.prototype._decode=function(u,E){const d=this._baseState;if(d.parent===null)return u.wrapResult(d.children[0]._decode(u,E));let h=d.default,v=!0,k=null;if(d.key!==null&&(k=u.enterKey(d.key)),d.optional){let R=null;if(d.explicit!==null?R=d.explicit:d.implicit!==null?R=d.implicit:d.tag!==null&&(R=d.tag),R===null&&!d.any){const O=u.save();try{d.choice===null?this._decodeGeneric(d.tag,u,E):this._decodeChoice(u,E),v=!0}catch(V){v=!1}u.restore(O)}else if(v=this._peekTag(u,R,d.any),u.isError(v))return v}let A;if(d.obj&&v&&(A=u.enterObject()),v){if(d.explicit!==null){const O=this._decodeTag(u,d.explicit);if(u.isError(O))return O;u=O}const R=u.offset;if(d.use===null&&d.choice===null){let O;d.any&&(O=u.save());const V=this._decodeTag(u,d.implicit!==null?d.implicit:d.tag,d.any);if(u.isError(V))return V;d.any?h=u.raw(O):u=V}if(E&&E.track&&d.tag!==null&&E.track(u.path(),R,u.length,"tagged"),E&&E.track&&d.tag!==null&&E.track(u.path(),u.offset,u.length,"content"),d.any||(d.choice===null?h=this._decodeGeneric(d.tag,u,E):h=this._decodeChoice(u,E)),u.isError(h))return h;if(!d.any&&d.choice===null&&d.children!==null&&d.children.forEach(function(V){V._decode(u,E)}),d.contains&&(d.tag==="octstr"||d.tag==="bitstr")){const O=new x(h);h=this._getUse(d.contains,u._reporterState.obj)._decode(O,E)}}return d.obj&&v&&(h=u.leaveObject(A)),d.key!==null&&(h!==null||v===!0)?u.leaveKey(k,d.key,h):k!==null&&u.exitKey(k),h},c.prototype._decodeGeneric=function(u,E,d){const h=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(E,u,h.args[0],d):/str$/.test(u)?this._decodeStr(E,u,d):u==="objid"&&h.args?this._decodeObjid(E,h.args[0],h.args[1],d):u==="objid"?this._decodeObjid(E,null,null,d):u==="gentime"||u==="utctime"?this._decodeTime(E,u,d):u==="null_"?this._decodeNull(E,d):u==="bool"?this._decodeBool(E,d):u==="objDesc"?this._decodeStr(E,u,d):u==="int"||u==="enum"?this._decodeInt(E,h.args&&h.args[0],d):h.use!==null?this._getUse(h.use,E._reporterState.obj)._decode(E,d):E.error("unknown tag: "+u)},c.prototype._getUse=function(u,E){const d=this._baseState;return d.useDecoder=this._use(u,E),S(d.useDecoder._baseState.parent===null),d.useDecoder=d.useDecoder._baseState.children[0],d.implicit!==d.useDecoder._baseState.implicit&&(d.useDecoder=d.useDecoder.clone(),d.useDecoder._baseState.implicit=d.implicit),d.useDecoder},c.prototype._decodeChoice=function(u,E){const d=this._baseState;let h=null,v=!1;return Object.keys(d.choice).some(function(k){const A=u.save(),R=d.choice[k];try{const O=R._decode(u,E);if(u.isError(O))return!1;h={type:k,value:O},v=!0}catch(O){return u.restore(A),!1}return!0},this),v?h:u.error("Choice not matched")},c.prototype._createEncoderBuffer=function(u){return new D(u,this.reporter)},c.prototype._encode=function(u,E,d){const h=this._baseState;if(h.default!==null&&h.default===u)return;const v=this._encodeValue(u,E,d);if(v!==void 0&&!this._skipDefault(v,E,d))return v},c.prototype._encodeValue=function(u,E,d){const h=this._baseState;if(h.parent===null)return h.children[0]._encode(u,E||new _);let v=null;if(this.reporter=E,h.optional&&u===void 0)if(h.default!==null)u=h.default;else return;let k=null,A=!1;if(h.any)v=this._createEncoderBuffer(u);else if(h.choice)v=this._encodeChoice(u,E);else if(h.contains)k=this._getUse(h.contains,d)._encode(u,E),A=!0;else if(h.children)k=h.children.map(function(R){if(R._baseState.tag==="null_")return R._encode(null,E,u);if(R._baseState.key===null)return E.error("Child should have a key");const O=E.enterKey(R._baseState.key);if(typeof u!="object")return E.error("Child expected, but input is not object");const V=R._encode(u[R._baseState.key],E,u);return E.leaveKey(O),V},this).filter(function(R){return R}),k=this._createEncoderBuffer(k);else if(h.tag==="seqof"||h.tag==="setof"){if(!(h.args&&h.args.length===1))return E.error("Too many args for : "+h.tag);if(!Array.isArray(u))return E.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,k=this._createEncoderBuffer(u.map(function(O){const V=this._baseState;return this._getUse(V.args[0],u)._encode(O,E)},R))}else h.use!==null?v=this._getUse(h.use,d)._encode(u,E):(k=this._encodePrimitive(h.tag,u),A=!0);if(!h.any&&h.choice===null){const R=h.implicit!==null?h.implicit:h.tag,O=h.implicit===null?"universal":"context";R===null?h.use===null&&E.error("Tag could be omitted only for .use()"):h.use===null&&(v=this._encodeComposite(R,A,O,k))}return h.explicit!==null&&(v=this._encodeComposite(h.explicit,!1,"context",v)),v},c.prototype._encodeChoice=function(u,E){const d=this._baseState,h=d.choice[u.type];return h||S(!1,u.type+" not found in "+JSON.stringify(Object.keys(d.choice))),h._encode(u.value,E)},c.prototype._encodePrimitive=function(u,E){const d=this._baseState;if(/str$/.test(u))return this._encodeStr(E,u);if(u==="objid"&&d.args)return this._encodeObjid(E,d.reverseArgs[0],d.args[1]);if(u==="objid")return this._encodeObjid(E,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(E,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(E,d.args&&d.reverseArgs[0]);if(u==="bool")return this._encodeBool(E);if(u==="objDesc")return this._encodeStr(E,u);throw new Error("Unsupported tag: "+u)},c.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},c.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},98465:(b,$,w)=>{"use strict";const _=w(35717);function D(S){this._reporterState={obj:null,path:[],options:S||{},errors:[]}}$.b=D,D.prototype.isError=function(o){return o instanceof x},D.prototype.save=function(){const o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},D.prototype.restore=function(o){const l=this._reporterState;l.obj=o.obj,l.path=l.path.slice(0,o.pathLen)},D.prototype.enterKey=function(o){return this._reporterState.path.push(o)},D.prototype.exitKey=function(o){const l=this._reporterState;l.path=l.path.slice(0,o-1)},D.prototype.leaveKey=function(o,l,n){const c=this._reporterState;this.exitKey(o),c.obj!==null&&(c.obj[l]=n)},D.prototype.path=function(){return this._reporterState.path.join("/")},D.prototype.enterObject=function(){const o=this._reporterState,l=o.obj;return o.obj={},l},D.prototype.leaveObject=function(o){const l=this._reporterState,n=l.obj;return l.obj=o,n},D.prototype.error=function(o){let l;const n=this._reporterState,c=o instanceof x;if(c?l=o:l=new x(n.path.map(function(g){return"["+JSON.stringify(g)+"]"}).join(""),o.message||o,o.stack),!n.options.partial)throw l;return c||n.errors.push(l),l},D.prototype.wrapResult=function(o){const l=this._reporterState;return l.options.partial?{result:this.isError(o)?null:o,errors:l.errors}:o};function x(S,o){this.path=S,this.rethrow(o)}_(x,Error),x.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,x),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},70160:(b,$)=>{"use strict";function w(_){const D={};return Object.keys(_).forEach(function(x){(x|0)==x&&(x=x|0);const S=_[x];D[S]=x}),D}$.tagClass={0:"universal",1:"application",2:"context",3:"private"},$.tagClassByName=w($.tagClass),$.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},$.tagByName=w($.tag)},36826:(b,$,w)=>{"use strict";const _=$;_._reverse=function(x){const S={};return Object.keys(x).forEach(function(o){(o|0)==o&&(o=o|0);const l=x[o];S[l]=o}),S},_.der=w(70160)},41671:(b,$,w)=>{"use strict";const _=w(35717),D=w(13550),x=w(36625).C,S=w(41949),o=w(70160);function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new n,this.tree._init(f.body)}b.exports=l,l.prototype.decode=function(u,E){return x.isDecoderBuffer(u)||(u=new x(u,E)),this.tree._decode(u,E)};function n(f){S.call(this,"der",f)}_(n,S),n.prototype._peekTag=function(u,E,d){if(u.isEmpty())return!1;const h=u.save(),v=c(u,'Failed to peek tag: "'+E+'"');return u.isError(v)?v:(u.restore(h),v.tag===E||v.tagStr===E||v.tagStr+"of"===E||d)},n.prototype._decodeTag=function(u,E,d){const h=c(u,'Failed to decode tag of "'+E+'"');if(u.isError(h))return h;let v=g(u,h.primitive,'Failed to get length of "'+E+'"');if(u.isError(v))return v;if(!d&&h.tag!==E&&h.tagStr!==E&&h.tagStr+"of"!==E)return u.error('Failed to match tag: "'+E+'"');if(h.primitive||v!==null)return u.skip(v,'Failed to match body of: "'+E+'"');const k=u.save(),A=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(A)?A:(v=u.offset-k.offset,u.restore(k),u.skip(v,'Failed to match body of: "'+E+'"'))},n.prototype._skipUntilEnd=function(u,E){for(;;){const d=c(u,E);if(u.isError(d))return d;const h=g(u,d.primitive,E);if(u.isError(h))return h;let v;if(d.primitive||h!==null?v=u.skip(h):v=this._skipUntilEnd(u,E),u.isError(v))return v;if(d.tagStr==="end")break}},n.prototype._decodeList=function(u,E,d,h){const v=[];for(;!u.isEmpty();){const k=this._peekTag(u,"end");if(u.isError(k))return k;const A=d.decode(u,"der",h);if(u.isError(A)&&k)break;v.push(A)}return v},n.prototype._decodeStr=function(u,E){if(E==="bitstr"){const d=u.readUInt8();return u.isError(d)?d:{unused:d,data:u.raw()}}else if(E==="bmpstr"){const d=u.raw();if(d.length%2==1)return u.error("Decoding of string type: bmpstr length mismatch");let h="";for(let v=0;v<d.length/2;v++)h+=String.fromCharCode(d.readUInt16BE(v*2));return h}else if(E==="numstr"){const d=u.raw().toString("ascii");return this._isNumstr(d)?d:u.error("Decoding of string type: numstr unsupported characters")}else{if(E==="octstr")return u.raw();if(E==="objDesc")return u.raw();if(E==="printstr"){const d=u.raw().toString("ascii");return this._isPrintstr(d)?d:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(E)?u.raw().toString():u.error("Decoding of string type: "+E+" unsupported")}},n.prototype._decodeObjid=function(u,E,d){let h;const v=[];let k=0,A=0;for(;!u.isEmpty();)A=u.readUInt8(),k<<=7,k|=A&127,(A&128)==0&&(v.push(k),k=0);A&128&&v.push(k);const R=v[0]/40|0,O=v[0]%40;if(d?h=v:h=[R,O].concat(v.slice(1)),E){let V=E[h.join(" ")];V===void 0&&(V=E[h.join(".")]),V!==void 0&&(h=V)}return h},n.prototype._decodeTime=function(u,E){const d=u.raw().toString();let h,v,k,A,R,O;if(E==="gentime")h=d.slice(0,4)|0,v=d.slice(4,6)|0,k=d.slice(6,8)|0,A=d.slice(8,10)|0,R=d.slice(10,12)|0,O=d.slice(12,14)|0;else if(E==="utctime")h=d.slice(0,2)|0,v=d.slice(2,4)|0,k=d.slice(4,6)|0,A=d.slice(6,8)|0,R=d.slice(8,10)|0,O=d.slice(10,12)|0,h<70?h=2e3+h:h=1900+h;else return u.error("Decoding "+E+" time is not supported yet");return Date.UTC(h,v-1,k,A,R,O,0)},n.prototype._decodeNull=function(){return null},n.prototype._decodeBool=function(u){const E=u.readUInt8();return u.isError(E)?E:E!==0},n.prototype._decodeInt=function(u,E){const d=u.raw();let h=new D(d);return E&&(h=E[h.toString(10)]||h),h},n.prototype._use=function(u,E){return typeof u=="function"&&(u=u(E)),u._getDecoder("der").tree};function c(f,u){let E=f.readUInt8(u);if(f.isError(E))return E;const d=o.tagClass[E>>6],h=(E&32)==0;if((E&31)==31){let k=E;for(E=0;(k&128)==128;){if(k=f.readUInt8(u),f.isError(k))return k;E<<=7,E|=k&127}}else E&=31;const v=o.tag[E];return{cls:d,primitive:h,tag:E,tagStr:v}}function g(f,u,E){let d=f.readUInt8(E);if(f.isError(d))return d;if(!u&&d===128)return null;if((d&128)==0)return d;const h=d&127;if(h>4)return f.error("length octect is too long");d=0;for(let v=0;v<h;v++){d<<=8;const k=f.readUInt8(E);if(f.isError(k))return k;d|=k}return d}},78307:(b,$,w)=>{"use strict";const _=$;_.der=w(41671),_.pem=w(59631)},59631:(b,$,w)=>{"use strict";const _=w(35717),D=w(2399).Buffer,x=w(41671);function S(o){x.call(this,o),this.enc="pem"}_(S,x),b.exports=S,S.prototype.decode=function(l,n){const c=l.toString().split(/[\r\n]+/g),g=n.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,E=-1;for(let v=0;v<c.length;v++){const k=c[v].match(f);if(k!==null&&k[2]===g)if(u===-1){if(k[1]!=="BEGIN")break;u=v}else{if(k[1]!=="END")break;E=v;break}}if(u===-1||E===-1)throw new Error("PEM section not found for: "+g);const d=c.slice(u+1,E).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const h=D.from(d,"base64");return x.prototype.decode.call(this,h,n)}},66984:(b,$,w)=>{"use strict";const _=w(35717),D=w(2399).Buffer,x=w(41949),S=w(70160);function o(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new l,this.tree._init(g.body)}b.exports=o,o.prototype.encode=function(f,u){return this.tree._encode(f,u).join()};function l(g){x.call(this,"der",g)}_(l,x),l.prototype._encodeComposite=function(f,u,E,d){const h=c(f,u,E,this.reporter);if(d.length<128){const A=D.alloc(2);return A[0]=h,A[1]=d.length,this._createEncoderBuffer([A,d])}let v=1;for(let A=d.length;A>=256;A>>=8)v++;const k=D.alloc(1+1+v);k[0]=h,k[1]=128|v;for(let A=1+v,R=d.length;R>0;A--,R>>=8)k[A]=R&255;return this._createEncoderBuffer([k,d])},l.prototype._encodeStr=function(f,u){if(u==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(u==="bmpstr"){const E=D.alloc(f.length*2);for(let d=0;d<f.length;d++)E.writeUInt16BE(f.charCodeAt(d),d*2);return this._createEncoderBuffer(E)}else return u==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(f):u==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+u+" unsupported")},l.prototype._encodeObjid=function(f,u,E){if(typeof f=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=u[f].split(/[\s.]+/g);for(let k=0;k<f.length;k++)f[k]|=0}else if(Array.isArray(f)){f=f.slice();for(let k=0;k<f.length;k++)f[k]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!E){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}let d=0;for(let k=0;k<f.length;k++){let A=f[k];for(d++;A>=128;A>>=7)d++}const h=D.alloc(d);let v=h.length-1;for(let k=f.length-1;k>=0;k--){let A=f[k];for(h[v--]=A&127;(A>>=7)>0;)h[v--]=128|A&127}return this._createEncoderBuffer(h)};function n(g){return g<10?"0"+g:g}l.prototype._encodeTime=function(f,u){let E;const d=new Date(f);return u==="gentime"?E=[n(d.getUTCFullYear()),n(d.getUTCMonth()+1),n(d.getUTCDate()),n(d.getUTCHours()),n(d.getUTCMinutes()),n(d.getUTCSeconds()),"Z"].join(""):u==="utctime"?E=[n(d.getUTCFullYear()%100),n(d.getUTCMonth()+1),n(d.getUTCDate()),n(d.getUTCHours()),n(d.getUTCMinutes()),n(d.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(E,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(f,u){if(typeof f=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=u[f]}if(typeof f!="number"&&!D.isBuffer(f)){const h=f.toArray();!f.sign&&h[0]&128&&h.unshift(0),f=D.from(h)}if(D.isBuffer(f)){let h=f.length;f.length===0&&h++;const v=D.alloc(h);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let E=1;for(let h=f;h>=256;h>>=8)E++;const d=new Array(E);for(let h=d.length-1;h>=0;h--)d[h]=f&255,f>>=8;return d[0]&128&&d.unshift(0),this._createEncoderBuffer(D.from(d))},l.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},l.prototype._use=function(f,u){return typeof f=="function"&&(f=f(u)),f._getEncoder("der").tree},l.prototype._skipDefault=function(f,u,E){const d=this._baseState;let h;if(d.default===null)return!1;const v=f.join();if(d.defaultBuffer===void 0&&(d.defaultBuffer=this._encodeValue(d.default,u,E).join()),v.length!==d.defaultBuffer.length)return!1;for(h=0;h<v.length;h++)if(v[h]!==d.defaultBuffer[h])return!1;return!0};function c(g,f,u,E){let d;if(g==="seqof"?g="seq":g==="setof"&&(g="set"),S.tagByName.hasOwnProperty(g))d=S.tagByName[g];else if(typeof g=="number"&&(g|0)===g)d=g;else return E.error("Unknown tag: "+g);return d>=31?E.error("Multi-octet tag encoding unsupported"):(f||(d|=32),d|=S.tagClassByName[u||"universal"]<<6,d)}},56579:(b,$,w)=>{"use strict";const _=$;_.der=w(66984),_.pem=w(2883)},2883:(b,$,w)=>{"use strict";const _=w(35717),D=w(66984);function x(S){D.call(this,S),this.enc="pem"}_(x,D),b.exports=x,x.prototype.encode=function(o,l){const c=D.prototype.encode.call(this,o).toString("base64"),g=["-----BEGIN "+l.label+"-----"];for(let f=0;f<c.length;f+=64)g.push(c.slice(f,f+64));return g.push("-----END "+l.label+"-----"),g.join(`
`)}},16314:(b,$,w)=>{"use strict";var _=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];b.exports=function(){for(var x=[],S=0;S<_.length;S++)typeof w.g[_[S]]=="function"&&(x[x.length]=_[S]);return x}},9669:(b,$,w)=>{b.exports=w(51609)},55448:(b,$,w)=>{"use strict";var _=w(64867),D=w(36026),x=w(4372),S=w(15327),o=w(94097),l=w(84109),n=w(67985),c=w(85061);b.exports=function(f){return new Promise(function(E,d){var h=f.data,v=f.headers;_.isFormData(h)&&delete v["Content-Type"];var k=new XMLHttpRequest;if(f.auth){var A=f.auth.username||"",R=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";v.Authorization="Basic "+btoa(A+":"+R)}var O=o(f.baseURL,f.url);if(k.open(f.method.toUpperCase(),S(O,f.params,f.paramsSerializer),!0),k.timeout=f.timeout,k.onreadystatechange=function(){if(!(!k||k.readyState!==4)&&!(k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0))){var ee="getAllResponseHeaders"in k?l(k.getAllResponseHeaders()):null,re=!f.responseType||f.responseType==="text"?k.responseText:k.response,ie={data:re,status:k.status,statusText:k.statusText,headers:ee,config:f,request:k};D(E,d,ie),k=null}},k.onabort=function(){!k||(d(c("Request aborted",f,"ECONNABORTED",k)),k=null)},k.onerror=function(){d(c("Network Error",f,null,k)),k=null},k.ontimeout=function(){var ee="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(ee=f.timeoutErrorMessage),d(c(ee,f,"ECONNABORTED",k)),k=null},_.isStandardBrowserEnv()){var V=(f.withCredentials||n(O))&&f.xsrfCookieName?x.read(f.xsrfCookieName):void 0;V&&(v[f.xsrfHeaderName]=V)}if("setRequestHeader"in k&&_.forEach(v,function(ee,re){typeof h=="undefined"&&re.toLowerCase()==="content-type"?delete v[re]:k.setRequestHeader(re,ee)}),_.isUndefined(f.withCredentials)||(k.withCredentials=!!f.withCredentials),f.responseType)try{k.responseType=f.responseType}catch(Y){if(f.responseType!=="json")throw Y}typeof f.onDownloadProgress=="function"&&k.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(ee){!k||(k.abort(),d(ee),k=null)}),h||(h=null),k.send(h)})}},51609:(b,$,w)=>{"use strict";var _=w(64867),D=w(91849),x=w(30321),S=w(47185),o=w(45655);function l(c){var g=new x(c),f=D(x.prototype.request,g);return _.extend(f,x.prototype,g),_.extend(f,g),f}var n=l(o);n.Axios=x,n.create=function(g){return l(S(n.defaults,g))},n.Cancel=w(65263),n.CancelToken=w(14972),n.isCancel=w(26502),n.all=function(g){return Promise.all(g)},n.spread=w(8713),n.isAxiosError=w(16268),b.exports=n,b.exports.default=n},65263:b=>{"use strict";function $(w){this.message=w}$.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},$.prototype.__CANCEL__=!0,b.exports=$},14972:(b,$,w)=>{"use strict";var _=w(65263);function D(x){if(typeof x!="function")throw new TypeError("executor must be a function.");var S;this.promise=new Promise(function(n){S=n});var o=this;x(function(n){o.reason||(o.reason=new _(n),S(o.reason))})}D.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},D.source=function(){var S,o=new D(function(n){S=n});return{token:o,cancel:S}},b.exports=D},26502:b=>{"use strict";b.exports=function(w){return!!(w&&w.__CANCEL__)}},30321:(b,$,w)=>{"use strict";var _=w(64867),D=w(15327),x=w(80782),S=w(13572),o=w(47185);function l(n){this.defaults=n,this.interceptors={request:new x,response:new x}}l.prototype.request=function(c){typeof c=="string"?(c=arguments[1]||{},c.url=arguments[0]):c=c||{},c=o(this.defaults,c),c.method?c.method=c.method.toLowerCase():this.defaults.method?c.method=this.defaults.method.toLowerCase():c.method="get";var g=[S,void 0],f=Promise.resolve(c);for(this.interceptors.request.forEach(function(E){g.unshift(E.fulfilled,E.rejected)}),this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});g.length;)f=f.then(g.shift(),g.shift());return f},l.prototype.getUri=function(c){return c=o(this.defaults,c),D(c.url,c.params,c.paramsSerializer).replace(/^\?/,"")},_.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(g,f){return this.request(o(f||{},{method:c,url:g,data:(f||{}).data}))}}),_.forEach(["post","put","patch"],function(c){l.prototype[c]=function(g,f,u){return this.request(o(u||{},{method:c,url:g,data:f}))}}),b.exports=l},80782:(b,$,w)=>{"use strict";var _=w(64867);function D(){this.handlers=[]}D.prototype.use=function(S,o){return this.handlers.push({fulfilled:S,rejected:o}),this.handlers.length-1},D.prototype.eject=function(S){this.handlers[S]&&(this.handlers[S]=null)},D.prototype.forEach=function(S){_.forEach(this.handlers,function(l){l!==null&&S(l)})},b.exports=D},94097:(b,$,w)=>{"use strict";var _=w(91793),D=w(7303);b.exports=function(S,o){return S&&!_(o)?D(S,o):o}},85061:(b,$,w)=>{"use strict";var _=w(80481);b.exports=function(x,S,o,l,n){var c=new Error(x);return _(c,S,o,l,n)}},13572:(b,$,w)=>{"use strict";var _=w(64867),D=w(18527),x=w(26502),S=w(45655);function o(l){l.cancelToken&&l.cancelToken.throwIfRequested()}b.exports=function(n){o(n),n.headers=n.headers||{},n.data=D(n.data,n.headers,n.transformRequest),n.headers=_.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),_.forEach(["delete","get","head","post","put","patch","common"],function(f){delete n.headers[f]});var c=n.adapter||S.adapter;return c(n).then(function(f){return o(n),f.data=D(f.data,f.headers,n.transformResponse),f},function(f){return x(f)||(o(n),f&&f.response&&(f.response.data=D(f.response.data,f.response.headers,n.transformResponse))),Promise.reject(f)})}},80481:b=>{"use strict";b.exports=function(w,_,D,x,S){return w.config=_,D&&(w.code=D),w.request=x,w.response=S,w.isAxiosError=!0,w.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},w}},47185:(b,$,w)=>{"use strict";var _=w(64867);b.exports=function(x,S){S=S||{};var o={},l=["url","method","data"],n=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],g=["validateStatus"];function f(h,v){return _.isPlainObject(h)&&_.isPlainObject(v)?_.merge(h,v):_.isPlainObject(v)?_.merge({},v):_.isArray(v)?v.slice():v}function u(h){_.isUndefined(S[h])?_.isUndefined(x[h])||(o[h]=f(void 0,x[h])):o[h]=f(x[h],S[h])}_.forEach(l,function(v){_.isUndefined(S[v])||(o[v]=f(void 0,S[v]))}),_.forEach(n,u),_.forEach(c,function(v){_.isUndefined(S[v])?_.isUndefined(x[v])||(o[v]=f(void 0,x[v])):o[v]=f(void 0,S[v])}),_.forEach(g,function(v){v in S?o[v]=f(x[v],S[v]):v in x&&(o[v]=f(void 0,x[v]))});var E=l.concat(n).concat(c).concat(g),d=Object.keys(x).concat(Object.keys(S)).filter(function(v){return E.indexOf(v)===-1});return _.forEach(d,u),o}},36026:(b,$,w)=>{"use strict";var _=w(85061);b.exports=function(x,S,o){var l=o.config.validateStatus;!o.status||!l||l(o.status)?x(o):S(_("Request failed with status code "+o.status,o.config,null,o.request,o))}},18527:(b,$,w)=>{"use strict";var _=w(64867);b.exports=function(x,S,o){return _.forEach(o,function(n){x=n(x,S)}),x}},45655:(b,$,w)=>{"use strict";var _=w(34155),D=w(64867),x=w(16016),S={"Content-Type":"application/x-www-form-urlencoded"};function o(c,g){!D.isUndefined(c)&&D.isUndefined(c["Content-Type"])&&(c["Content-Type"]=g)}function l(){var c;return(typeof XMLHttpRequest!="undefined"||typeof _!="undefined"&&Object.prototype.toString.call(_)==="[object process]")&&(c=w(55448)),c}var n={adapter:l(),transformRequest:[function(g,f){return x(f,"Accept"),x(f,"Content-Type"),D.isFormData(g)||D.isArrayBuffer(g)||D.isBuffer(g)||D.isStream(g)||D.isFile(g)||D.isBlob(g)?g:D.isArrayBufferView(g)?g.buffer:D.isURLSearchParams(g)?(o(f,"application/x-www-form-urlencoded;charset=utf-8"),g.toString()):D.isObject(g)?(o(f,"application/json;charset=utf-8"),JSON.stringify(g)):g}],transformResponse:[function(g){if(typeof g=="string")try{g=JSON.parse(g)}catch(f){}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(g){return g>=200&&g<300}};n.headers={common:{Accept:"application/json, text/plain, */*"}},D.forEach(["delete","get","head"],function(g){n.headers[g]={}}),D.forEach(["post","put","patch"],function(g){n.headers[g]=D.merge(S)}),b.exports=n},91849:b=>{"use strict";b.exports=function(w,_){return function(){for(var x=new Array(arguments.length),S=0;S<x.length;S++)x[S]=arguments[S];return w.apply(_,x)}}},15327:(b,$,w)=>{"use strict";var _=w(64867);function D(x){return encodeURIComponent(x).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}b.exports=function(S,o,l){if(!o)return S;var n;if(l)n=l(o);else if(_.isURLSearchParams(o))n=o.toString();else{var c=[];_.forEach(o,function(u,E){u===null||typeof u=="undefined"||(_.isArray(u)?E=E+"[]":u=[u],_.forEach(u,function(h){_.isDate(h)?h=h.toISOString():_.isObject(h)&&(h=JSON.stringify(h)),c.push(D(E)+"="+D(h))}))}),n=c.join("&")}if(n){var g=S.indexOf("#");g!==-1&&(S=S.slice(0,g)),S+=(S.indexOf("?")===-1?"?":"&")+n}return S}},7303:b=>{"use strict";b.exports=function(w,_){return _?w.replace(/\/+$/,"")+"/"+_.replace(/^\/+/,""):w}},4372:(b,$,w)=>{"use strict";var _=w(64867);b.exports=_.isStandardBrowserEnv()?function(){return{write:function(S,o,l,n,c,g){var f=[];f.push(S+"="+encodeURIComponent(o)),_.isNumber(l)&&f.push("expires="+new Date(l).toGMTString()),_.isString(n)&&f.push("path="+n),_.isString(c)&&f.push("domain="+c),g===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(S){var o=document.cookie.match(new RegExp("(^|;\\s*)("+S+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(S){this.write(S,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},91793:b=>{"use strict";b.exports=function(w){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(w)}},16268:b=>{"use strict";b.exports=function(w){return typeof w=="object"&&w.isAxiosError===!0}},67985:(b,$,w)=>{"use strict";var _=w(64867);b.exports=_.isStandardBrowserEnv()?function(){var x=/(msie|trident)/i.test(navigator.userAgent),S=document.createElement("a"),o;function l(n){var c=n;return x&&(S.setAttribute("href",c),c=S.href),S.setAttribute("href",c),{href:S.href,protocol:S.protocol?S.protocol.replace(/:$/,""):"",host:S.host,search:S.search?S.search.replace(/^\?/,""):"",hash:S.hash?S.hash.replace(/^#/,""):"",hostname:S.hostname,port:S.port,pathname:S.pathname.charAt(0)==="/"?S.pathname:"/"+S.pathname}}return o=l(window.location.href),function(c){var g=_.isString(c)?l(c):c;return g.protocol===o.protocol&&g.host===o.host}}():function(){return function(){return!0}}()},16016:(b,$,w)=>{"use strict";var _=w(64867);b.exports=function(x,S){_.forEach(x,function(l,n){n!==S&&n.toUpperCase()===S.toUpperCase()&&(x[S]=l,delete x[n])})}},84109:(b,$,w)=>{"use strict";var _=w(64867),D=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];b.exports=function(S){var o={},l,n,c;return S&&_.forEach(S.split(`
`),function(f){if(c=f.indexOf(":"),l=_.trim(f.substr(0,c)).toLowerCase(),n=_.trim(f.substr(c+1)),l){if(o[l]&&D.indexOf(l)>=0)return;l==="set-cookie"?o[l]=(o[l]?o[l]:[]).concat([n]):o[l]=o[l]?o[l]+", "+n:n}}),o}},8713:b=>{"use strict";b.exports=function(w){return function(D){return w.apply(null,D)}}},64867:(b,$,w)=>{"use strict";var _=w(91849),D=Object.prototype.toString;function x(ne){return D.call(ne)==="[object Array]"}function S(ne){return typeof ne=="undefined"}function o(ne){return ne!==null&&!S(ne)&&ne.constructor!==null&&!S(ne.constructor)&&typeof ne.constructor.isBuffer=="function"&&ne.constructor.isBuffer(ne)}function l(ne){return D.call(ne)==="[object ArrayBuffer]"}function n(ne){return typeof FormData!="undefined"&&ne instanceof FormData}function c(ne){var ue;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ue=ArrayBuffer.isView(ne):ue=ne&&ne.buffer&&ne.buffer instanceof ArrayBuffer,ue}function g(ne){return typeof ne=="string"}function f(ne){return typeof ne=="number"}function u(ne){return ne!==null&&typeof ne=="object"}function E(ne){if(D.call(ne)!=="[object Object]")return!1;var ue=Object.getPrototypeOf(ne);return ue===null||ue===Object.prototype}function d(ne){return D.call(ne)==="[object Date]"}function h(ne){return D.call(ne)==="[object File]"}function v(ne){return D.call(ne)==="[object Blob]"}function k(ne){return D.call(ne)==="[object Function]"}function A(ne){return u(ne)&&k(ne.pipe)}function R(ne){return typeof URLSearchParams!="undefined"&&ne instanceof URLSearchParams}function O(ne){return ne.replace(/^\s*/,"").replace(/\s*$/,"")}function V(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Y(ne,ue){if(!(ne===null||typeof ne=="undefined"))if(typeof ne!="object"&&(ne=[ne]),x(ne))for(var W=0,T=ne.length;W<T;W++)ue.call(null,ne[W],W,ne);else for(var L in ne)Object.prototype.hasOwnProperty.call(ne,L)&&ue.call(null,ne[L],L,ne)}function ee(){var ne={};function ue(L,C){E(ne[C])&&E(L)?ne[C]=ee(ne[C],L):E(L)?ne[C]=ee({},L):x(L)?ne[C]=L.slice():ne[C]=L}for(var W=0,T=arguments.length;W<T;W++)Y(arguments[W],ue);return ne}function re(ne,ue,W){return Y(ue,function(L,C){W&&typeof L=="function"?ne[C]=_(L,W):ne[C]=L}),ne}function ie(ne){return ne.charCodeAt(0)===65279&&(ne=ne.slice(1)),ne}b.exports={isArray:x,isArrayBuffer:l,isBuffer:o,isFormData:n,isArrayBufferView:c,isString:g,isNumber:f,isObject:u,isPlainObject:E,isUndefined:S,isDate:d,isFile:h,isBlob:v,isFunction:k,isStream:A,isURLSearchParams:R,isStandardBrowserEnv:V,forEach:Y,merge:ee,extend:re,trim:O,stripBOM:ie}},79742:(b,$)=>{"use strict";$.byteLength=n,$.toByteArray=g,$.fromByteArray=E;for(var w=[],_=[],D=typeof Uint8Array!="undefined"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,o=x.length;S<o;++S)w[S]=x[S],_[x.charCodeAt(S)]=S;_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63;function l(d){var h=d.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=d.indexOf("=");v===-1&&(v=h);var k=v===h?0:4-v%4;return[v,k]}function n(d){var h=l(d),v=h[0],k=h[1];return(v+k)*3/4-k}function c(d,h,v){return(h+v)*3/4-v}function g(d){var h,v=l(d),k=v[0],A=v[1],R=new D(c(d,k,A)),O=0,V=A>0?k-4:k,Y;for(Y=0;Y<V;Y+=4)h=_[d.charCodeAt(Y)]<<18|_[d.charCodeAt(Y+1)]<<12|_[d.charCodeAt(Y+2)]<<6|_[d.charCodeAt(Y+3)],R[O++]=h>>16&255,R[O++]=h>>8&255,R[O++]=h&255;return A===2&&(h=_[d.charCodeAt(Y)]<<2|_[d.charCodeAt(Y+1)]>>4,R[O++]=h&255),A===1&&(h=_[d.charCodeAt(Y)]<<10|_[d.charCodeAt(Y+1)]<<4|_[d.charCodeAt(Y+2)]>>2,R[O++]=h>>8&255,R[O++]=h&255),R}function f(d){return w[d>>18&63]+w[d>>12&63]+w[d>>6&63]+w[d&63]}function u(d,h,v){for(var k,A=[],R=h;R<v;R+=3)k=(d[R]<<16&16711680)+(d[R+1]<<8&65280)+(d[R+2]&255),A.push(f(k));return A.join("")}function E(d){for(var h,v=d.length,k=v%3,A=[],R=16383,O=0,V=v-k;O<V;O+=R)A.push(u(d,O,O+R>V?V:O+R));return k===1?(h=d[v-1],A.push(w[h>>2]+w[h<<4&63]+"==")):k===2&&(h=(d[v-2]<<8)+d[v-1],A.push(w[h>>10]+w[h>>4&63]+w[h<<2&63]+"=")),A.join("")}},85186:(b,$,w)=>{var _=w(23698),D=w(92505),x=w(26417),S=Function.bind,o=S.bind(S);function l(u,E,d){var h=o(x,null).apply(null,d?[E,d]:[E]);u.api={remove:h},u.remove=h,["before","error","after","wrap"].forEach(function(v){var k=d?[E,v,d]:[E,v];u[v]=u.api[v]=o(D,null).apply(null,k)})}function n(){var u="h",E={registry:{}},d=_.bind(null,E,u);return l(d,E,u),d}function c(){var u={registry:{}},E=_.bind(null,u);return l(E,u),E}var g=!1;function f(){return g||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),g=!0),c()}f.Singular=n.bind(),f.Collection=c.bind(),b.exports=f,b.exports.Hook=f,b.exports.Singular=f.Singular,b.exports.Collection=f.Collection},92505:b=>{b.exports=$;function $(w,_,D,x){var S=x;w.registry[D]||(w.registry[D]=[]),_==="before"&&(x=function(o,l){return Promise.resolve().then(S.bind(null,l)).then(o.bind(null,l))}),_==="after"&&(x=function(o,l){var n;return Promise.resolve().then(o.bind(null,l)).then(function(c){return n=c,S(n,l)}).then(function(){return n})}),_==="error"&&(x=function(o,l){return Promise.resolve().then(o.bind(null,l)).catch(function(n){return S(n,l)})}),w.registry[D].push({hook:x,orig:S})}},23698:b=>{b.exports=$;function $(w,_,D,x){if(typeof D!="function")throw new Error("method for before hook must be a function");return x||(x={}),Array.isArray(_)?_.reverse().reduce(function(S,o){return $.bind(null,w,o,S,x)},D)():Promise.resolve().then(function(){return w.registry[_]?w.registry[_].reduce(function(S,o){return o.hook.bind(null,S,x)},D)():D(x)})}},26417:b=>{b.exports=$;function $(w,_,D){if(!!w.registry[_]){var x=w.registry[_].map(function(S){return S.orig}).indexOf(D);x!==-1&&w.registry[_].splice(x,1)}}},13550:function(b,$,w){b=w.nmd(b),function(_,D){"use strict";function x(W,T){if(!W)throw new Error(T||"Assertion failed")}function S(W,T){W.super_=T;var L=function(){};L.prototype=T.prototype,W.prototype=new L,W.prototype.constructor=W}function o(W,T,L){if(o.isBN(W))return W;this.negative=0,this.words=null,this.length=0,this.red=null,W!==null&&((T==="le"||T==="be")&&(L=T,T=10),this._init(W||0,T||10,L||"be"))}typeof _=="object"?_.exports=o:D.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=w(46601).Buffer}catch(W){}o.isBN=function(T){return T instanceof o?!0:T!==null&&typeof T=="object"&&T.constructor.wordSize===o.wordSize&&Array.isArray(T.words)},o.max=function(T,L){return T.cmp(L)>0?T:L},o.min=function(T,L){return T.cmp(L)<0?T:L},o.prototype._init=function(T,L,C){if(typeof T=="number")return this._initNumber(T,L,C);if(typeof T=="object")return this._initArray(T,L,C);L==="hex"&&(L=16),x(L===(L|0)&&L>=2&&L<=36),T=T.toString().replace(/\s+/g,"");var s=0;T[0]==="-"&&(s++,this.negative=1),s<T.length&&(L===16?this._parseHex(T,s,C):(this._parseBase(T,L,s),C==="le"&&this._initArray(this.toArray(),L,C)))},o.prototype._initNumber=function(T,L,C){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[T&67108863],this.length=1):T<4503599627370496?(this.words=[T&67108863,T/67108864&67108863],this.length=2):(x(T<9007199254740992),this.words=[T&67108863,T/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),L,C)},o.prototype._initArray=function(T,L,C){if(x(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,N,I=0;if(C==="be")for(s=T.length-1,m=0;s>=0;s-=3)N=T[s]|T[s-1]<<8|T[s-2]<<16,this.words[m]|=N<<I&67108863,this.words[m+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);else if(C==="le")for(s=0,m=0;s<T.length;s+=3)N=T[s]|T[s+1]<<8|T[s+2]<<16,this.words[m]|=N<<I&67108863,this.words[m+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);return this.strip()};function n(W,T){var L=W.charCodeAt(T);return L>=65&&L<=70?L-55:L>=97&&L<=102?L-87:L-48&15}function c(W,T,L){var C=n(W,L);return L-1>=T&&(C|=n(W,L-1)<<4),C}o.prototype._parseHex=function(T,L,C){this.length=Math.ceil((T.length-L)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,N=0,I;if(C==="be")for(s=T.length-1;s>=L;s-=2)I=c(T,L,s)<<m,this.words[N]|=I&67108863,m>=18?(m-=18,N+=1,this.words[N]|=I>>>26):m+=8;else{var F=T.length-L;for(s=F%2==0?L+1:L;s<T.length;s+=2)I=c(T,L,s)<<m,this.words[N]|=I&67108863,m>=18?(m-=18,N+=1,this.words[N]|=I>>>26):m+=8}this.strip()};function g(W,T,L,C){for(var s=0,m=Math.min(W.length,L),N=T;N<m;N++){var I=W.charCodeAt(N)-48;s*=C,I>=49?s+=I-49+10:I>=17?s+=I-17+10:s+=I}return s}o.prototype._parseBase=function(T,L,C){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=L)s++;s--,m=m/L|0;for(var N=T.length-C,I=N%s,F=Math.min(N,N-I)+C,P=0,j=C;j<F;j+=s)P=g(T,j,j+s,L),this.imuln(m),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(I!==0){var G=1;for(P=g(T,j,T.length,L),j=0;j<I;j++)G*=L;this.imuln(G),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},o.prototype.copy=function(T){T.words=new Array(this.length);for(var L=0;L<this.length;L++)T.words[L]=this.words[L];T.length=this.length,T.negative=this.negative,T.red=this.red},o.prototype.clone=function(){var T=new o(null);return this.copy(T),T},o.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(T,L){T=T||10,L=L|0||1;var C;if(T===16||T==="hex"){C="";for(var s=0,m=0,N=0;N<this.length;N++){var I=this.words[N],F=((I<<s|m)&16777215).toString(16);m=I>>>24-s&16777215,m!==0||N!==this.length-1?C=f[6-F.length]+F+C:C=F+C,s+=2,s>=26&&(s-=26,N--)}for(m!==0&&(C=m.toString(16)+C);C.length%L!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(T===(T|0)&&T>=2&&T<=36){var P=u[T],j=E[T];C="";var G=this.clone();for(G.negative=0;!G.isZero();){var y=G.modn(j).toString(T);G=G.idivn(j),G.isZero()?C=y+C:C=f[P-y.length]+y+C}for(this.isZero()&&(C="0"+C);C.length%L!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}x(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=this.words[1]*67108864:this.length===3&&this.words[2]===1?T+=4503599627370496+this.words[1]*67108864:this.length>2&&x(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(T,L){return x(typeof l!="undefined"),this.toArrayLike(l,T,L)},o.prototype.toArray=function(T,L){return this.toArrayLike(Array,T,L)},o.prototype.toArrayLike=function(T,L,C){var s=this.byteLength(),m=C||Math.max(1,s);x(s<=m,"byte array longer than desired length"),x(m>0,"Requested array length <= 0"),this.strip();var N=L==="le",I=new T(m),F,P,j=this.clone();if(N){for(P=0;!j.isZero();P++)F=j.andln(255),j.iushrn(8),I[P]=F;for(;P<m;P++)I[P]=0}else{for(P=0;P<m-s;P++)I[P]=0;for(P=0;!j.isZero();P++)F=j.andln(255),j.iushrn(8),I[m-P-1]=F}return I},Math.clz32?o.prototype._countBits=function(T){return 32-Math.clz32(T)}:o.prototype._countBits=function(T){var L=T,C=0;return L>=4096&&(C+=13,L>>>=13),L>=64&&(C+=7,L>>>=7),L>=8&&(C+=4,L>>>=4),L>=2&&(C+=2,L>>>=2),C+L},o.prototype._zeroBits=function(T){if(T===0)return 26;var L=T,C=0;return(L&8191)==0&&(C+=13,L>>>=13),(L&127)==0&&(C+=7,L>>>=7),(L&15)==0&&(C+=4,L>>>=4),(L&3)==0&&(C+=2,L>>>=2),(L&1)==0&&C++,C},o.prototype.bitLength=function(){var T=this.words[this.length-1],L=this._countBits(T);return(this.length-1)*26+L};function d(W){for(var T=new Array(W.bitLength()),L=0;L<T.length;L++){var C=L/26|0,s=L%26;T[L]=(W.words[C]&1<<s)>>>s}return T}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,L=0;L<this.length;L++){var C=this._zeroBits(this.words[L]);if(T+=C,C!==26)break}return T},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},o.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var L=0;L<T.length;L++)this.words[L]=this.words[L]|T.words[L];return this.strip()},o.prototype.ior=function(T){return x((this.negative|T.negative)==0),this.iuor(T)},o.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},o.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},o.prototype.iuand=function(T){var L;this.length>T.length?L=T:L=this;for(var C=0;C<L.length;C++)this.words[C]=this.words[C]&T.words[C];return this.length=L.length,this.strip()},o.prototype.iand=function(T){return x((this.negative|T.negative)==0),this.iuand(T)},o.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},o.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},o.prototype.iuxor=function(T){var L,C;this.length>T.length?(L=this,C=T):(L=T,C=this);for(var s=0;s<C.length;s++)this.words[s]=L.words[s]^C.words[s];if(this!==L)for(;s<L.length;s++)this.words[s]=L.words[s];return this.length=L.length,this.strip()},o.prototype.ixor=function(T){return x((this.negative|T.negative)==0),this.iuxor(T)},o.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},o.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},o.prototype.inotn=function(T){x(typeof T=="number"&&T>=0);var L=Math.ceil(T/26)|0,C=T%26;this._expand(L),C>0&&L--;for(var s=0;s<L;s++)this.words[s]=~this.words[s]&67108863;return C>0&&(this.words[s]=~this.words[s]&67108863>>26-C),this.strip()},o.prototype.notn=function(T){return this.clone().inotn(T)},o.prototype.setn=function(T,L){x(typeof T=="number"&&T>=0);var C=T/26|0,s=T%26;return this._expand(C+1),L?this.words[C]=this.words[C]|1<<s:this.words[C]=this.words[C]&~(1<<s),this.strip()},o.prototype.iadd=function(T){var L;if(this.negative!==0&&T.negative===0)return this.negative=0,L=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,L=this.isub(T),T.negative=1,L._normSign();var C,s;this.length>T.length?(C=this,s=T):(C=T,s=this);for(var m=0,N=0;N<s.length;N++)L=(C.words[N]|0)+(s.words[N]|0)+m,this.words[N]=L&67108863,m=L>>>26;for(;m!==0&&N<C.length;N++)L=(C.words[N]|0)+m,this.words[N]=L&67108863,m=L>>>26;if(this.length=C.length,m!==0)this.words[this.length]=m,this.length++;else if(C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this},o.prototype.add=function(T){var L;return T.negative!==0&&this.negative===0?(T.negative=0,L=this.sub(T),T.negative^=1,L):T.negative===0&&this.negative!==0?(this.negative=0,L=T.sub(this),this.negative=1,L):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},o.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var L=this.iadd(T);return T.negative=1,L._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var C=this.cmp(T);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;C>0?(s=this,m=T):(s=T,m=this);for(var N=0,I=0;I<m.length;I++)L=(s.words[I]|0)-(m.words[I]|0)+N,N=L>>26,this.words[I]=L&67108863;for(;N!==0&&I<s.length;I++)L=(s.words[I]|0)+N,N=L>>26,this.words[I]=L&67108863;if(N===0&&I<s.length&&s!==this)for(;I<s.length;I++)this.words[I]=s.words[I];return this.length=Math.max(this.length,I),s!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(T){return this.clone().isub(T)};function h(W,T,L){L.negative=T.negative^W.negative;var C=W.length+T.length|0;L.length=C,C=C-1|0;var s=W.words[0]|0,m=T.words[0]|0,N=s*m,I=N&67108863,F=N/67108864|0;L.words[0]=I;for(var P=1;P<C;P++){for(var j=F>>>26,G=F&67108863,y=Math.min(P,T.length-1),H=Math.max(0,P-W.length+1);H<=y;H++){var fe=P-H|0;s=W.words[fe]|0,m=T.words[H]|0,N=s*m+G,j+=N/67108864|0,G=N&67108863}L.words[P]=G|0,F=j|0}return F!==0?L.words[P]=F|0:L.length--,L.strip()}var v=function(T,L,C){var s=T.words,m=L.words,N=C.words,I=0,F,P,j,G=s[0]|0,y=G&8191,H=G>>>13,fe=s[1]|0,ve=fe&8191,ye=fe>>>13,Ee=s[2]|0,J=Ee&8191,Z=Ee>>>13,ce=s[3]|0,me=ce&8191,be=ce>>>13,q=s[4]|0,U=q&8191,oe=q>>>13,ge=s[5]|0,Me=ge&8191,he=ge>>>13,Te=s[6]|0,Ae=Te&8191,Ce=Te>>>13,ut=s[7]|0,qe=ut&8191,De=ut>>>13,lt=s[8]|0,se=lt&8191,Q=lt>>>13,X=s[9]|0,le=X&8191,pe=X>>>13,ke=m[0]|0,we=ke&8191,Ne=ke>>>13,ft=m[1]|0,Ie=ft&8191,Be=ft>>>13,dt=m[2]|0,Ve=dt&8191,je=dt>>>13,hr=m[3]|0,ze=hr&8191,We=hr>>>13,$t=m[4]|0,Qe=$t&8191,Je=$t>>>13,Er=m[5]|0,Le=Er&8191,He=Er>>>13,it=m[6]|0,Ke=it&8191,Ye=it>>>13,Rr=m[7]|0,Ze=Rr&8191,Ge=Rr>>>13,pr=m[8]|0,Xe=pr&8191,et=pr>>>13,mr=m[9]|0,tt=mr&8191,rt=mr>>>13;C.negative=T.negative^L.negative,C.length=19,F=Math.imul(y,we),P=Math.imul(y,Ne),P=P+Math.imul(H,we)|0,j=Math.imul(H,Ne);var Ht=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,F=Math.imul(ve,we),P=Math.imul(ve,Ne),P=P+Math.imul(ye,we)|0,j=Math.imul(ye,Ne),F=F+Math.imul(y,Ie)|0,P=P+Math.imul(y,Be)|0,P=P+Math.imul(H,Ie)|0,j=j+Math.imul(H,Be)|0;var at=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(at>>>26)|0,at&=67108863,F=Math.imul(J,we),P=Math.imul(J,Ne),P=P+Math.imul(Z,we)|0,j=Math.imul(Z,Ne),F=F+Math.imul(ve,Ie)|0,P=P+Math.imul(ve,Be)|0,P=P+Math.imul(ye,Ie)|0,j=j+Math.imul(ye,Be)|0,F=F+Math.imul(y,Ve)|0,P=P+Math.imul(y,je)|0,P=P+Math.imul(H,Ve)|0,j=j+Math.imul(H,je)|0;var ot=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(ot>>>26)|0,ot&=67108863,F=Math.imul(me,we),P=Math.imul(me,Ne),P=P+Math.imul(be,we)|0,j=Math.imul(be,Ne),F=F+Math.imul(J,Ie)|0,P=P+Math.imul(J,Be)|0,P=P+Math.imul(Z,Ie)|0,j=j+Math.imul(Z,Be)|0,F=F+Math.imul(ve,Ve)|0,P=P+Math.imul(ve,je)|0,P=P+Math.imul(ye,Ve)|0,j=j+Math.imul(ye,je)|0,F=F+Math.imul(y,ze)|0,P=P+Math.imul(y,We)|0,P=P+Math.imul(H,ze)|0,j=j+Math.imul(H,We)|0;var Gt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,F=Math.imul(U,we),P=Math.imul(U,Ne),P=P+Math.imul(oe,we)|0,j=Math.imul(oe,Ne),F=F+Math.imul(me,Ie)|0,P=P+Math.imul(me,Be)|0,P=P+Math.imul(be,Ie)|0,j=j+Math.imul(be,Be)|0,F=F+Math.imul(J,Ve)|0,P=P+Math.imul(J,je)|0,P=P+Math.imul(Z,Ve)|0,j=j+Math.imul(Z,je)|0,F=F+Math.imul(ve,ze)|0,P=P+Math.imul(ve,We)|0,P=P+Math.imul(ye,ze)|0,j=j+Math.imul(ye,We)|0,F=F+Math.imul(y,Qe)|0,P=P+Math.imul(y,Je)|0,P=P+Math.imul(H,Qe)|0,j=j+Math.imul(H,Je)|0;var Vt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,F=Math.imul(Me,we),P=Math.imul(Me,Ne),P=P+Math.imul(he,we)|0,j=Math.imul(he,Ne),F=F+Math.imul(U,Ie)|0,P=P+Math.imul(U,Be)|0,P=P+Math.imul(oe,Ie)|0,j=j+Math.imul(oe,Be)|0,F=F+Math.imul(me,Ve)|0,P=P+Math.imul(me,je)|0,P=P+Math.imul(be,Ve)|0,j=j+Math.imul(be,je)|0,F=F+Math.imul(J,ze)|0,P=P+Math.imul(J,We)|0,P=P+Math.imul(Z,ze)|0,j=j+Math.imul(Z,We)|0,F=F+Math.imul(ve,Qe)|0,P=P+Math.imul(ve,Je)|0,P=P+Math.imul(ye,Qe)|0,j=j+Math.imul(ye,Je)|0,F=F+Math.imul(y,Le)|0,P=P+Math.imul(y,He)|0,P=P+Math.imul(H,Le)|0,j=j+Math.imul(H,He)|0;var er=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(er>>>26)|0,er&=67108863,F=Math.imul(Ae,we),P=Math.imul(Ae,Ne),P=P+Math.imul(Ce,we)|0,j=Math.imul(Ce,Ne),F=F+Math.imul(Me,Ie)|0,P=P+Math.imul(Me,Be)|0,P=P+Math.imul(he,Ie)|0,j=j+Math.imul(he,Be)|0,F=F+Math.imul(U,Ve)|0,P=P+Math.imul(U,je)|0,P=P+Math.imul(oe,Ve)|0,j=j+Math.imul(oe,je)|0,F=F+Math.imul(me,ze)|0,P=P+Math.imul(me,We)|0,P=P+Math.imul(be,ze)|0,j=j+Math.imul(be,We)|0,F=F+Math.imul(J,Qe)|0,P=P+Math.imul(J,Je)|0,P=P+Math.imul(Z,Qe)|0,j=j+Math.imul(Z,Je)|0,F=F+Math.imul(ve,Le)|0,P=P+Math.imul(ve,He)|0,P=P+Math.imul(ye,Le)|0,j=j+Math.imul(ye,He)|0,F=F+Math.imul(y,Ke)|0,P=P+Math.imul(y,Ye)|0,P=P+Math.imul(H,Ke)|0,j=j+Math.imul(H,Ye)|0;var tr=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(qe,we),P=Math.imul(qe,Ne),P=P+Math.imul(De,we)|0,j=Math.imul(De,Ne),F=F+Math.imul(Ae,Ie)|0,P=P+Math.imul(Ae,Be)|0,P=P+Math.imul(Ce,Ie)|0,j=j+Math.imul(Ce,Be)|0,F=F+Math.imul(Me,Ve)|0,P=P+Math.imul(Me,je)|0,P=P+Math.imul(he,Ve)|0,j=j+Math.imul(he,je)|0,F=F+Math.imul(U,ze)|0,P=P+Math.imul(U,We)|0,P=P+Math.imul(oe,ze)|0,j=j+Math.imul(oe,We)|0,F=F+Math.imul(me,Qe)|0,P=P+Math.imul(me,Je)|0,P=P+Math.imul(be,Qe)|0,j=j+Math.imul(be,Je)|0,F=F+Math.imul(J,Le)|0,P=P+Math.imul(J,He)|0,P=P+Math.imul(Z,Le)|0,j=j+Math.imul(Z,He)|0,F=F+Math.imul(ve,Ke)|0,P=P+Math.imul(ve,Ye)|0,P=P+Math.imul(ye,Ke)|0,j=j+Math.imul(ye,Ye)|0,F=F+Math.imul(y,Ze)|0,P=P+Math.imul(y,Ge)|0,P=P+Math.imul(H,Ze)|0,j=j+Math.imul(H,Ge)|0;var Kt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(se,we),P=Math.imul(se,Ne),P=P+Math.imul(Q,we)|0,j=Math.imul(Q,Ne),F=F+Math.imul(qe,Ie)|0,P=P+Math.imul(qe,Be)|0,P=P+Math.imul(De,Ie)|0,j=j+Math.imul(De,Be)|0,F=F+Math.imul(Ae,Ve)|0,P=P+Math.imul(Ae,je)|0,P=P+Math.imul(Ce,Ve)|0,j=j+Math.imul(Ce,je)|0,F=F+Math.imul(Me,ze)|0,P=P+Math.imul(Me,We)|0,P=P+Math.imul(he,ze)|0,j=j+Math.imul(he,We)|0,F=F+Math.imul(U,Qe)|0,P=P+Math.imul(U,Je)|0,P=P+Math.imul(oe,Qe)|0,j=j+Math.imul(oe,Je)|0,F=F+Math.imul(me,Le)|0,P=P+Math.imul(me,He)|0,P=P+Math.imul(be,Le)|0,j=j+Math.imul(be,He)|0,F=F+Math.imul(J,Ke)|0,P=P+Math.imul(J,Ye)|0,P=P+Math.imul(Z,Ke)|0,j=j+Math.imul(Z,Ye)|0,F=F+Math.imul(ve,Ze)|0,P=P+Math.imul(ve,Ge)|0,P=P+Math.imul(ye,Ze)|0,j=j+Math.imul(ye,Ge)|0,F=F+Math.imul(y,Xe)|0,P=P+Math.imul(y,et)|0,P=P+Math.imul(H,Xe)|0,j=j+Math.imul(H,et)|0;var rr=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(rr>>>26)|0,rr&=67108863,F=Math.imul(le,we),P=Math.imul(le,Ne),P=P+Math.imul(pe,we)|0,j=Math.imul(pe,Ne),F=F+Math.imul(se,Ie)|0,P=P+Math.imul(se,Be)|0,P=P+Math.imul(Q,Ie)|0,j=j+Math.imul(Q,Be)|0,F=F+Math.imul(qe,Ve)|0,P=P+Math.imul(qe,je)|0,P=P+Math.imul(De,Ve)|0,j=j+Math.imul(De,je)|0,F=F+Math.imul(Ae,ze)|0,P=P+Math.imul(Ae,We)|0,P=P+Math.imul(Ce,ze)|0,j=j+Math.imul(Ce,We)|0,F=F+Math.imul(Me,Qe)|0,P=P+Math.imul(Me,Je)|0,P=P+Math.imul(he,Qe)|0,j=j+Math.imul(he,Je)|0,F=F+Math.imul(U,Le)|0,P=P+Math.imul(U,He)|0,P=P+Math.imul(oe,Le)|0,j=j+Math.imul(oe,He)|0,F=F+Math.imul(me,Ke)|0,P=P+Math.imul(me,Ye)|0,P=P+Math.imul(be,Ke)|0,j=j+Math.imul(be,Ye)|0,F=F+Math.imul(J,Ze)|0,P=P+Math.imul(J,Ge)|0,P=P+Math.imul(Z,Ze)|0,j=j+Math.imul(Z,Ge)|0,F=F+Math.imul(ve,Xe)|0,P=P+Math.imul(ve,et)|0,P=P+Math.imul(ye,Xe)|0,j=j+Math.imul(ye,et)|0,F=F+Math.imul(y,tt)|0,P=P+Math.imul(y,rt)|0,P=P+Math.imul(H,tt)|0,j=j+Math.imul(H,rt)|0;var ir=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(ir>>>26)|0,ir&=67108863,F=Math.imul(le,Ie),P=Math.imul(le,Be),P=P+Math.imul(pe,Ie)|0,j=Math.imul(pe,Be),F=F+Math.imul(se,Ve)|0,P=P+Math.imul(se,je)|0,P=P+Math.imul(Q,Ve)|0,j=j+Math.imul(Q,je)|0,F=F+Math.imul(qe,ze)|0,P=P+Math.imul(qe,We)|0,P=P+Math.imul(De,ze)|0,j=j+Math.imul(De,We)|0,F=F+Math.imul(Ae,Qe)|0,P=P+Math.imul(Ae,Je)|0,P=P+Math.imul(Ce,Qe)|0,j=j+Math.imul(Ce,Je)|0,F=F+Math.imul(Me,Le)|0,P=P+Math.imul(Me,He)|0,P=P+Math.imul(he,Le)|0,j=j+Math.imul(he,He)|0,F=F+Math.imul(U,Ke)|0,P=P+Math.imul(U,Ye)|0,P=P+Math.imul(oe,Ke)|0,j=j+Math.imul(oe,Ye)|0,F=F+Math.imul(me,Ze)|0,P=P+Math.imul(me,Ge)|0,P=P+Math.imul(be,Ze)|0,j=j+Math.imul(be,Ge)|0,F=F+Math.imul(J,Xe)|0,P=P+Math.imul(J,et)|0,P=P+Math.imul(Z,Xe)|0,j=j+Math.imul(Z,et)|0,F=F+Math.imul(ve,tt)|0,P=P+Math.imul(ve,rt)|0,P=P+Math.imul(ye,tt)|0,j=j+Math.imul(ye,rt)|0;var nr=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(le,Ve),P=Math.imul(le,je),P=P+Math.imul(pe,Ve)|0,j=Math.imul(pe,je),F=F+Math.imul(se,ze)|0,P=P+Math.imul(se,We)|0,P=P+Math.imul(Q,ze)|0,j=j+Math.imul(Q,We)|0,F=F+Math.imul(qe,Qe)|0,P=P+Math.imul(qe,Je)|0,P=P+Math.imul(De,Qe)|0,j=j+Math.imul(De,Je)|0,F=F+Math.imul(Ae,Le)|0,P=P+Math.imul(Ae,He)|0,P=P+Math.imul(Ce,Le)|0,j=j+Math.imul(Ce,He)|0,F=F+Math.imul(Me,Ke)|0,P=P+Math.imul(Me,Ye)|0,P=P+Math.imul(he,Ke)|0,j=j+Math.imul(he,Ye)|0,F=F+Math.imul(U,Ze)|0,P=P+Math.imul(U,Ge)|0,P=P+Math.imul(oe,Ze)|0,j=j+Math.imul(oe,Ge)|0,F=F+Math.imul(me,Xe)|0,P=P+Math.imul(me,et)|0,P=P+Math.imul(be,Xe)|0,j=j+Math.imul(be,et)|0,F=F+Math.imul(J,tt)|0,P=P+Math.imul(J,rt)|0,P=P+Math.imul(Z,tt)|0,j=j+Math.imul(Z,rt)|0;var sr=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(sr>>>26)|0,sr&=67108863,F=Math.imul(le,ze),P=Math.imul(le,We),P=P+Math.imul(pe,ze)|0,j=Math.imul(pe,We),F=F+Math.imul(se,Qe)|0,P=P+Math.imul(se,Je)|0,P=P+Math.imul(Q,Qe)|0,j=j+Math.imul(Q,Je)|0,F=F+Math.imul(qe,Le)|0,P=P+Math.imul(qe,He)|0,P=P+Math.imul(De,Le)|0,j=j+Math.imul(De,He)|0,F=F+Math.imul(Ae,Ke)|0,P=P+Math.imul(Ae,Ye)|0,P=P+Math.imul(Ce,Ke)|0,j=j+Math.imul(Ce,Ye)|0,F=F+Math.imul(Me,Ze)|0,P=P+Math.imul(Me,Ge)|0,P=P+Math.imul(he,Ze)|0,j=j+Math.imul(he,Ge)|0,F=F+Math.imul(U,Xe)|0,P=P+Math.imul(U,et)|0,P=P+Math.imul(oe,Xe)|0,j=j+Math.imul(oe,et)|0,F=F+Math.imul(me,tt)|0,P=P+Math.imul(me,rt)|0,P=P+Math.imul(be,tt)|0,j=j+Math.imul(be,rt)|0;var Yt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,F=Math.imul(le,Qe),P=Math.imul(le,Je),P=P+Math.imul(pe,Qe)|0,j=Math.imul(pe,Je),F=F+Math.imul(se,Le)|0,P=P+Math.imul(se,He)|0,P=P+Math.imul(Q,Le)|0,j=j+Math.imul(Q,He)|0,F=F+Math.imul(qe,Ke)|0,P=P+Math.imul(qe,Ye)|0,P=P+Math.imul(De,Ke)|0,j=j+Math.imul(De,Ye)|0,F=F+Math.imul(Ae,Ze)|0,P=P+Math.imul(Ae,Ge)|0,P=P+Math.imul(Ce,Ze)|0,j=j+Math.imul(Ce,Ge)|0,F=F+Math.imul(Me,Xe)|0,P=P+Math.imul(Me,et)|0,P=P+Math.imul(he,Xe)|0,j=j+Math.imul(he,et)|0,F=F+Math.imul(U,tt)|0,P=P+Math.imul(U,rt)|0,P=P+Math.imul(oe,tt)|0,j=j+Math.imul(oe,rt)|0;var ar=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(ar>>>26)|0,ar&=67108863,F=Math.imul(le,Le),P=Math.imul(le,He),P=P+Math.imul(pe,Le)|0,j=Math.imul(pe,He),F=F+Math.imul(se,Ke)|0,P=P+Math.imul(se,Ye)|0,P=P+Math.imul(Q,Ke)|0,j=j+Math.imul(Q,Ye)|0,F=F+Math.imul(qe,Ze)|0,P=P+Math.imul(qe,Ge)|0,P=P+Math.imul(De,Ze)|0,j=j+Math.imul(De,Ge)|0,F=F+Math.imul(Ae,Xe)|0,P=P+Math.imul(Ae,et)|0,P=P+Math.imul(Ce,Xe)|0,j=j+Math.imul(Ce,et)|0,F=F+Math.imul(Me,tt)|0,P=P+Math.imul(Me,rt)|0,P=P+Math.imul(he,tt)|0,j=j+Math.imul(he,rt)|0;var or=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(or>>>26)|0,or&=67108863,F=Math.imul(le,Ke),P=Math.imul(le,Ye),P=P+Math.imul(pe,Ke)|0,j=Math.imul(pe,Ye),F=F+Math.imul(se,Ze)|0,P=P+Math.imul(se,Ge)|0,P=P+Math.imul(Q,Ze)|0,j=j+Math.imul(Q,Ge)|0,F=F+Math.imul(qe,Xe)|0,P=P+Math.imul(qe,et)|0,P=P+Math.imul(De,Xe)|0,j=j+Math.imul(De,et)|0,F=F+Math.imul(Ae,tt)|0,P=P+Math.imul(Ae,rt)|0,P=P+Math.imul(Ce,tt)|0,j=j+Math.imul(Ce,rt)|0;var Jt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F=Math.imul(le,Ze),P=Math.imul(le,Ge),P=P+Math.imul(pe,Ze)|0,j=Math.imul(pe,Ge),F=F+Math.imul(se,Xe)|0,P=P+Math.imul(se,et)|0,P=P+Math.imul(Q,Xe)|0,j=j+Math.imul(Q,et)|0,F=F+Math.imul(qe,tt)|0,P=P+Math.imul(qe,rt)|0,P=P+Math.imul(De,tt)|0,j=j+Math.imul(De,rt)|0;var jt=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(jt>>>26)|0,jt&=67108863,F=Math.imul(le,Xe),P=Math.imul(le,et),P=P+Math.imul(pe,Xe)|0,j=Math.imul(pe,et),F=F+Math.imul(se,tt)|0,P=P+Math.imul(se,rt)|0,P=P+Math.imul(Q,tt)|0,j=j+Math.imul(Q,rt)|0;var ur=(I+F|0)+((P&8191)<<13)|0;I=(j+(P>>>13)|0)+(ur>>>26)|0,ur&=67108863,F=Math.imul(le,tt),P=Math.imul(le,rt),P=P+Math.imul(pe,tt)|0,j=Math.imul(pe,rt);var At=(I+F|0)+((P&8191)<<13)|0;return I=(j+(P>>>13)|0)+(At>>>26)|0,At&=67108863,N[0]=Ht,N[1]=at,N[2]=ot,N[3]=Gt,N[4]=Vt,N[5]=er,N[6]=tr,N[7]=Kt,N[8]=rr,N[9]=ir,N[10]=nr,N[11]=sr,N[12]=Yt,N[13]=ar,N[14]=or,N[15]=Jt,N[16]=jt,N[17]=ur,N[18]=At,I!==0&&(N[19]=I,C.length++),C};Math.imul||(v=h);function k(W,T,L){L.negative=T.negative^W.negative,L.length=W.length+T.length;for(var C=0,s=0,m=0;m<L.length-1;m++){var N=s;s=0;for(var I=C&67108863,F=Math.min(m,T.length-1),P=Math.max(0,m-W.length+1);P<=F;P++){var j=m-P,G=W.words[j]|0,y=T.words[P]|0,H=G*y,fe=H&67108863;N=N+(H/67108864|0)|0,fe=fe+I|0,I=fe&67108863,N=N+(fe>>>26)|0,s+=N>>>26,N&=67108863}L.words[m]=I,C=N,N=s}return C!==0?L.words[m]=C:L.length--,L.strip()}function A(W,T,L){var C=new R;return C.mulp(W,T,L)}o.prototype.mulTo=function(T,L){var C,s=this.length+T.length;return this.length===10&&T.length===10?C=v(this,T,L):s<63?C=h(this,T,L):s<1024?C=k(this,T,L):C=A(this,T,L),C};function R(W,T){this.x=W,this.y=T}R.prototype.makeRBT=function(T){for(var L=new Array(T),C=o.prototype._countBits(T)-1,s=0;s<T;s++)L[s]=this.revBin(s,C,T);return L},R.prototype.revBin=function(T,L,C){if(T===0||T===C-1)return T;for(var s=0,m=0;m<L;m++)s|=(T&1)<<L-m-1,T>>=1;return s},R.prototype.permute=function(T,L,C,s,m,N){for(var I=0;I<N;I++)s[I]=L[T[I]],m[I]=C[T[I]]},R.prototype.transform=function(T,L,C,s,m,N){this.permute(N,T,L,C,s,m);for(var I=1;I<m;I<<=1)for(var F=I<<1,P=Math.cos(2*Math.PI/F),j=Math.sin(2*Math.PI/F),G=0;G<m;G+=F)for(var y=P,H=j,fe=0;fe<I;fe++){var ve=C[G+fe],ye=s[G+fe],Ee=C[G+fe+I],J=s[G+fe+I],Z=y*Ee-H*J;J=y*J+H*Ee,Ee=Z,C[G+fe]=ve+Ee,s[G+fe]=ye+J,C[G+fe+I]=ve-Ee,s[G+fe+I]=ye-J,fe!==F&&(Z=P*y-j*H,H=P*H+j*y,y=Z)}},R.prototype.guessLen13b=function(T,L){var C=Math.max(L,T)|1,s=C&1,m=0;for(C=C/2|0;C;C=C>>>1)m++;return 1<<m+1+s},R.prototype.conjugate=function(T,L,C){if(!(C<=1))for(var s=0;s<C/2;s++){var m=T[s];T[s]=T[C-s-1],T[C-s-1]=m,m=L[s],L[s]=-L[C-s-1],L[C-s-1]=-m}},R.prototype.normalize13b=function(T,L){for(var C=0,s=0;s<L/2;s++){var m=Math.round(T[2*s+1]/L)*8192+Math.round(T[2*s]/L)+C;T[s]=m&67108863,m<67108864?C=0:C=m/67108864|0}return T},R.prototype.convert13b=function(T,L,C,s){for(var m=0,N=0;N<L;N++)m=m+(T[N]|0),C[2*N]=m&8191,m=m>>>13,C[2*N+1]=m&8191,m=m>>>13;for(N=2*L;N<s;++N)C[N]=0;x(m===0),x((m&~8191)==0)},R.prototype.stub=function(T){for(var L=new Array(T),C=0;C<T;C++)L[C]=0;return L},R.prototype.mulp=function(T,L,C){var s=2*this.guessLen13b(T.length,L.length),m=this.makeRBT(s),N=this.stub(s),I=new Array(s),F=new Array(s),P=new Array(s),j=new Array(s),G=new Array(s),y=new Array(s),H=C.words;H.length=s,this.convert13b(T.words,T.length,I,s),this.convert13b(L.words,L.length,j,s),this.transform(I,N,F,P,s,m),this.transform(j,N,G,y,s,m);for(var fe=0;fe<s;fe++){var ve=F[fe]*G[fe]-P[fe]*y[fe];P[fe]=F[fe]*y[fe]+P[fe]*G[fe],F[fe]=ve}return this.conjugate(F,P,s),this.transform(F,P,H,N,s,m),this.conjugate(H,N,s),this.normalize13b(H,s),C.negative=T.negative^L.negative,C.length=T.length+L.length,C.strip()},o.prototype.mul=function(T){var L=new o(null);return L.words=new Array(this.length+T.length),this.mulTo(T,L)},o.prototype.mulf=function(T){var L=new o(null);return L.words=new Array(this.length+T.length),A(this,T,L)},o.prototype.imul=function(T){return this.clone().mulTo(T,this)},o.prototype.imuln=function(T){x(typeof T=="number"),x(T<67108864);for(var L=0,C=0;C<this.length;C++){var s=(this.words[C]|0)*T,m=(s&67108863)+(L&67108863);L>>=26,L+=s/67108864|0,L+=m>>>26,this.words[C]=m&67108863}return L!==0&&(this.words[C]=L,this.length++),this},o.prototype.muln=function(T){return this.clone().imuln(T)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(T){var L=d(T);if(L.length===0)return new o(1);for(var C=this,s=0;s<L.length&&L[s]===0;s++,C=C.sqr());if(++s<L.length)for(var m=C.sqr();s<L.length;s++,m=m.sqr())L[s]!==0&&(C=C.mul(m));return C},o.prototype.iushln=function(T){x(typeof T=="number"&&T>=0);var L=T%26,C=(T-L)/26,s=67108863>>>26-L<<26-L,m;if(L!==0){var N=0;for(m=0;m<this.length;m++){var I=this.words[m]&s,F=(this.words[m]|0)-I<<L;this.words[m]=F|N,N=I>>>26-L}N&&(this.words[m]=N,this.length++)}if(C!==0){for(m=this.length-1;m>=0;m--)this.words[m+C]=this.words[m];for(m=0;m<C;m++)this.words[m]=0;this.length+=C}return this.strip()},o.prototype.ishln=function(T){return x(this.negative===0),this.iushln(T)},o.prototype.iushrn=function(T,L,C){x(typeof T=="number"&&T>=0);var s;L?s=(L-L%26)/26:s=0;var m=T%26,N=Math.min((T-m)/26,this.length),I=67108863^67108863>>>m<<m,F=C;if(s-=N,s=Math.max(0,s),F){for(var P=0;P<N;P++)F.words[P]=this.words[P];F.length=N}if(N!==0)if(this.length>N)for(this.length-=N,P=0;P<this.length;P++)this.words[P]=this.words[P+N];else this.words[0]=0,this.length=1;var j=0;for(P=this.length-1;P>=0&&(j!==0||P>=s);P--){var G=this.words[P]|0;this.words[P]=j<<26-m|G>>>m,j=G&I}return F&&j!==0&&(F.words[F.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(T,L,C){return x(this.negative===0),this.iushrn(T,L,C)},o.prototype.shln=function(T){return this.clone().ishln(T)},o.prototype.ushln=function(T){return this.clone().iushln(T)},o.prototype.shrn=function(T){return this.clone().ishrn(T)},o.prototype.ushrn=function(T){return this.clone().iushrn(T)},o.prototype.testn=function(T){x(typeof T=="number"&&T>=0);var L=T%26,C=(T-L)/26,s=1<<L;if(this.length<=C)return!1;var m=this.words[C];return!!(m&s)},o.prototype.imaskn=function(T){x(typeof T=="number"&&T>=0);var L=T%26,C=(T-L)/26;if(x(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(L!==0&&C++,this.length=Math.min(C,this.length),L!==0){var s=67108863^67108863>>>L<<L;this.words[this.length-1]&=s}return this.strip()},o.prototype.maskn=function(T){return this.clone().imaskn(T)},o.prototype.iaddn=function(T){return x(typeof T=="number"),x(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(this.words[0]|0)<T?(this.words[0]=T-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},o.prototype._iaddn=function(T){this.words[0]+=T;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},o.prototype.isubn=function(T){if(x(typeof T=="number"),x(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},o.prototype.addn=function(T){return this.clone().iaddn(T)},o.prototype.subn=function(T){return this.clone().isubn(T)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(T,L,C){var s=T.length+C,m;this._expand(s);var N,I=0;for(m=0;m<T.length;m++){N=(this.words[m+C]|0)+I;var F=(T.words[m]|0)*L;N-=F&67108863,I=(N>>26)-(F/67108864|0),this.words[m+C]=N&67108863}for(;m<this.length-C;m++)N=(this.words[m+C]|0)+I,I=N>>26,this.words[m+C]=N&67108863;if(I===0)return this.strip();for(x(I===-1),I=0,m=0;m<this.length;m++)N=-(this.words[m]|0)+I,I=N>>26,this.words[m]=N&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(T,L){var C=this.length-T.length,s=this.clone(),m=T,N=m.words[m.length-1]|0,I=this._countBits(N);C=26-I,C!==0&&(m=m.ushln(C),s.iushln(C),N=m.words[m.length-1]|0);var F=s.length-m.length,P;if(L!=="mod"){P=new o(null),P.length=F+1,P.words=new Array(P.length);for(var j=0;j<P.length;j++)P.words[j]=0}var G=s.clone()._ishlnsubmul(m,1,F);G.negative===0&&(s=G,P&&(P.words[F]=1));for(var y=F-1;y>=0;y--){var H=(s.words[m.length+y]|0)*67108864+(s.words[m.length+y-1]|0);for(H=Math.min(H/N|0,67108863),s._ishlnsubmul(m,H,y);s.negative!==0;)H--,s.negative=0,s._ishlnsubmul(m,1,y),s.isZero()||(s.negative^=1);P&&(P.words[y]=H)}return P&&P.strip(),s.strip(),L!=="div"&&C!==0&&s.iushrn(C),{div:P||null,mod:s}},o.prototype.divmod=function(T,L,C){if(x(!T.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var s,m,N;return this.negative!==0&&T.negative===0?(N=this.neg().divmod(T,L),L!=="mod"&&(s=N.div.neg()),L!=="div"&&(m=N.mod.neg(),C&&m.negative!==0&&m.iadd(T)),{div:s,mod:m}):this.negative===0&&T.negative!==0?(N=this.divmod(T.neg(),L),L!=="mod"&&(s=N.div.neg()),{div:s,mod:N.mod}):(this.negative&T.negative)!=0?(N=this.neg().divmod(T.neg(),L),L!=="div"&&(m=N.mod.neg(),C&&m.negative!==0&&m.isub(T)),{div:N.div,mod:m}):T.length>this.length||this.cmp(T)<0?{div:new o(0),mod:this}:T.length===1?L==="div"?{div:this.divn(T.words[0]),mod:null}:L==="mod"?{div:null,mod:new o(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new o(this.modn(T.words[0]))}:this._wordDiv(T,L)},o.prototype.div=function(T){return this.divmod(T,"div",!1).div},o.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},o.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},o.prototype.divRound=function(T){var L=this.divmod(T);if(L.mod.isZero())return L.div;var C=L.div.negative!==0?L.mod.isub(T):L.mod,s=T.ushrn(1),m=T.andln(1),N=C.cmp(s);return N<0||m===1&&N===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},o.prototype.modn=function(T){x(T<=67108863);for(var L=(1<<26)%T,C=0,s=this.length-1;s>=0;s--)C=(L*C+(this.words[s]|0))%T;return C},o.prototype.idivn=function(T){x(T<=67108863);for(var L=0,C=this.length-1;C>=0;C--){var s=(this.words[C]|0)+L*67108864;this.words[C]=s/T|0,L=s%T}return this.strip()},o.prototype.divn=function(T){return this.clone().idivn(T)},o.prototype.egcd=function(T){x(T.negative===0),x(!T.isZero());var L=this,C=T.clone();L.negative!==0?L=L.umod(T):L=L.clone();for(var s=new o(1),m=new o(0),N=new o(0),I=new o(1),F=0;L.isEven()&&C.isEven();)L.iushrn(1),C.iushrn(1),++F;for(var P=C.clone(),j=L.clone();!L.isZero();){for(var G=0,y=1;(L.words[0]&y)==0&&G<26;++G,y<<=1);if(G>0)for(L.iushrn(G);G-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(P),m.isub(j)),s.iushrn(1),m.iushrn(1);for(var H=0,fe=1;(C.words[0]&fe)==0&&H<26;++H,fe<<=1);if(H>0)for(C.iushrn(H);H-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd(P),I.isub(j)),N.iushrn(1),I.iushrn(1);L.cmp(C)>=0?(L.isub(C),s.isub(N),m.isub(I)):(C.isub(L),N.isub(s),I.isub(m))}return{a:N,b:I,gcd:C.iushln(F)}},o.prototype._invmp=function(T){x(T.negative===0),x(!T.isZero());var L=this,C=T.clone();L.negative!==0?L=L.umod(T):L=L.clone();for(var s=new o(1),m=new o(0),N=C.clone();L.cmpn(1)>0&&C.cmpn(1)>0;){for(var I=0,F=1;(L.words[0]&F)==0&&I<26;++I,F<<=1);if(I>0)for(L.iushrn(I);I-- >0;)s.isOdd()&&s.iadd(N),s.iushrn(1);for(var P=0,j=1;(C.words[0]&j)==0&&P<26;++P,j<<=1);if(P>0)for(C.iushrn(P);P-- >0;)m.isOdd()&&m.iadd(N),m.iushrn(1);L.cmp(C)>=0?(L.isub(C),s.isub(m)):(C.isub(L),m.isub(s))}var G;return L.cmpn(1)===0?G=s:G=m,G.cmpn(0)<0&&G.iadd(T),G},o.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var L=this.clone(),C=T.clone();L.negative=0,C.negative=0;for(var s=0;L.isEven()&&C.isEven();s++)L.iushrn(1),C.iushrn(1);do{for(;L.isEven();)L.iushrn(1);for(;C.isEven();)C.iushrn(1);var m=L.cmp(C);if(m<0){var N=L;L=C,C=N}else if(m===0||C.cmpn(1)===0)break;L.isub(C)}while(!0);return C.iushln(s)},o.prototype.invm=function(T){return this.egcd(T).a.umod(T)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(T){return this.words[0]&T},o.prototype.bincn=function(T){x(typeof T=="number");var L=T%26,C=(T-L)/26,s=1<<L;if(this.length<=C)return this._expand(C+1),this.words[C]|=s,this;for(var m=s,N=C;m!==0&&N<this.length;N++){var I=this.words[N]|0;I+=m,m=I>>>26,I&=67108863,this.words[N]=I}return m!==0&&(this.words[N]=m,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(T){var L=T<0;if(this.negative!==0&&!L)return-1;if(this.negative===0&&L)return 1;this.strip();var C;if(this.length>1)C=1;else{L&&(T=-T),x(T<=67108863,"Number is too big");var s=this.words[0]|0;C=s===T?0:s<T?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var L=this.ucmp(T);return this.negative!==0?-L|0:L},o.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var L=0,C=this.length-1;C>=0;C--){var s=this.words[C]|0,m=T.words[C]|0;if(s!==m){s<m?L=-1:s>m&&(L=1);break}}return L},o.prototype.gtn=function(T){return this.cmpn(T)===1},o.prototype.gt=function(T){return this.cmp(T)===1},o.prototype.gten=function(T){return this.cmpn(T)>=0},o.prototype.gte=function(T){return this.cmp(T)>=0},o.prototype.ltn=function(T){return this.cmpn(T)===-1},o.prototype.lt=function(T){return this.cmp(T)===-1},o.prototype.lten=function(T){return this.cmpn(T)<=0},o.prototype.lte=function(T){return this.cmp(T)<=0},o.prototype.eqn=function(T){return this.cmpn(T)===0},o.prototype.eq=function(T){return this.cmp(T)===0},o.red=function(T){return new ne(T)},o.prototype.toRed=function(T){return x(!this.red,"Already a number in reduction context"),x(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},o.prototype.fromRed=function(){return x(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(T){return this.red=T,this},o.prototype.forceRed=function(T){return x(!this.red,"Already a number in reduction context"),this._forceRed(T)},o.prototype.redAdd=function(T){return x(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},o.prototype.redIAdd=function(T){return x(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},o.prototype.redSub=function(T){return x(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},o.prototype.redISub=function(T){return x(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},o.prototype.redShl=function(T){return x(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},o.prototype.redMul=function(T){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},o.prototype.redIMul=function(T){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},o.prototype.redSqr=function(){return x(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return x(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return x(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return x(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return x(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(T){return x(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var O={k256:null,p224:null,p192:null,p25519:null};function V(W,T){this.name=W,this.p=new o(T,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var T=new o(null);return T.words=new Array(Math.ceil(this.n/13)),T},V.prototype.ireduce=function(T){var L=T,C;do this.split(L,this.tmp),L=this.imulK(L),L=L.iadd(this.tmp),C=L.bitLength();while(C>this.n);var s=C<this.n?-1:L.ucmp(this.p);return s===0?(L.words[0]=0,L.length=1):s>0?L.isub(this.p):L.strip!==void 0?L.strip():L._strip(),L},V.prototype.split=function(T,L){T.iushrn(this.n,0,L)},V.prototype.imulK=function(T){return T.imul(this.k)};function Y(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(Y,V),Y.prototype.split=function(T,L){for(var C=4194303,s=Math.min(T.length,9),m=0;m<s;m++)L.words[m]=T.words[m];if(L.length=s,T.length<=9){T.words[0]=0,T.length=1;return}var N=T.words[9];for(L.words[L.length++]=N&C,m=10;m<T.length;m++){var I=T.words[m]|0;T.words[m-10]=(I&C)<<4|N>>>22,N=I}N>>>=22,T.words[m-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},Y.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var L=0,C=0;C<T.length;C++){var s=T.words[C]|0;L+=s*977,T.words[C]=L&67108863,L=s*64+(L/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T};function ee(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(ee,V);function re(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(re,V);function ie(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(ie,V),ie.prototype.imulK=function(T){for(var L=0,C=0;C<T.length;C++){var s=(T.words[C]|0)*19+L,m=s&67108863;s>>>=26,T.words[C]=m,L=s}return L!==0&&(T.words[T.length++]=L),T},o._prime=function(T){if(O[T])return O[T];var L;if(T==="k256")L=new Y;else if(T==="p224")L=new ee;else if(T==="p192")L=new re;else if(T==="p25519")L=new ie;else throw new Error("Unknown prime "+T);return O[T]=L,L};function ne(W){if(typeof W=="string"){var T=o._prime(W);this.m=T.p,this.prime=T}else x(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}ne.prototype._verify1=function(T){x(T.negative===0,"red works only with positives"),x(T.red,"red works only with red numbers")},ne.prototype._verify2=function(T,L){x((T.negative|L.negative)==0,"red works only with positives"),x(T.red&&T.red===L.red,"red works only with red numbers")},ne.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},ne.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},ne.prototype.add=function(T,L){this._verify2(T,L);var C=T.add(L);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},ne.prototype.iadd=function(T,L){this._verify2(T,L);var C=T.iadd(L);return C.cmp(this.m)>=0&&C.isub(this.m),C},ne.prototype.sub=function(T,L){this._verify2(T,L);var C=T.sub(L);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},ne.prototype.isub=function(T,L){this._verify2(T,L);var C=T.isub(L);return C.cmpn(0)<0&&C.iadd(this.m),C},ne.prototype.shl=function(T,L){return this._verify1(T),this.imod(T.ushln(L))},ne.prototype.imul=function(T,L){return this._verify2(T,L),this.imod(T.imul(L))},ne.prototype.mul=function(T,L){return this._verify2(T,L),this.imod(T.mul(L))},ne.prototype.isqr=function(T){return this.imul(T,T.clone())},ne.prototype.sqr=function(T){return this.mul(T,T)},ne.prototype.sqrt=function(T){if(T.isZero())return T.clone();var L=this.m.andln(3);if(x(L%2==1),L===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(T,C)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);x(!s.isZero());var N=new o(1).toRed(this),I=N.redNeg(),F=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new o(2*P*P).toRed(this);this.pow(P,F).cmp(I)!==0;)P.redIAdd(I);for(var j=this.pow(P,s),G=this.pow(T,s.addn(1).iushrn(1)),y=this.pow(T,s),H=m;y.cmp(N)!==0;){for(var fe=y,ve=0;fe.cmp(N)!==0;ve++)fe=fe.redSqr();x(ve<H);var ye=this.pow(j,new o(1).iushln(H-ve-1));G=G.redMul(ye),j=ye.redSqr(),y=y.redMul(j),H=ve}return G},ne.prototype.invm=function(T){var L=T._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},ne.prototype.pow=function(T,L){if(L.isZero())return new o(1).toRed(this);if(L.cmpn(1)===0)return T.clone();var C=4,s=new Array(1<<C);s[0]=new o(1).toRed(this),s[1]=T;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],T);var N=s[0],I=0,F=0,P=L.bitLength()%26;for(P===0&&(P=26),m=L.length-1;m>=0;m--){for(var j=L.words[m],G=P-1;G>=0;G--){var y=j>>G&1;if(N!==s[0]&&(N=this.sqr(N)),y===0&&I===0){F=0;continue}I<<=1,I|=y,F++,!(F!==C&&(m!==0||G!==0))&&(N=this.mul(N,s[I]),F=0,I=0)}P=26}return N},ne.prototype.convertTo=function(T){var L=T.umod(this.m);return L===T?L.clone():L},ne.prototype.convertFrom=function(T){var L=T.clone();return L.red=null,L},o.mont=function(T){return new ue(T)};function ue(W){ne.call(this,W),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(ue,ne),ue.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},ue.prototype.convertFrom=function(T){var L=this.imod(T.mul(this.rinv));return L.red=null,L},ue.prototype.imul=function(T,L){if(T.isZero()||L.isZero())return T.words[0]=0,T.length=1,T;var C=T.imul(L),s=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=C.isub(s).iushrn(this.shift),N=m;return m.cmp(this.m)>=0?N=m.isub(this.m):m.cmpn(0)<0&&(N=m.iadd(this.m)),N._forceRed(this)},ue.prototype.mul=function(T,L){if(T.isZero()||L.isZero())return new o(0)._forceRed(this);var C=T.mul(L),s=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=C.isub(s).iushrn(this.shift),N=m;return m.cmp(this.m)>=0?N=m.isub(this.m):m.cmpn(0)<0&&(N=m.iadd(this.m)),N._forceRed(this)},ue.prototype.invm=function(T){var L=this.imod(T._invmp(this.m).mul(this.r2));return L._forceRed(this)}}(b,this)},29931:(b,$,w)=>{var _;b.exports=function(o){return _||(_=new D(null)),_.generate(o)};function D(S){this.rand=S}if(b.exports.Rand=D,D.prototype.generate=function(o){return this._rand(o)},D.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var l=new Uint8Array(o),n=0;n<l.length;n++)l[n]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?D.prototype._rand=function(o){var l=new Uint8Array(o);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?D.prototype._rand=function(o){var l=new Uint8Array(o);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(D.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var x=w(89214);if(typeof x.randomBytes!="function")throw new Error("Not supported");D.prototype._rand=function(o){return x.randomBytes(o)}}catch(S){}},74497:(b,$,w)=>{var _=w(89509).Buffer;function D(c){_.isBuffer(c)||(c=_.from(c));for(var g=c.length/4|0,f=new Array(g),u=0;u<g;u++)f[u]=c.readUInt32BE(u*4);return f}function x(c){for(var g=0;g<c.length;c++)c[g]=0}function S(c,g,f,u,E){for(var d=f[0],h=f[1],v=f[2],k=f[3],A=c[0]^g[0],R=c[1]^g[1],O=c[2]^g[2],V=c[3]^g[3],Y,ee,re,ie,ne=4,ue=1;ue<E;ue++)Y=d[A>>>24]^h[R>>>16&255]^v[O>>>8&255]^k[V&255]^g[ne++],ee=d[R>>>24]^h[O>>>16&255]^v[V>>>8&255]^k[A&255]^g[ne++],re=d[O>>>24]^h[V>>>16&255]^v[A>>>8&255]^k[R&255]^g[ne++],ie=d[V>>>24]^h[A>>>16&255]^v[R>>>8&255]^k[O&255]^g[ne++],A=Y,R=ee,O=re,V=ie;return Y=(u[A>>>24]<<24|u[R>>>16&255]<<16|u[O>>>8&255]<<8|u[V&255])^g[ne++],ee=(u[R>>>24]<<24|u[O>>>16&255]<<16|u[V>>>8&255]<<8|u[A&255])^g[ne++],re=(u[O>>>24]<<24|u[V>>>16&255]<<16|u[A>>>8&255]<<8|u[R&255])^g[ne++],ie=(u[V>>>24]<<24|u[A>>>16&255]<<16|u[R>>>8&255]<<8|u[O&255])^g[ne++],Y=Y>>>0,ee=ee>>>0,re=re>>>0,ie=ie>>>0,[Y,ee,re,ie]}var o=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var c=new Array(256),g=0;g<256;g++)g<128?c[g]=g<<1:c[g]=g<<1^283;for(var f=[],u=[],E=[[],[],[],[]],d=[[],[],[],[]],h=0,v=0,k=0;k<256;++k){var A=v^v<<1^v<<2^v<<3^v<<4;A=A>>>8^A&255^99,f[h]=A,u[A]=h;var R=c[h],O=c[R],V=c[O],Y=c[A]*257^A*16843008;E[0][h]=Y<<24|Y>>>8,E[1][h]=Y<<16|Y>>>16,E[2][h]=Y<<8|Y>>>24,E[3][h]=Y,Y=V*16843009^O*65537^R*257^h*16843008,d[0][A]=Y<<24|Y>>>8,d[1][A]=Y<<16|Y>>>16,d[2][A]=Y<<8|Y>>>24,d[3][A]=Y,h===0?h=v=1:(h=R^c[c[c[V^R]]],v^=c[c[v]])}return{SBOX:f,INV_SBOX:u,SUB_MIX:E,INV_SUB_MIX:d}}();function n(c){this._key=D(c),this._reset()}n.blockSize=4*4,n.keySize=256/8,n.prototype.blockSize=n.blockSize,n.prototype.keySize=n.keySize,n.prototype._reset=function(){for(var c=this._key,g=c.length,f=g+6,u=(f+1)*4,E=[],d=0;d<g;d++)E[d]=c[d];for(d=g;d<u;d++){var h=E[d-1];d%g==0?(h=h<<8|h>>>24,h=l.SBOX[h>>>24]<<24|l.SBOX[h>>>16&255]<<16|l.SBOX[h>>>8&255]<<8|l.SBOX[h&255],h^=o[d/g|0]<<24):g>6&&d%g==4&&(h=l.SBOX[h>>>24]<<24|l.SBOX[h>>>16&255]<<16|l.SBOX[h>>>8&255]<<8|l.SBOX[h&255]),E[d]=E[d-g]^h}for(var v=[],k=0;k<u;k++){var A=u-k,R=E[A-(k%4?0:4)];k<4||A<=4?v[k]=R:v[k]=l.INV_SUB_MIX[0][l.SBOX[R>>>24]]^l.INV_SUB_MIX[1][l.SBOX[R>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[R>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[R&255]]}this._nRounds=f,this._keySchedule=E,this._invKeySchedule=v},n.prototype.encryptBlockRaw=function(c){return c=D(c),S(c,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},n.prototype.encryptBlock=function(c){var g=this.encryptBlockRaw(c),f=_.allocUnsafe(16);return f.writeUInt32BE(g[0],0),f.writeUInt32BE(g[1],4),f.writeUInt32BE(g[2],8),f.writeUInt32BE(g[3],12),f},n.prototype.decryptBlock=function(c){c=D(c);var g=c[1];c[1]=c[3],c[3]=g;var f=S(c,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),u=_.allocUnsafe(16);return u.writeUInt32BE(f[0],0),u.writeUInt32BE(f[3],4),u.writeUInt32BE(f[2],8),u.writeUInt32BE(f[1],12),u},n.prototype.scrub=function(){x(this._keySchedule),x(this._invKeySchedule),x(this._key)},b.exports.AES=n},62422:(b,$,w)=>{var _=w(74497),D=w(89509).Buffer,x=w(71027),S=w(35717),o=w(83288),l=w(67295),n=w(20685);function c(u,E){var d=0;u.length!==E.length&&d++;for(var h=Math.min(u.length,E.length),v=0;v<h;++v)d+=u[v]^E[v];return d}function g(u,E,d){if(E.length===12)return u._finID=D.concat([E,D.from([0,0,0,1])]),D.concat([E,D.from([0,0,0,2])]);var h=new o(d),v=E.length,k=v%16;h.update(E),k&&(k=16-k,h.update(D.alloc(k,0))),h.update(D.alloc(8,0));var A=v*8,R=D.alloc(8);R.writeUIntBE(A,0,8),h.update(R),u._finID=h.state;var O=D.from(u._finID);return n(O),O}function f(u,E,d,h){x.call(this);var v=D.alloc(4,0);this._cipher=new _.AES(E);var k=this._cipher.encryptBlock(v);this._ghash=new o(k),d=g(this,d,k),this._prev=D.from(d),this._cache=D.allocUnsafe(0),this._secCache=D.allocUnsafe(0),this._decrypt=h,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}S(f,x),f.prototype._update=function(u){if(!this._called&&this._alen){var E=16-this._alen%16;E<16&&(E=D.alloc(E,0),this._ghash.update(E))}this._called=!0;var d=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(d),this._len+=u.length,d},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=l(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!D.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(E){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=E},f.prototype.setAAD=function(E){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(E),this._alen+=E.length},b.exports=f},44696:(b,$,w)=>{var _=w(71494),D=w(66193),x=w(55415);function S(){return Object.keys(x)}$.createCipher=$.Cipher=_.createCipher,$.createCipheriv=$.Cipheriv=_.createCipheriv,$.createDecipher=$.Decipher=D.createDecipher,$.createDecipheriv=$.Decipheriv=D.createDecipheriv,$.listCiphers=$.getCiphers=S},66193:(b,$,w)=>{var _=w(62422),D=w(89509).Buffer,x=w(45),S=w(25969),o=w(71027),l=w(74497),n=w(13048),c=w(35717);function g(h,v,k){o.call(this),this._cache=new f,this._last=void 0,this._cipher=new l.AES(v),this._prev=D.from(k),this._mode=h,this._autopadding=!0}c(g,o),g.prototype._update=function(h){this._cache.add(h);for(var v,k,A=[];v=this._cache.get(this._autopadding);)k=this._mode.decrypt(this,v),A.push(k);return D.concat(A)},g.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,h));if(h)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this};function f(){this.cache=D.allocUnsafe(0)}f.prototype.add=function(h){this.cache=D.concat([this.cache,h])},f.prototype.get=function(h){var v;if(h){if(this.cache.length>16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v}else if(this.cache.length>=16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache};function u(h){var v=h[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var k=-1;++k<v;)if(h[k+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return h.slice(0,16-v)}function E(h,v,k){var A=x[h.toLowerCase()];if(!A)throw new TypeError("invalid suite type");if(typeof k=="string"&&(k=D.from(k)),A.mode!=="GCM"&&k.length!==A.iv)throw new TypeError("invalid iv length "+k.length);if(typeof v=="string"&&(v=D.from(v)),v.length!==A.key/8)throw new TypeError("invalid key length "+v.length);return A.type==="stream"?new S(A.module,v,k,!0):A.type==="auth"?new _(A.module,v,k,!0):new g(A.module,v,k)}function d(h,v){var k=x[h.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var A=n(v,!1,k.key,k.iv);return E(h,A.key,A.iv)}$.createDecipher=d,$.createDecipheriv=E},71494:(b,$,w)=>{var _=w(45),D=w(62422),x=w(89509).Buffer,S=w(25969),o=w(71027),l=w(74497),n=w(13048),c=w(35717);function g(h,v,k){o.call(this),this._cache=new u,this._cipher=new l.AES(v),this._prev=x.from(k),this._mode=h,this._autopadding=!0}c(g,o),g.prototype._update=function(h){this._cache.add(h);for(var v,k,A=[];v=this._cache.get();)k=this._mode.encrypt(this,v),A.push(k);return x.concat(A)};var f=x.alloc(16,16);g.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return h=this._mode.encrypt(this,h),this._cipher.scrub(),h;if(!h.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this};function u(){this.cache=x.allocUnsafe(0)}u.prototype.add=function(h){this.cache=x.concat([this.cache,h])},u.prototype.get=function(){if(this.cache.length>15){var h=this.cache.slice(0,16);return this.cache=this.cache.slice(16),h}return null},u.prototype.flush=function(){for(var h=16-this.cache.length,v=x.allocUnsafe(h),k=-1;++k<h;)v.writeUInt8(h,k);return x.concat([this.cache,v])};function E(h,v,k){var A=_[h.toLowerCase()];if(!A)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=x.from(v)),v.length!==A.key/8)throw new TypeError("invalid key length "+v.length);if(typeof k=="string"&&(k=x.from(k)),A.mode!=="GCM"&&k.length!==A.iv)throw new TypeError("invalid iv length "+k.length);return A.type==="stream"?new S(A.module,v,k):A.type==="auth"?new D(A.module,v,k):new g(A.module,v,k)}function d(h,v){var k=_[h.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var A=n(v,!1,k.key,k.iv);return E(h,A.key,A.iv)}$.createCipheriv=E,$.createCipher=d},83288:(b,$,w)=>{var _=w(89509).Buffer,D=_.alloc(16,0);function x(l){return[l.readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)]}function S(l){var n=_.allocUnsafe(16);return n.writeUInt32BE(l[0]>>>0,0),n.writeUInt32BE(l[1]>>>0,4),n.writeUInt32BE(l[2]>>>0,8),n.writeUInt32BE(l[3]>>>0,12),n}function o(l){this.h=l,this.state=_.alloc(16,0),this.cache=_.allocUnsafe(0)}o.prototype.ghash=function(l){for(var n=-1;++n<l.length;)this.state[n]^=l[n];this._multiply()},o.prototype._multiply=function(){for(var l=x(this.h),n=[0,0,0,0],c,g,f,u=-1;++u<128;){for(g=(this.state[~~(u/8)]&1<<7-u%8)!=0,g&&(n[0]^=l[0],n[1]^=l[1],n[2]^=l[2],n[3]^=l[3]),f=(l[3]&1)!=0,c=3;c>0;c--)l[c]=l[c]>>>1|(l[c-1]&1)<<31;l[0]=l[0]>>>1,f&&(l[0]=l[0]^225<<24)}this.state=S(n)},o.prototype.update=function(l){this.cache=_.concat([this.cache,l]);for(var n;this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},o.prototype.final=function(l,n){return this.cache.length&&this.ghash(_.concat([this.cache,D],16)),this.ghash(S([0,l,0,n])),this.state},b.exports=o},20685:b=>{function $(w){for(var _=w.length,D;_--;)if(D=w.readUInt8(_),D===255)w.writeUInt8(0,_);else{D++,w.writeUInt8(D,_);break}}b.exports=$},25292:(b,$,w)=>{var _=w(67295);$.encrypt=function(D,x){var S=_(x,D._prev);return D._prev=D._cipher.encryptBlock(S),D._prev},$.decrypt=function(D,x){var S=D._prev;D._prev=x;var o=D._cipher.decryptBlock(x);return _(o,S)}},86311:(b,$,w)=>{var _=w(89509).Buffer,D=w(67295);function x(S,o,l){var n=o.length,c=D(o,S._cache);return S._cache=S._cache.slice(n),S._prev=_.concat([S._prev,l?o:c]),c}$.encrypt=function(S,o,l){for(var n=_.allocUnsafe(0),c;o.length;)if(S._cache.length===0&&(S._cache=S._cipher.encryptBlock(S._prev),S._prev=_.allocUnsafe(0)),S._cache.length<=o.length)c=S._cache.length,n=_.concat([n,x(S,o.slice(0,c),l)]),o=o.slice(c);else{n=_.concat([n,x(S,o,l)]);break}return n}},21510:(b,$,w)=>{var _=w(89509).Buffer;function D(S,o,l){for(var n,c=-1,g=8,f=0,u,E;++c<g;)n=S._cipher.encryptBlock(S._prev),u=o&1<<7-c?128:0,E=n[0]^u,f+=(E&128)>>c%8,S._prev=x(S._prev,l?u:E);return f}function x(S,o){var l=S.length,n=-1,c=_.allocUnsafe(S.length);for(S=_.concat([S,_.from([o])]);++n<l;)c[n]=S[n]<<1|S[n+1]>>7;return c}$.encrypt=function(S,o,l){for(var n=o.length,c=_.allocUnsafe(n),g=-1;++g<n;)c[g]=D(S,o[g],l);return c}},71964:(b,$,w)=>{var _=w(89509).Buffer;function D(x,S,o){var l=x._cipher.encryptBlock(x._prev),n=l[0]^S;return x._prev=_.concat([x._prev.slice(1),_.from([o?S:n])]),n}$.encrypt=function(x,S,o){for(var l=S.length,n=_.allocUnsafe(l),c=-1;++c<l;)n[c]=D(x,S[c],o);return n}},96009:(b,$,w)=>{var _=w(67295),D=w(89509).Buffer,x=w(20685);function S(l){var n=l._cipher.encryptBlockRaw(l._prev);return x(l._prev),n}var o=16;$.encrypt=function(l,n){var c=Math.ceil(n.length/o),g=l._cache.length;l._cache=D.concat([l._cache,D.allocUnsafe(c*o)]);for(var f=0;f<c;f++){var u=S(l),E=g+f*o;l._cache.writeUInt32BE(u[0],E+0),l._cache.writeUInt32BE(u[1],E+4),l._cache.writeUInt32BE(u[2],E+8),l._cache.writeUInt32BE(u[3],E+12)}var d=l._cache.slice(0,n.length);return l._cache=l._cache.slice(n.length),_(n,d)}},11084:(b,$)=>{$.encrypt=function(w,_){return w._cipher.encryptBlock(_)},$.decrypt=function(w,_){return w._cipher.decryptBlock(_)}},45:(b,$,w)=>{var _={ECB:w(11084),CBC:w(25292),CFB:w(86311),CFB8:w(71964),CFB1:w(21510),OFB:w(18861),CTR:w(96009),GCM:w(96009)},D=w(55415);for(var x in D)D[x].module=_[D[x].mode];b.exports=D},55415:b=>{"use strict";b.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},18861:(b,$,w)=>{var _=w(67295);function D(x){return x._prev=x._cipher.encryptBlock(x._prev),x._prev}$.encrypt=function(x,S){for(;x._cache.length<S.length;)x._cache=Buffer.concat([x._cache,D(x)]);var o=x._cache.slice(0,S.length);return x._cache=x._cache.slice(S.length),_(S,o)}},25969:(b,$,w)=>{var _=w(74497),D=w(89509).Buffer,x=w(71027),S=w(35717);function o(l,n,c,g){x.call(this),this._cipher=new _.AES(n),this._prev=D.from(c),this._cache=D.allocUnsafe(0),this._secCache=D.allocUnsafe(0),this._decrypt=g,this._mode=l}S(o,x),o.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},b.exports=o},53614:(b,$,w)=>{var _=w(47667),D=w(44696),x=w(45),S=w(99715),o=w(13048);function l(u,E){u=u.toLowerCase();var d,h;if(x[u])d=x[u].key,h=x[u].iv;else if(S[u])d=S[u].key*8,h=S[u].iv;else throw new TypeError("invalid suite type");var v=o(E,!1,d,h);return c(u,v.key,v.iv)}function n(u,E){u=u.toLowerCase();var d,h;if(x[u])d=x[u].key,h=x[u].iv;else if(S[u])d=S[u].key*8,h=S[u].iv;else throw new TypeError("invalid suite type");var v=o(E,!1,d,h);return g(u,v.key,v.iv)}function c(u,E,d){if(u=u.toLowerCase(),x[u])return D.createCipheriv(u,E,d);if(S[u])return new _({key:E,iv:d,mode:u});throw new TypeError("invalid suite type")}function g(u,E,d){if(u=u.toLowerCase(),x[u])return D.createDecipheriv(u,E,d);if(S[u])return new _({key:E,iv:d,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}function f(){return Object.keys(S).concat(D.getCiphers())}$.createCipher=$.Cipher=l,$.createCipheriv=$.Cipheriv=c,$.createDecipher=$.Decipher=n,$.createDecipheriv=$.Decipheriv=g,$.listCiphers=$.getCiphers=f},47667:(b,$,w)=>{var _=w(71027),D=w(15251),x=w(35717),S=w(89509).Buffer,o={"des-ede3-cbc":D.CBC.instantiate(D.EDE),"des-ede3":D.EDE,"des-ede-cbc":D.CBC.instantiate(D.EDE),"des-ede":D.EDE,"des-cbc":D.CBC.instantiate(D.DES),"des-ecb":D.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],b.exports=l,x(l,_);function l(n){_.call(this);var c=n.mode.toLowerCase(),g=o[c],f;n.decrypt?f="decrypt":f="encrypt";var u=n.key;S.isBuffer(u)||(u=S.from(u)),(c==="des-ede"||c==="des-ede-cbc")&&(u=S.concat([u,u.slice(0,8)]));var E=n.iv;S.isBuffer(E)||(E=S.from(E)),this._des=g.create({key:u,iv:E,type:f})}l.prototype._update=function(n){return S.from(this._des.update(n))},l.prototype._final=function(){return S.from(this._des.final())}},99715:(b,$)=>{$["des-ecb"]={key:8,iv:0},$["des-cbc"]=$.des={key:8,iv:8},$["des-ede3-cbc"]=$.des3={key:24,iv:8},$["des-ede3"]={key:24,iv:0},$["des-ede-cbc"]={key:16,iv:8},$["des-ede"]={key:16,iv:0}},23663:(b,$,w)=>{var _=w(43982),D=w(61798);function x(l){var n=S(l),c=n.toRed(_.mont(l.modulus)).redPow(new _(l.publicExponent)).fromRed();return{blinder:c,unblinder:n.invm(l.modulus)}}function S(l){var n=l.modulus.byteLength(),c;do c=new _(D(n));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function o(l,n){var c=x(n),g=n.modulus.byteLength(),f=new _(l).mul(c.blinder).umod(n.modulus),u=f.toRed(_.mont(n.prime1)),E=f.toRed(_.mont(n.prime2)),d=n.coefficient,h=n.prime1,v=n.prime2,k=u.redPow(n.exponent1).fromRed(),A=E.redPow(n.exponent2).fromRed(),R=k.isub(A).imul(d).umod(h).imul(v);return A.iadd(R).imul(c.unblinder).umod(n.modulus).toArrayLike(Buffer,"be",g)}o.getr=S,b.exports=o},43982:function(b,$,w){b=w.nmd(b),function(_,D){"use strict";function x(C,s){if(!C)throw new Error(s||"Assertion failed")}function S(C,s){C.super_=s;var m=function(){};m.prototype=s.prototype,C.prototype=new m,C.prototype.constructor=C}function o(C,s,m){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((s==="le"||s==="be")&&(m=s,s=10),this._init(C||0,s||10,m||"be"))}typeof _=="object"?_.exports=o:D.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=w(71922).Buffer}catch(C){}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,m){return s.cmp(m)>0?s:m},o.min=function(s,m){return s.cmp(m)<0?s:m},o.prototype._init=function(s,m,N){if(typeof s=="number")return this._initNumber(s,m,N);if(typeof s=="object")return this._initArray(s,m,N);m==="hex"&&(m=16),x(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var I=0;s[0]==="-"&&(I++,this.negative=1),I<s.length&&(m===16?this._parseHex(s,I,N):(this._parseBase(s,m,I),N==="le"&&this._initArray(this.toArray(),m,N)))},o.prototype._initNumber=function(s,m,N){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(x(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),m,N)},o.prototype._initArray=function(s,m,N){if(x(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var F,P,j=0;if(N==="be")for(I=s.length-1,F=0;I>=0;I-=3)P=s[I]|s[I-1]<<8|s[I-2]<<16,this.words[F]|=P<<j&67108863,this.words[F+1]=P>>>26-j&67108863,j+=24,j>=26&&(j-=26,F++);else if(N==="le")for(I=0,F=0;I<s.length;I+=3)P=s[I]|s[I+1]<<8|s[I+2]<<16,this.words[F]|=P<<j&67108863,this.words[F+1]=P>>>26-j&67108863,j+=24,j>=26&&(j-=26,F++);return this._strip()};function n(C,s){var m=C.charCodeAt(s);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;x(!1,"Invalid character in "+C)}function c(C,s,m){var N=n(C,m);return m-1>=s&&(N|=n(C,m-1)<<4),N}o.prototype._parseHex=function(s,m,N){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var F=0,P=0,j;if(N==="be")for(I=s.length-1;I>=m;I-=2)j=c(s,m,I)<<F,this.words[P]|=j&67108863,F>=18?(F-=18,P+=1,this.words[P]|=j>>>26):F+=8;else{var G=s.length-m;for(I=G%2==0?m+1:m;I<s.length;I+=2)j=c(s,m,I)<<F,this.words[P]|=j&67108863,F>=18?(F-=18,P+=1,this.words[P]|=j>>>26):F+=8}this._strip()};function g(C,s,m,N){for(var I=0,F=0,P=Math.min(C.length,m),j=s;j<P;j++){var G=C.charCodeAt(j)-48;I*=N,G>=49?F=G-49+10:G>=17?F=G-17+10:F=G,x(G>=0&&F<N,"Invalid character"),I+=F}return I}o.prototype._parseBase=function(s,m,N){this.words=[0],this.length=1;for(var I=0,F=1;F<=67108863;F*=m)I++;I--,F=F/m|0;for(var P=s.length-N,j=P%I,G=Math.min(P,P-j)+N,y=0,H=N;H<G;H+=I)y=g(s,H,H+I,m),this.imuln(F),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(j!==0){var fe=1;for(y=g(s,H,s.length,m),H=0;H<j;H++)fe*=m;this.imuln(fe),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(C,s){C.words=s.words,C.length=s.length,C.negative=s.negative,C.red=s.red}if(o.prototype._move=function(s){f(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(C){o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,m){s=s||10,m=m|0||1;var N;if(s===16||s==="hex"){N="";for(var I=0,F=0,P=0;P<this.length;P++){var j=this.words[P],G=((j<<I|F)&16777215).toString(16);F=j>>>24-I&16777215,F!==0||P!==this.length-1?N=E[6-G.length]+G+N:N=G+N,I+=2,I>=26&&(I-=26,P--)}for(F!==0&&(N=F.toString(16)+N);N.length%m!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(s===(s|0)&&s>=2&&s<=36){var y=d[s],H=h[s];N="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var ve=fe.modrn(H).toString(s);fe=fe.idivn(H),fe.isZero()?N=ve+N:N=E[y-ve.length]+ve+N}for(this.isZero()&&(N="0"+N);N.length%m!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}x(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&x(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(s,m){return this.toArrayLike(l,s,m)}),o.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var v=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};o.prototype.toArrayLike=function(s,m,N){this._strip();var I=this.byteLength(),F=N||Math.max(1,I);x(I<=F,"byte array longer than desired length"),x(F>0,"Requested array length <= 0");var P=v(s,F),j=m==="le"?"LE":"BE";return this["_toArrayLike"+j](P,I),P},o.prototype._toArrayLikeLE=function(s,m){for(var N=0,I=0,F=0,P=0;F<this.length;F++){var j=this.words[F]<<P|I;s[N++]=j&255,N<s.length&&(s[N++]=j>>8&255),N<s.length&&(s[N++]=j>>16&255),P===6?(N<s.length&&(s[N++]=j>>24&255),I=0,P=0):(I=j>>>24,P+=2)}if(N<s.length)for(s[N++]=I;N<s.length;)s[N++]=0},o.prototype._toArrayLikeBE=function(s,m){for(var N=s.length-1,I=0,F=0,P=0;F<this.length;F++){var j=this.words[F]<<P|I;s[N--]=j&255,N>=0&&(s[N--]=j>>8&255),N>=0&&(s[N--]=j>>16&255),P===6?(N>=0&&(s[N--]=j>>24&255),I=0,P=0):(I=j>>>24,P+=2)}if(N>=0)for(s[N--]=I;N>=0;)s[N--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var m=s,N=0;return m>=4096&&(N+=13,m>>>=13),m>=64&&(N+=7,m>>>=7),m>=8&&(N+=4,m>>>=4),m>=2&&(N+=2,m>>>=2),N+m},o.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,N=0;return(m&8191)==0&&(N+=13,m>>>=13),(m&127)==0&&(N+=7,m>>>=7),(m&15)==0&&(N+=4,m>>>=4),(m&3)==0&&(N+=2,m>>>=2),(m&1)==0&&N++,N},o.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function k(C){for(var s=new Array(C.bitLength()),m=0;m<s.length;m++){var N=m/26|0,I=m%26;s[m]=C.words[N]>>>I&1}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var N=this._zeroBits(this.words[m]);if(s+=N,N!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},o.prototype.ior=function(s){return x((this.negative|s.negative)==0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var N=0;N<m.length;N++)this.words[N]=this.words[N]&s.words[N];return this.length=m.length,this._strip()},o.prototype.iand=function(s){return x((this.negative|s.negative)==0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var m,N;this.length>s.length?(m=this,N=s):(m=s,N=this);for(var I=0;I<N.length;I++)this.words[I]=m.words[I]^N.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},o.prototype.ixor=function(s){return x((this.negative|s.negative)==0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){x(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,N=s%26;this._expand(m),N>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return N>0&&(this.words[I]=~this.words[I]&67108863>>26-N),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,m){x(typeof s=="number"&&s>=0);var N=s/26|0,I=s%26;return this._expand(N+1),m?this.words[N]=this.words[N]|1<<I:this.words[N]=this.words[N]&~(1<<I),this._strip()},o.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var N,I;this.length>s.length?(N=this,I=s):(N=s,I=this);for(var F=0,P=0;P<I.length;P++)m=(N.words[P]|0)+(I.words[P]|0)+F,this.words[P]=m&67108863,F=m>>>26;for(;F!==0&&P<N.length;P++)m=(N.words[P]|0)+F,this.words[P]=m&67108863,F=m>>>26;if(this.length=N.length,F!==0)this.words[this.length]=F,this.length++;else if(N!==this)for(;P<N.length;P++)this.words[P]=N.words[P];return this},o.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var N=this.cmp(s);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,F;N>0?(I=this,F=s):(I=s,F=this);for(var P=0,j=0;j<F.length;j++)m=(I.words[j]|0)-(F.words[j]|0)+P,P=m>>26,this.words[j]=m&67108863;for(;P!==0&&j<I.length;j++)m=(I.words[j]|0)+P,P=m>>26,this.words[j]=m&67108863;if(P===0&&j<I.length&&I!==this)for(;j<I.length;j++)this.words[j]=I.words[j];return this.length=Math.max(this.length,j),I!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function A(C,s,m){m.negative=s.negative^C.negative;var N=C.length+s.length|0;m.length=N,N=N-1|0;var I=C.words[0]|0,F=s.words[0]|0,P=I*F,j=P&67108863,G=P/67108864|0;m.words[0]=j;for(var y=1;y<N;y++){for(var H=G>>>26,fe=G&67108863,ve=Math.min(y,s.length-1),ye=Math.max(0,y-C.length+1);ye<=ve;ye++){var Ee=y-ye|0;I=C.words[Ee]|0,F=s.words[ye]|0,P=I*F+fe,H+=P/67108864|0,fe=P&67108863}m.words[y]=fe|0,G=H|0}return G!==0?m.words[y]=G|0:m.length--,m._strip()}var R=function(s,m,N){var I=s.words,F=m.words,P=N.words,j=0,G,y,H,fe=I[0]|0,ve=fe&8191,ye=fe>>>13,Ee=I[1]|0,J=Ee&8191,Z=Ee>>>13,ce=I[2]|0,me=ce&8191,be=ce>>>13,q=I[3]|0,U=q&8191,oe=q>>>13,ge=I[4]|0,Me=ge&8191,he=ge>>>13,Te=I[5]|0,Ae=Te&8191,Ce=Te>>>13,ut=I[6]|0,qe=ut&8191,De=ut>>>13,lt=I[7]|0,se=lt&8191,Q=lt>>>13,X=I[8]|0,le=X&8191,pe=X>>>13,ke=I[9]|0,we=ke&8191,Ne=ke>>>13,ft=F[0]|0,Ie=ft&8191,Be=ft>>>13,dt=F[1]|0,Ve=dt&8191,je=dt>>>13,hr=F[2]|0,ze=hr&8191,We=hr>>>13,$t=F[3]|0,Qe=$t&8191,Je=$t>>>13,Er=F[4]|0,Le=Er&8191,He=Er>>>13,it=F[5]|0,Ke=it&8191,Ye=it>>>13,Rr=F[6]|0,Ze=Rr&8191,Ge=Rr>>>13,pr=F[7]|0,Xe=pr&8191,et=pr>>>13,mr=F[8]|0,tt=mr&8191,rt=mr>>>13,Ht=F[9]|0,at=Ht&8191,ot=Ht>>>13;N.negative=s.negative^m.negative,N.length=19,G=Math.imul(ve,Ie),y=Math.imul(ve,Be),y=y+Math.imul(ye,Ie)|0,H=Math.imul(ye,Be);var Gt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,G=Math.imul(J,Ie),y=Math.imul(J,Be),y=y+Math.imul(Z,Ie)|0,H=Math.imul(Z,Be),G=G+Math.imul(ve,Ve)|0,y=y+Math.imul(ve,je)|0,y=y+Math.imul(ye,Ve)|0,H=H+Math.imul(ye,je)|0;var Vt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,G=Math.imul(me,Ie),y=Math.imul(me,Be),y=y+Math.imul(be,Ie)|0,H=Math.imul(be,Be),G=G+Math.imul(J,Ve)|0,y=y+Math.imul(J,je)|0,y=y+Math.imul(Z,Ve)|0,H=H+Math.imul(Z,je)|0,G=G+Math.imul(ve,ze)|0,y=y+Math.imul(ve,We)|0,y=y+Math.imul(ye,ze)|0,H=H+Math.imul(ye,We)|0;var er=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(er>>>26)|0,er&=67108863,G=Math.imul(U,Ie),y=Math.imul(U,Be),y=y+Math.imul(oe,Ie)|0,H=Math.imul(oe,Be),G=G+Math.imul(me,Ve)|0,y=y+Math.imul(me,je)|0,y=y+Math.imul(be,Ve)|0,H=H+Math.imul(be,je)|0,G=G+Math.imul(J,ze)|0,y=y+Math.imul(J,We)|0,y=y+Math.imul(Z,ze)|0,H=H+Math.imul(Z,We)|0,G=G+Math.imul(ve,Qe)|0,y=y+Math.imul(ve,Je)|0,y=y+Math.imul(ye,Qe)|0,H=H+Math.imul(ye,Je)|0;var tr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(tr>>>26)|0,tr&=67108863,G=Math.imul(Me,Ie),y=Math.imul(Me,Be),y=y+Math.imul(he,Ie)|0,H=Math.imul(he,Be),G=G+Math.imul(U,Ve)|0,y=y+Math.imul(U,je)|0,y=y+Math.imul(oe,Ve)|0,H=H+Math.imul(oe,je)|0,G=G+Math.imul(me,ze)|0,y=y+Math.imul(me,We)|0,y=y+Math.imul(be,ze)|0,H=H+Math.imul(be,We)|0,G=G+Math.imul(J,Qe)|0,y=y+Math.imul(J,Je)|0,y=y+Math.imul(Z,Qe)|0,H=H+Math.imul(Z,Je)|0,G=G+Math.imul(ve,Le)|0,y=y+Math.imul(ve,He)|0,y=y+Math.imul(ye,Le)|0,H=H+Math.imul(ye,He)|0;var Kt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,G=Math.imul(Ae,Ie),y=Math.imul(Ae,Be),y=y+Math.imul(Ce,Ie)|0,H=Math.imul(Ce,Be),G=G+Math.imul(Me,Ve)|0,y=y+Math.imul(Me,je)|0,y=y+Math.imul(he,Ve)|0,H=H+Math.imul(he,je)|0,G=G+Math.imul(U,ze)|0,y=y+Math.imul(U,We)|0,y=y+Math.imul(oe,ze)|0,H=H+Math.imul(oe,We)|0,G=G+Math.imul(me,Qe)|0,y=y+Math.imul(me,Je)|0,y=y+Math.imul(be,Qe)|0,H=H+Math.imul(be,Je)|0,G=G+Math.imul(J,Le)|0,y=y+Math.imul(J,He)|0,y=y+Math.imul(Z,Le)|0,H=H+Math.imul(Z,He)|0,G=G+Math.imul(ve,Ke)|0,y=y+Math.imul(ve,Ye)|0,y=y+Math.imul(ye,Ke)|0,H=H+Math.imul(ye,Ye)|0;var rr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(rr>>>26)|0,rr&=67108863,G=Math.imul(qe,Ie),y=Math.imul(qe,Be),y=y+Math.imul(De,Ie)|0,H=Math.imul(De,Be),G=G+Math.imul(Ae,Ve)|0,y=y+Math.imul(Ae,je)|0,y=y+Math.imul(Ce,Ve)|0,H=H+Math.imul(Ce,je)|0,G=G+Math.imul(Me,ze)|0,y=y+Math.imul(Me,We)|0,y=y+Math.imul(he,ze)|0,H=H+Math.imul(he,We)|0,G=G+Math.imul(U,Qe)|0,y=y+Math.imul(U,Je)|0,y=y+Math.imul(oe,Qe)|0,H=H+Math.imul(oe,Je)|0,G=G+Math.imul(me,Le)|0,y=y+Math.imul(me,He)|0,y=y+Math.imul(be,Le)|0,H=H+Math.imul(be,He)|0,G=G+Math.imul(J,Ke)|0,y=y+Math.imul(J,Ye)|0,y=y+Math.imul(Z,Ke)|0,H=H+Math.imul(Z,Ye)|0,G=G+Math.imul(ve,Ze)|0,y=y+Math.imul(ve,Ge)|0,y=y+Math.imul(ye,Ze)|0,H=H+Math.imul(ye,Ge)|0;var ir=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ir>>>26)|0,ir&=67108863,G=Math.imul(se,Ie),y=Math.imul(se,Be),y=y+Math.imul(Q,Ie)|0,H=Math.imul(Q,Be),G=G+Math.imul(qe,Ve)|0,y=y+Math.imul(qe,je)|0,y=y+Math.imul(De,Ve)|0,H=H+Math.imul(De,je)|0,G=G+Math.imul(Ae,ze)|0,y=y+Math.imul(Ae,We)|0,y=y+Math.imul(Ce,ze)|0,H=H+Math.imul(Ce,We)|0,G=G+Math.imul(Me,Qe)|0,y=y+Math.imul(Me,Je)|0,y=y+Math.imul(he,Qe)|0,H=H+Math.imul(he,Je)|0,G=G+Math.imul(U,Le)|0,y=y+Math.imul(U,He)|0,y=y+Math.imul(oe,Le)|0,H=H+Math.imul(oe,He)|0,G=G+Math.imul(me,Ke)|0,y=y+Math.imul(me,Ye)|0,y=y+Math.imul(be,Ke)|0,H=H+Math.imul(be,Ye)|0,G=G+Math.imul(J,Ze)|0,y=y+Math.imul(J,Ge)|0,y=y+Math.imul(Z,Ze)|0,H=H+Math.imul(Z,Ge)|0,G=G+Math.imul(ve,Xe)|0,y=y+Math.imul(ve,et)|0,y=y+Math.imul(ye,Xe)|0,H=H+Math.imul(ye,et)|0;var nr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(nr>>>26)|0,nr&=67108863,G=Math.imul(le,Ie),y=Math.imul(le,Be),y=y+Math.imul(pe,Ie)|0,H=Math.imul(pe,Be),G=G+Math.imul(se,Ve)|0,y=y+Math.imul(se,je)|0,y=y+Math.imul(Q,Ve)|0,H=H+Math.imul(Q,je)|0,G=G+Math.imul(qe,ze)|0,y=y+Math.imul(qe,We)|0,y=y+Math.imul(De,ze)|0,H=H+Math.imul(De,We)|0,G=G+Math.imul(Ae,Qe)|0,y=y+Math.imul(Ae,Je)|0,y=y+Math.imul(Ce,Qe)|0,H=H+Math.imul(Ce,Je)|0,G=G+Math.imul(Me,Le)|0,y=y+Math.imul(Me,He)|0,y=y+Math.imul(he,Le)|0,H=H+Math.imul(he,He)|0,G=G+Math.imul(U,Ke)|0,y=y+Math.imul(U,Ye)|0,y=y+Math.imul(oe,Ke)|0,H=H+Math.imul(oe,Ye)|0,G=G+Math.imul(me,Ze)|0,y=y+Math.imul(me,Ge)|0,y=y+Math.imul(be,Ze)|0,H=H+Math.imul(be,Ge)|0,G=G+Math.imul(J,Xe)|0,y=y+Math.imul(J,et)|0,y=y+Math.imul(Z,Xe)|0,H=H+Math.imul(Z,et)|0,G=G+Math.imul(ve,tt)|0,y=y+Math.imul(ve,rt)|0,y=y+Math.imul(ye,tt)|0,H=H+Math.imul(ye,rt)|0;var sr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(sr>>>26)|0,sr&=67108863,G=Math.imul(we,Ie),y=Math.imul(we,Be),y=y+Math.imul(Ne,Ie)|0,H=Math.imul(Ne,Be),G=G+Math.imul(le,Ve)|0,y=y+Math.imul(le,je)|0,y=y+Math.imul(pe,Ve)|0,H=H+Math.imul(pe,je)|0,G=G+Math.imul(se,ze)|0,y=y+Math.imul(se,We)|0,y=y+Math.imul(Q,ze)|0,H=H+Math.imul(Q,We)|0,G=G+Math.imul(qe,Qe)|0,y=y+Math.imul(qe,Je)|0,y=y+Math.imul(De,Qe)|0,H=H+Math.imul(De,Je)|0,G=G+Math.imul(Ae,Le)|0,y=y+Math.imul(Ae,He)|0,y=y+Math.imul(Ce,Le)|0,H=H+Math.imul(Ce,He)|0,G=G+Math.imul(Me,Ke)|0,y=y+Math.imul(Me,Ye)|0,y=y+Math.imul(he,Ke)|0,H=H+Math.imul(he,Ye)|0,G=G+Math.imul(U,Ze)|0,y=y+Math.imul(U,Ge)|0,y=y+Math.imul(oe,Ze)|0,H=H+Math.imul(oe,Ge)|0,G=G+Math.imul(me,Xe)|0,y=y+Math.imul(me,et)|0,y=y+Math.imul(be,Xe)|0,H=H+Math.imul(be,et)|0,G=G+Math.imul(J,tt)|0,y=y+Math.imul(J,rt)|0,y=y+Math.imul(Z,tt)|0,H=H+Math.imul(Z,rt)|0,G=G+Math.imul(ve,at)|0,y=y+Math.imul(ve,ot)|0,y=y+Math.imul(ye,at)|0,H=H+Math.imul(ye,ot)|0;var Yt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,G=Math.imul(we,Ve),y=Math.imul(we,je),y=y+Math.imul(Ne,Ve)|0,H=Math.imul(Ne,je),G=G+Math.imul(le,ze)|0,y=y+Math.imul(le,We)|0,y=y+Math.imul(pe,ze)|0,H=H+Math.imul(pe,We)|0,G=G+Math.imul(se,Qe)|0,y=y+Math.imul(se,Je)|0,y=y+Math.imul(Q,Qe)|0,H=H+Math.imul(Q,Je)|0,G=G+Math.imul(qe,Le)|0,y=y+Math.imul(qe,He)|0,y=y+Math.imul(De,Le)|0,H=H+Math.imul(De,He)|0,G=G+Math.imul(Ae,Ke)|0,y=y+Math.imul(Ae,Ye)|0,y=y+Math.imul(Ce,Ke)|0,H=H+Math.imul(Ce,Ye)|0,G=G+Math.imul(Me,Ze)|0,y=y+Math.imul(Me,Ge)|0,y=y+Math.imul(he,Ze)|0,H=H+Math.imul(he,Ge)|0,G=G+Math.imul(U,Xe)|0,y=y+Math.imul(U,et)|0,y=y+Math.imul(oe,Xe)|0,H=H+Math.imul(oe,et)|0,G=G+Math.imul(me,tt)|0,y=y+Math.imul(me,rt)|0,y=y+Math.imul(be,tt)|0,H=H+Math.imul(be,rt)|0,G=G+Math.imul(J,at)|0,y=y+Math.imul(J,ot)|0,y=y+Math.imul(Z,at)|0,H=H+Math.imul(Z,ot)|0;var ar=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ar>>>26)|0,ar&=67108863,G=Math.imul(we,ze),y=Math.imul(we,We),y=y+Math.imul(Ne,ze)|0,H=Math.imul(Ne,We),G=G+Math.imul(le,Qe)|0,y=y+Math.imul(le,Je)|0,y=y+Math.imul(pe,Qe)|0,H=H+Math.imul(pe,Je)|0,G=G+Math.imul(se,Le)|0,y=y+Math.imul(se,He)|0,y=y+Math.imul(Q,Le)|0,H=H+Math.imul(Q,He)|0,G=G+Math.imul(qe,Ke)|0,y=y+Math.imul(qe,Ye)|0,y=y+Math.imul(De,Ke)|0,H=H+Math.imul(De,Ye)|0,G=G+Math.imul(Ae,Ze)|0,y=y+Math.imul(Ae,Ge)|0,y=y+Math.imul(Ce,Ze)|0,H=H+Math.imul(Ce,Ge)|0,G=G+Math.imul(Me,Xe)|0,y=y+Math.imul(Me,et)|0,y=y+Math.imul(he,Xe)|0,H=H+Math.imul(he,et)|0,G=G+Math.imul(U,tt)|0,y=y+Math.imul(U,rt)|0,y=y+Math.imul(oe,tt)|0,H=H+Math.imul(oe,rt)|0,G=G+Math.imul(me,at)|0,y=y+Math.imul(me,ot)|0,y=y+Math.imul(be,at)|0,H=H+Math.imul(be,ot)|0;var or=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(or>>>26)|0,or&=67108863,G=Math.imul(we,Qe),y=Math.imul(we,Je),y=y+Math.imul(Ne,Qe)|0,H=Math.imul(Ne,Je),G=G+Math.imul(le,Le)|0,y=y+Math.imul(le,He)|0,y=y+Math.imul(pe,Le)|0,H=H+Math.imul(pe,He)|0,G=G+Math.imul(se,Ke)|0,y=y+Math.imul(se,Ye)|0,y=y+Math.imul(Q,Ke)|0,H=H+Math.imul(Q,Ye)|0,G=G+Math.imul(qe,Ze)|0,y=y+Math.imul(qe,Ge)|0,y=y+Math.imul(De,Ze)|0,H=H+Math.imul(De,Ge)|0,G=G+Math.imul(Ae,Xe)|0,y=y+Math.imul(Ae,et)|0,y=y+Math.imul(Ce,Xe)|0,H=H+Math.imul(Ce,et)|0,G=G+Math.imul(Me,tt)|0,y=y+Math.imul(Me,rt)|0,y=y+Math.imul(he,tt)|0,H=H+Math.imul(he,rt)|0,G=G+Math.imul(U,at)|0,y=y+Math.imul(U,ot)|0,y=y+Math.imul(oe,at)|0,H=H+Math.imul(oe,ot)|0;var Jt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,G=Math.imul(we,Le),y=Math.imul(we,He),y=y+Math.imul(Ne,Le)|0,H=Math.imul(Ne,He),G=G+Math.imul(le,Ke)|0,y=y+Math.imul(le,Ye)|0,y=y+Math.imul(pe,Ke)|0,H=H+Math.imul(pe,Ye)|0,G=G+Math.imul(se,Ze)|0,y=y+Math.imul(se,Ge)|0,y=y+Math.imul(Q,Ze)|0,H=H+Math.imul(Q,Ge)|0,G=G+Math.imul(qe,Xe)|0,y=y+Math.imul(qe,et)|0,y=y+Math.imul(De,Xe)|0,H=H+Math.imul(De,et)|0,G=G+Math.imul(Ae,tt)|0,y=y+Math.imul(Ae,rt)|0,y=y+Math.imul(Ce,tt)|0,H=H+Math.imul(Ce,rt)|0,G=G+Math.imul(Me,at)|0,y=y+Math.imul(Me,ot)|0,y=y+Math.imul(he,at)|0,H=H+Math.imul(he,ot)|0;var jt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(jt>>>26)|0,jt&=67108863,G=Math.imul(we,Ke),y=Math.imul(we,Ye),y=y+Math.imul(Ne,Ke)|0,H=Math.imul(Ne,Ye),G=G+Math.imul(le,Ze)|0,y=y+Math.imul(le,Ge)|0,y=y+Math.imul(pe,Ze)|0,H=H+Math.imul(pe,Ge)|0,G=G+Math.imul(se,Xe)|0,y=y+Math.imul(se,et)|0,y=y+Math.imul(Q,Xe)|0,H=H+Math.imul(Q,et)|0,G=G+Math.imul(qe,tt)|0,y=y+Math.imul(qe,rt)|0,y=y+Math.imul(De,tt)|0,H=H+Math.imul(De,rt)|0,G=G+Math.imul(Ae,at)|0,y=y+Math.imul(Ae,ot)|0,y=y+Math.imul(Ce,at)|0,H=H+Math.imul(Ce,ot)|0;var ur=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ur>>>26)|0,ur&=67108863,G=Math.imul(we,Ze),y=Math.imul(we,Ge),y=y+Math.imul(Ne,Ze)|0,H=Math.imul(Ne,Ge),G=G+Math.imul(le,Xe)|0,y=y+Math.imul(le,et)|0,y=y+Math.imul(pe,Xe)|0,H=H+Math.imul(pe,et)|0,G=G+Math.imul(se,tt)|0,y=y+Math.imul(se,rt)|0,y=y+Math.imul(Q,tt)|0,H=H+Math.imul(Q,rt)|0,G=G+Math.imul(qe,at)|0,y=y+Math.imul(qe,ot)|0,y=y+Math.imul(De,at)|0,H=H+Math.imul(De,ot)|0;var At=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(At>>>26)|0,At&=67108863,G=Math.imul(we,Xe),y=Math.imul(we,et),y=y+Math.imul(Ne,Xe)|0,H=Math.imul(Ne,et),G=G+Math.imul(le,tt)|0,y=y+Math.imul(le,rt)|0,y=y+Math.imul(pe,tt)|0,H=H+Math.imul(pe,rt)|0,G=G+Math.imul(se,at)|0,y=y+Math.imul(se,ot)|0,y=y+Math.imul(Q,at)|0,H=H+Math.imul(Q,ot)|0;var Mr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,G=Math.imul(we,tt),y=Math.imul(we,rt),y=y+Math.imul(Ne,tt)|0,H=Math.imul(Ne,rt),G=G+Math.imul(le,at)|0,y=y+Math.imul(le,ot)|0,y=y+Math.imul(pe,at)|0,H=H+Math.imul(pe,ot)|0;var Bt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,G=Math.imul(we,at),y=Math.imul(we,ot),y=y+Math.imul(Ne,at)|0,H=Math.imul(Ne,ot);var Ir=(j+G|0)+((y&8191)<<13)|0;return j=(H+(y>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,P[0]=Gt,P[1]=Vt,P[2]=er,P[3]=tr,P[4]=Kt,P[5]=rr,P[6]=ir,P[7]=nr,P[8]=sr,P[9]=Yt,P[10]=ar,P[11]=or,P[12]=Jt,P[13]=jt,P[14]=ur,P[15]=At,P[16]=Mr,P[17]=Bt,P[18]=Ir,j!==0&&(P[19]=j,N.length++),N};Math.imul||(R=A);function O(C,s,m){m.negative=s.negative^C.negative,m.length=C.length+s.length;for(var N=0,I=0,F=0;F<m.length-1;F++){var P=I;I=0;for(var j=N&67108863,G=Math.min(F,s.length-1),y=Math.max(0,F-C.length+1);y<=G;y++){var H=F-y,fe=C.words[H]|0,ve=s.words[y]|0,ye=fe*ve,Ee=ye&67108863;P=P+(ye/67108864|0)|0,Ee=Ee+j|0,j=Ee&67108863,P=P+(Ee>>>26)|0,I+=P>>>26,P&=67108863}m.words[F]=j,N=P,P=I}return N!==0?m.words[F]=N:m.length--,m._strip()}function V(C,s,m){return O(C,s,m)}o.prototype.mulTo=function(s,m){var N,I=this.length+s.length;return this.length===10&&s.length===10?N=R(this,s,m):I<63?N=A(this,s,m):I<1024?N=O(this,s,m):N=V(this,s,m),N};function Y(C,s){this.x=C,this.y=s}Y.prototype.makeRBT=function(s){for(var m=new Array(s),N=o.prototype._countBits(s)-1,I=0;I<s;I++)m[I]=this.revBin(I,N,s);return m},Y.prototype.revBin=function(s,m,N){if(s===0||s===N-1)return s;for(var I=0,F=0;F<m;F++)I|=(s&1)<<m-F-1,s>>=1;return I},Y.prototype.permute=function(s,m,N,I,F,P){for(var j=0;j<P;j++)I[j]=m[s[j]],F[j]=N[s[j]]},Y.prototype.transform=function(s,m,N,I,F,P){this.permute(P,s,m,N,I,F);for(var j=1;j<F;j<<=1)for(var G=j<<1,y=Math.cos(2*Math.PI/G),H=Math.sin(2*Math.PI/G),fe=0;fe<F;fe+=G)for(var ve=y,ye=H,Ee=0;Ee<j;Ee++){var J=N[fe+Ee],Z=I[fe+Ee],ce=N[fe+Ee+j],me=I[fe+Ee+j],be=ve*ce-ye*me;me=ve*me+ye*ce,ce=be,N[fe+Ee]=J+ce,I[fe+Ee]=Z+me,N[fe+Ee+j]=J-ce,I[fe+Ee+j]=Z-me,Ee!==G&&(be=y*ve-H*ye,ye=y*ye+H*ve,ve=be)}},Y.prototype.guessLen13b=function(s,m){var N=Math.max(m,s)|1,I=N&1,F=0;for(N=N/2|0;N;N=N>>>1)F++;return 1<<F+1+I},Y.prototype.conjugate=function(s,m,N){if(!(N<=1))for(var I=0;I<N/2;I++){var F=s[I];s[I]=s[N-I-1],s[N-I-1]=F,F=m[I],m[I]=-m[N-I-1],m[N-I-1]=-F}},Y.prototype.normalize13b=function(s,m){for(var N=0,I=0;I<m/2;I++){var F=Math.round(s[2*I+1]/m)*8192+Math.round(s[2*I]/m)+N;s[I]=F&67108863,F<67108864?N=0:N=F/67108864|0}return s},Y.prototype.convert13b=function(s,m,N,I){for(var F=0,P=0;P<m;P++)F=F+(s[P]|0),N[2*P]=F&8191,F=F>>>13,N[2*P+1]=F&8191,F=F>>>13;for(P=2*m;P<I;++P)N[P]=0;x(F===0),x((F&~8191)==0)},Y.prototype.stub=function(s){for(var m=new Array(s),N=0;N<s;N++)m[N]=0;return m},Y.prototype.mulp=function(s,m,N){var I=2*this.guessLen13b(s.length,m.length),F=this.makeRBT(I),P=this.stub(I),j=new Array(I),G=new Array(I),y=new Array(I),H=new Array(I),fe=new Array(I),ve=new Array(I),ye=N.words;ye.length=I,this.convert13b(s.words,s.length,j,I),this.convert13b(m.words,m.length,H,I),this.transform(j,P,G,y,I,F),this.transform(H,P,fe,ve,I,F);for(var Ee=0;Ee<I;Ee++){var J=G[Ee]*fe[Ee]-y[Ee]*ve[Ee];y[Ee]=G[Ee]*ve[Ee]+y[Ee]*fe[Ee],G[Ee]=J}return this.conjugate(G,y,I),this.transform(G,y,ye,P,I,F),this.conjugate(ye,P,I),this.normalize13b(ye,I),N.negative=s.negative^m.negative,N.length=s.length+m.length,N._strip()},o.prototype.mul=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},o.prototype.mulf=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),V(this,s,m)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var m=s<0;m&&(s=-s),x(typeof s=="number"),x(s<67108864);for(var N=0,I=0;I<this.length;I++){var F=(this.words[I]|0)*s,P=(F&67108863)+(N&67108863);N>>=26,N+=F/67108864|0,N+=P>>>26,this.words[I]=P&67108863}return N!==0&&(this.words[I]=N,this.length++),m?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var m=k(s);if(m.length===0)return new o(1);for(var N=this,I=0;I<m.length&&m[I]===0;I++,N=N.sqr());if(++I<m.length)for(var F=N.sqr();I<m.length;I++,F=F.sqr())m[I]!==0&&(N=N.mul(F));return N},o.prototype.iushln=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26,I=67108863>>>26-m<<26-m,F;if(m!==0){var P=0;for(F=0;F<this.length;F++){var j=this.words[F]&I,G=(this.words[F]|0)-j<<m;this.words[F]=G|P,P=j>>>26-m}P&&(this.words[F]=P,this.length++)}if(N!==0){for(F=this.length-1;F>=0;F--)this.words[F+N]=this.words[F];for(F=0;F<N;F++)this.words[F]=0;this.length+=N}return this._strip()},o.prototype.ishln=function(s){return x(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,m,N){x(typeof s=="number"&&s>=0);var I;m?I=(m-m%26)/26:I=0;var F=s%26,P=Math.min((s-F)/26,this.length),j=67108863^67108863>>>F<<F,G=N;if(I-=P,I=Math.max(0,I),G){for(var y=0;y<P;y++)G.words[y]=this.words[y];G.length=P}if(P!==0)if(this.length>P)for(this.length-=P,y=0;y<this.length;y++)this.words[y]=this.words[y+P];else this.words[0]=0,this.length=1;var H=0;for(y=this.length-1;y>=0&&(H!==0||y>=I);y--){var fe=this.words[y]|0;this.words[y]=H<<26-F|fe>>>F,H=fe&j}return G&&H!==0&&(G.words[G.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,m,N){return x(this.negative===0),this.iushrn(s,m,N)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26,I=1<<m;if(this.length<=N)return!1;var F=this.words[N];return!!(F&I)},o.prototype.imaskn=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26;if(x(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(m!==0&&N++,this.length=Math.min(N,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return x(typeof s=="number"),x(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(s){if(x(typeof s=="number"),x(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,m,N){var I=s.length+N,F;this._expand(I);var P,j=0;for(F=0;F<s.length;F++){P=(this.words[F+N]|0)+j;var G=(s.words[F]|0)*m;P-=G&67108863,j=(P>>26)-(G/67108864|0),this.words[F+N]=P&67108863}for(;F<this.length-N;F++)P=(this.words[F+N]|0)+j,j=P>>26,this.words[F+N]=P&67108863;if(j===0)return this._strip();for(x(j===-1),j=0,F=0;F<this.length;F++)P=-(this.words[F]|0)+j,j=P>>26,this.words[F]=P&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,m){var N=this.length-s.length,I=this.clone(),F=s,P=F.words[F.length-1]|0,j=this._countBits(P);N=26-j,N!==0&&(F=F.ushln(N),I.iushln(N),P=F.words[F.length-1]|0);var G=I.length-F.length,y;if(m!=="mod"){y=new o(null),y.length=G+1,y.words=new Array(y.length);for(var H=0;H<y.length;H++)y.words[H]=0}var fe=I.clone()._ishlnsubmul(F,1,G);fe.negative===0&&(I=fe,y&&(y.words[G]=1));for(var ve=G-1;ve>=0;ve--){var ye=(I.words[F.length+ve]|0)*67108864+(I.words[F.length+ve-1]|0);for(ye=Math.min(ye/P|0,67108863),I._ishlnsubmul(F,ye,ve);I.negative!==0;)ye--,I.negative=0,I._ishlnsubmul(F,1,ve),I.isZero()||(I.negative^=1);y&&(y.words[ve]=ye)}return y&&y._strip(),I._strip(),m!=="div"&&N!==0&&I.iushrn(N),{div:y||null,mod:I}},o.prototype.divmod=function(s,m,N){if(x(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var I,F,P;return this.negative!==0&&s.negative===0?(P=this.neg().divmod(s,m),m!=="mod"&&(I=P.div.neg()),m!=="div"&&(F=P.mod.neg(),N&&F.negative!==0&&F.iadd(s)),{div:I,mod:F}):this.negative===0&&s.negative!==0?(P=this.divmod(s.neg(),m),m!=="mod"&&(I=P.div.neg()),{div:I,mod:P.mod}):(this.negative&s.negative)!=0?(P=this.neg().divmod(s.neg(),m),m!=="div"&&(F=P.mod.neg(),N&&F.negative!==0&&F.isub(s)),{div:P.div,mod:F}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,m)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var N=m.div.negative!==0?m.mod.isub(s):m.mod,I=s.ushrn(1),F=s.andln(1),P=N.cmp(I);return P<0||F===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(s){var m=s<0;m&&(s=-s),x(s<=67108863);for(var N=(1<<26)%s,I=0,F=this.length-1;F>=0;F--)I=(N*I+(this.words[F]|0))%s;return m?-I:I},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var m=s<0;m&&(s=-s),x(s<=67108863);for(var N=0,I=this.length-1;I>=0;I--){var F=(this.words[I]|0)+N*67108864;this.words[I]=F/s|0,N=F%s}return this._strip(),m?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){x(s.negative===0),x(!s.isZero());var m=this,N=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),F=new o(0),P=new o(0),j=new o(1),G=0;m.isEven()&&N.isEven();)m.iushrn(1),N.iushrn(1),++G;for(var y=N.clone(),H=m.clone();!m.isZero();){for(var fe=0,ve=1;(m.words[0]&ve)==0&&fe<26;++fe,ve<<=1);if(fe>0)for(m.iushrn(fe);fe-- >0;)(I.isOdd()||F.isOdd())&&(I.iadd(y),F.isub(H)),I.iushrn(1),F.iushrn(1);for(var ye=0,Ee=1;(N.words[0]&Ee)==0&&ye<26;++ye,Ee<<=1);if(ye>0)for(N.iushrn(ye);ye-- >0;)(P.isOdd()||j.isOdd())&&(P.iadd(y),j.isub(H)),P.iushrn(1),j.iushrn(1);m.cmp(N)>=0?(m.isub(N),I.isub(P),F.isub(j)):(N.isub(m),P.isub(I),j.isub(F))}return{a:P,b:j,gcd:N.iushln(G)}},o.prototype._invmp=function(s){x(s.negative===0),x(!s.isZero());var m=this,N=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),F=new o(0),P=N.clone();m.cmpn(1)>0&&N.cmpn(1)>0;){for(var j=0,G=1;(m.words[0]&G)==0&&j<26;++j,G<<=1);if(j>0)for(m.iushrn(j);j-- >0;)I.isOdd()&&I.iadd(P),I.iushrn(1);for(var y=0,H=1;(N.words[0]&H)==0&&y<26;++y,H<<=1);if(y>0)for(N.iushrn(y);y-- >0;)F.isOdd()&&F.iadd(P),F.iushrn(1);m.cmp(N)>=0?(m.isub(N),I.isub(F)):(N.isub(m),F.isub(I))}var fe;return m.cmpn(1)===0?fe=I:fe=F,fe.cmpn(0)<0&&fe.iadd(s),fe},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),N=s.clone();m.negative=0,N.negative=0;for(var I=0;m.isEven()&&N.isEven();I++)m.iushrn(1),N.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;N.isEven();)N.iushrn(1);var F=m.cmp(N);if(F<0){var P=m;m=N,N=P}else if(F===0||N.cmpn(1)===0)break;m.isub(N)}while(!0);return N.iushln(I)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){x(typeof s=="number");var m=s%26,N=(s-m)/26,I=1<<m;if(this.length<=N)return this._expand(N+1),this.words[N]|=I,this;for(var F=I,P=N;F!==0&&P<this.length;P++){var j=this.words[P]|0;j+=F,F=j>>>26,j&=67108863,this.words[P]=j}return F!==0&&(this.words[P]=F,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var N;if(this.length>1)N=1;else{m&&(s=-s),x(s<=67108863,"Number is too big");var I=this.words[0]|0;N=I===s?0:I<s?-1:1}return this.negative!==0?-N|0:N},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,N=this.length-1;N>=0;N--){var I=this.words[N]|0,F=s.words[N]|0;if(I!==F){I<F?m=-1:I>F&&(m=1);break}}return m},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new T(s)},o.prototype.toRed=function(s){return x(!this.red,"Already a number in reduction context"),x(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return x(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return x(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return x(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return x(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return x(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return x(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return x(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return x(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return x(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return x(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return x(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return x(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return x(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var ee={k256:null,p224:null,p192:null,p25519:null};function re(C,s){this.name=C,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},re.prototype.ireduce=function(s){var m=s,N;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),N=m.bitLength();while(N>this.n);var I=N<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},re.prototype.split=function(s,m){s.iushrn(this.n,0,m)},re.prototype.imulK=function(s){return s.imul(this.k)};function ie(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(ie,re),ie.prototype.split=function(s,m){for(var N=4194303,I=Math.min(s.length,9),F=0;F<I;F++)m.words[F]=s.words[F];if(m.length=I,s.length<=9){s.words[0]=0,s.length=1;return}var P=s.words[9];for(m.words[m.length++]=P&N,F=10;F<s.length;F++){var j=s.words[F]|0;s.words[F-10]=(j&N)<<4|P>>>22,P=j}P>>>=22,s.words[F-10]=P,P===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,N=0;N<s.length;N++){var I=s.words[N]|0;m+=I*977,s.words[N]=m&67108863,m=I*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(ne,re);function ue(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ue,re);function W(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(W,re),W.prototype.imulK=function(s){for(var m=0,N=0;N<s.length;N++){var I=(s.words[N]|0)*19+m,F=I&67108863;I>>>=26,s.words[N]=F,m=I}return m!==0&&(s.words[s.length++]=m),s},o._prime=function(s){if(ee[s])return ee[s];var m;if(s==="k256")m=new ie;else if(s==="p224")m=new ne;else if(s==="p192")m=new ue;else if(s==="p25519")m=new W;else throw new Error("Unknown prime "+s);return ee[s]=m,m};function T(C){if(typeof C=="string"){var s=o._prime(C);this.m=s.p,this.prime=s}else x(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}T.prototype._verify1=function(s){x(s.negative===0,"red works only with positives"),x(s.red,"red works only with red numbers")},T.prototype._verify2=function(s,m){x((s.negative|m.negative)==0,"red works only with positives"),x(s.red&&s.red===m.red,"red works only with red numbers")},T.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},T.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},T.prototype.add=function(s,m){this._verify2(s,m);var N=s.add(m);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},T.prototype.iadd=function(s,m){this._verify2(s,m);var N=s.iadd(m);return N.cmp(this.m)>=0&&N.isub(this.m),N},T.prototype.sub=function(s,m){this._verify2(s,m);var N=s.sub(m);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},T.prototype.isub=function(s,m){this._verify2(s,m);var N=s.isub(m);return N.cmpn(0)<0&&N.iadd(this.m),N},T.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},T.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},T.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},T.prototype.isqr=function(s){return this.imul(s,s.clone())},T.prototype.sqr=function(s){return this.mul(s,s)},T.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(x(m%2==1),m===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(s,N)}for(var I=this.m.subn(1),F=0;!I.isZero()&&I.andln(1)===0;)F++,I.iushrn(1);x(!I.isZero());var P=new o(1).toRed(this),j=P.redNeg(),G=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,G).cmp(j)!==0;)y.redIAdd(j);for(var H=this.pow(y,I),fe=this.pow(s,I.addn(1).iushrn(1)),ve=this.pow(s,I),ye=F;ve.cmp(P)!==0;){for(var Ee=ve,J=0;Ee.cmp(P)!==0;J++)Ee=Ee.redSqr();x(J<ye);var Z=this.pow(H,new o(1).iushln(ye-J-1));fe=fe.redMul(Z),H=Z.redSqr(),ve=ve.redMul(H),ye=J}return fe},T.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},T.prototype.pow=function(s,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var N=4,I=new Array(1<<N);I[0]=new o(1).toRed(this),I[1]=s;for(var F=2;F<I.length;F++)I[F]=this.mul(I[F-1],s);var P=I[0],j=0,G=0,y=m.bitLength()%26;for(y===0&&(y=26),F=m.length-1;F>=0;F--){for(var H=m.words[F],fe=y-1;fe>=0;fe--){var ve=H>>fe&1;if(P!==I[0]&&(P=this.sqr(P)),ve===0&&j===0){G=0;continue}j<<=1,j|=ve,G++,!(G!==N&&(F!==0||fe!==0))&&(P=this.mul(P,I[j]),G=0,j=0)}y=26}return P},T.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},T.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},o.mont=function(s){return new L(s)};function L(C){T.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(L,T),L.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},L.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},L.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var N=s.imul(m),I=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(I).iushrn(this.shift),P=F;return F.cmp(this.m)>=0?P=F.isub(this.m):F.cmpn(0)<0&&(P=F.iadd(this.m)),P._forceRed(this)},L.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new o(0)._forceRed(this);var N=s.mul(m),I=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(I).iushrn(this.shift),P=F;return F.cmp(this.m)>=0?P=F.isub(this.m):F.cmpn(0)<0&&(P=F.iadd(this.m)),P._forceRed(this)},L.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}}(b,this)},56042:(b,$,w)=>{b.exports=w(42063)},42063:b=>{"use strict";b.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},42236:b=>{"use strict";b.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},64743:(b,$,w)=>{var _=w(89509).Buffer,D=w(23482),x=w(23872),S=w(35717),o=w(82957),l=w(47753),n=w(42063);Object.keys(n).forEach(function(E){n[E].id=_.from(n[E].id,"hex"),n[E.toLowerCase()]=n[E]});function c(E){x.Writable.call(this);var d=n[E];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=D(d.hash),this._tag=d.id,this._signType=d.sign}S(c,x.Writable),c.prototype._write=function(d,h,v){this._hash.update(d),v()},c.prototype.update=function(d,h){return typeof d=="string"&&(d=_.from(d,h)),this._hash.update(d),this},c.prototype.sign=function(d,h){this.end();var v=this._hash.digest(),k=o(v,d,this._hashType,this._signType,this._tag);return h?k.toString(h):k};function g(E){x.Writable.call(this);var d=n[E];if(!d)throw new Error("Unknown message digest");this._hash=D(d.hash),this._tag=d.id,this._signType=d.sign}S(g,x.Writable),g.prototype._write=function(d,h,v){this._hash.update(d),v()},g.prototype.update=function(d,h){return typeof d=="string"&&(d=_.from(d,h)),this._hash.update(d),this},g.prototype.verify=function(d,h,v){typeof h=="string"&&(h=_.from(h,v)),this.end();var k=this._hash.digest();return l(h,k,d,this._signType,this._tag)};function f(E){return new c(E)}function u(E){return new g(E)}b.exports={Sign:f,Verify:u,createSign:f,createVerify:u}},82957:(b,$,w)=>{var _=w(89509).Buffer,D=w(58355),x=w(23663),S=w(86266).ec,o=w(58815),l=w(70980),n=w(42236);function c(A,R,O,V,Y){var ee=l(R);if(ee.curve){if(V!=="ecdsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");return g(A,ee)}else if(ee.type==="dsa"){if(V!=="dsa")throw new Error("wrong private key type");return f(A,ee,O)}else if(V!=="rsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");A=_.concat([Y,A]);for(var re=ee.modulus.byteLength(),ie=[0,1];A.length+ie.length+1<re;)ie.push(255);ie.push(0);for(var ne=-1;++ne<A.length;)ie.push(A[ne]);var ue=x(ie,ee);return ue}function g(A,R){var O=n[R.curve.join(".")];if(!O)throw new Error("unknown curve "+R.curve.join("."));var V=new S(O),Y=V.keyFromPrivate(R.privateKey),ee=Y.sign(A);return _.from(ee.toDER())}function f(A,R,O){for(var V=R.params.priv_key,Y=R.params.p,ee=R.params.q,re=R.params.g,ie=new o(0),ne,ue=d(A,ee).mod(ee),W=!1,T=E(V,ee,A,O);W===!1;)ne=v(ee,T,O),ie=k(re,ne,Y,ee),W=ne.invm(ee).imul(ue.add(V.mul(ie))).mod(ee),W.cmpn(0)===0&&(W=!1,ie=new o(0));return u(ie,W)}function u(A,R){A=A.toArray(),R=R.toArray(),A[0]&128&&(A=[0].concat(A)),R[0]&128&&(R=[0].concat(R));var O=A.length+R.length+4,V=[48,O,2,A.length];return V=V.concat(A,[2,R.length],R),_.from(V)}function E(A,R,O,V){if(A=_.from(A.toArray()),A.length<R.byteLength()){var Y=_.alloc(R.byteLength()-A.length);A=_.concat([Y,A])}var ee=O.length,re=h(O,R),ie=_.alloc(ee);ie.fill(1);var ne=_.alloc(ee);return ne=D(V,ne).update(ie).update(_.from([0])).update(A).update(re).digest(),ie=D(V,ne).update(ie).digest(),ne=D(V,ne).update(ie).update(_.from([1])).update(A).update(re).digest(),ie=D(V,ne).update(ie).digest(),{k:ne,v:ie}}function d(A,R){var O=new o(A),V=(A.length<<3)-R.bitLength();return V>0&&O.ishrn(V),O}function h(A,R){A=d(A,R),A=A.mod(R);var O=_.from(A.toArray());if(O.length<R.byteLength()){var V=_.alloc(R.byteLength()-O.length);O=_.concat([V,O])}return O}function v(A,R,O){var V,Y;do{for(V=_.alloc(0);V.length*8<A.bitLength();)R.v=D(O,R.k).update(R.v).digest(),V=_.concat([V,R.v]);Y=d(V,A),R.k=D(O,R.k).update(R.v).update(_.from([0])).digest(),R.v=D(O,R.k).update(R.v).digest()}while(Y.cmp(A)!==-1);return Y}function k(A,R,O,V){return A.toRed(o.mont(O)).redPow(R).fromRed().mod(V)}b.exports=c,b.exports.getKey=E,b.exports.makeKey=v},47753:(b,$,w)=>{var _=w(89509).Buffer,D=w(58815),x=w(86266).ec,S=w(70980),o=w(42236);function l(f,u,E,d,h){var v=S(E);if(v.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return n(f,u,v)}else if(v.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return c(f,u,v)}else if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");u=_.concat([h,u]);for(var k=v.modulus.byteLength(),A=[1],R=0;u.length+A.length+2<k;)A.push(255),R++;A.push(0);for(var O=-1;++O<u.length;)A.push(u[O]);A=_.from(A);var V=D.mont(v.modulus);f=new D(f).toRed(V),f=f.redPow(new D(v.publicExponent)),f=_.from(f.fromRed().toArray());var Y=R<8?1:0;for(k=Math.min(f.length,A.length),f.length!==A.length&&(Y=1),O=-1;++O<k;)Y|=f[O]^A[O];return Y===0}function n(f,u,E){var d=o[E.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+E.data.algorithm.curve.join("."));var h=new x(d),v=E.data.subjectPrivateKey.data;return h.verify(u,f,v)}function c(f,u,E){var d=E.data.p,h=E.data.q,v=E.data.g,k=E.data.pub_key,A=S.signature.decode(f,"der"),R=A.s,O=A.r;g(R,h),g(O,h);var V=D.mont(d),Y=R.invm(h),ee=v.toRed(V).redPow(new D(u).mul(Y).mod(h)).fromRed().mul(k.toRed(V).redPow(O.mul(Y).mod(h)).fromRed()).mod(d).mod(h);return ee.cmp(O)===0}function g(f,u){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(u)>=u)throw new Error("invalid sig")}b.exports=l},58815:function(b,$,w){b=w.nmd(b),function(_,D){"use strict";function x(C,s){if(!C)throw new Error(s||"Assertion failed")}function S(C,s){C.super_=s;var m=function(){};m.prototype=s.prototype,C.prototype=new m,C.prototype.constructor=C}function o(C,s,m){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((s==="le"||s==="be")&&(m=s,s=10),this._init(C||0,s||10,m||"be"))}typeof _=="object"?_.exports=o:D.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=w(2363).Buffer}catch(C){}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,m){return s.cmp(m)>0?s:m},o.min=function(s,m){return s.cmp(m)<0?s:m},o.prototype._init=function(s,m,N){if(typeof s=="number")return this._initNumber(s,m,N);if(typeof s=="object")return this._initArray(s,m,N);m==="hex"&&(m=16),x(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var I=0;s[0]==="-"&&(I++,this.negative=1),I<s.length&&(m===16?this._parseHex(s,I,N):(this._parseBase(s,m,I),N==="le"&&this._initArray(this.toArray(),m,N)))},o.prototype._initNumber=function(s,m,N){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(x(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),m,N)},o.prototype._initArray=function(s,m,N){if(x(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var F,P,j=0;if(N==="be")for(I=s.length-1,F=0;I>=0;I-=3)P=s[I]|s[I-1]<<8|s[I-2]<<16,this.words[F]|=P<<j&67108863,this.words[F+1]=P>>>26-j&67108863,j+=24,j>=26&&(j-=26,F++);else if(N==="le")for(I=0,F=0;I<s.length;I+=3)P=s[I]|s[I+1]<<8|s[I+2]<<16,this.words[F]|=P<<j&67108863,this.words[F+1]=P>>>26-j&67108863,j+=24,j>=26&&(j-=26,F++);return this._strip()};function n(C,s){var m=C.charCodeAt(s);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;x(!1,"Invalid character in "+C)}function c(C,s,m){var N=n(C,m);return m-1>=s&&(N|=n(C,m-1)<<4),N}o.prototype._parseHex=function(s,m,N){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var F=0,P=0,j;if(N==="be")for(I=s.length-1;I>=m;I-=2)j=c(s,m,I)<<F,this.words[P]|=j&67108863,F>=18?(F-=18,P+=1,this.words[P]|=j>>>26):F+=8;else{var G=s.length-m;for(I=G%2==0?m+1:m;I<s.length;I+=2)j=c(s,m,I)<<F,this.words[P]|=j&67108863,F>=18?(F-=18,P+=1,this.words[P]|=j>>>26):F+=8}this._strip()};function g(C,s,m,N){for(var I=0,F=0,P=Math.min(C.length,m),j=s;j<P;j++){var G=C.charCodeAt(j)-48;I*=N,G>=49?F=G-49+10:G>=17?F=G-17+10:F=G,x(G>=0&&F<N,"Invalid character"),I+=F}return I}o.prototype._parseBase=function(s,m,N){this.words=[0],this.length=1;for(var I=0,F=1;F<=67108863;F*=m)I++;I--,F=F/m|0;for(var P=s.length-N,j=P%I,G=Math.min(P,P-j)+N,y=0,H=N;H<G;H+=I)y=g(s,H,H+I,m),this.imuln(F),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(j!==0){var fe=1;for(y=g(s,H,s.length,m),H=0;H<j;H++)fe*=m;this.imuln(fe),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(C,s){C.words=s.words,C.length=s.length,C.negative=s.negative,C.red=s.red}if(o.prototype._move=function(s){f(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(C){o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,m){s=s||10,m=m|0||1;var N;if(s===16||s==="hex"){N="";for(var I=0,F=0,P=0;P<this.length;P++){var j=this.words[P],G=((j<<I|F)&16777215).toString(16);F=j>>>24-I&16777215,F!==0||P!==this.length-1?N=E[6-G.length]+G+N:N=G+N,I+=2,I>=26&&(I-=26,P--)}for(F!==0&&(N=F.toString(16)+N);N.length%m!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(s===(s|0)&&s>=2&&s<=36){var y=d[s],H=h[s];N="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var ve=fe.modrn(H).toString(s);fe=fe.idivn(H),fe.isZero()?N=ve+N:N=E[y-ve.length]+ve+N}for(this.isZero()&&(N="0"+N);N.length%m!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}x(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&x(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(s,m){return this.toArrayLike(l,s,m)}),o.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var v=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};o.prototype.toArrayLike=function(s,m,N){this._strip();var I=this.byteLength(),F=N||Math.max(1,I);x(I<=F,"byte array longer than desired length"),x(F>0,"Requested array length <= 0");var P=v(s,F),j=m==="le"?"LE":"BE";return this["_toArrayLike"+j](P,I),P},o.prototype._toArrayLikeLE=function(s,m){for(var N=0,I=0,F=0,P=0;F<this.length;F++){var j=this.words[F]<<P|I;s[N++]=j&255,N<s.length&&(s[N++]=j>>8&255),N<s.length&&(s[N++]=j>>16&255),P===6?(N<s.length&&(s[N++]=j>>24&255),I=0,P=0):(I=j>>>24,P+=2)}if(N<s.length)for(s[N++]=I;N<s.length;)s[N++]=0},o.prototype._toArrayLikeBE=function(s,m){for(var N=s.length-1,I=0,F=0,P=0;F<this.length;F++){var j=this.words[F]<<P|I;s[N--]=j&255,N>=0&&(s[N--]=j>>8&255),N>=0&&(s[N--]=j>>16&255),P===6?(N>=0&&(s[N--]=j>>24&255),I=0,P=0):(I=j>>>24,P+=2)}if(N>=0)for(s[N--]=I;N>=0;)s[N--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var m=s,N=0;return m>=4096&&(N+=13,m>>>=13),m>=64&&(N+=7,m>>>=7),m>=8&&(N+=4,m>>>=4),m>=2&&(N+=2,m>>>=2),N+m},o.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,N=0;return(m&8191)==0&&(N+=13,m>>>=13),(m&127)==0&&(N+=7,m>>>=7),(m&15)==0&&(N+=4,m>>>=4),(m&3)==0&&(N+=2,m>>>=2),(m&1)==0&&N++,N},o.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function k(C){for(var s=new Array(C.bitLength()),m=0;m<s.length;m++){var N=m/26|0,I=m%26;s[m]=C.words[N]>>>I&1}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var N=this._zeroBits(this.words[m]);if(s+=N,N!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},o.prototype.ior=function(s){return x((this.negative|s.negative)==0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var N=0;N<m.length;N++)this.words[N]=this.words[N]&s.words[N];return this.length=m.length,this._strip()},o.prototype.iand=function(s){return x((this.negative|s.negative)==0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var m,N;this.length>s.length?(m=this,N=s):(m=s,N=this);for(var I=0;I<N.length;I++)this.words[I]=m.words[I]^N.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},o.prototype.ixor=function(s){return x((this.negative|s.negative)==0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){x(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,N=s%26;this._expand(m),N>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return N>0&&(this.words[I]=~this.words[I]&67108863>>26-N),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,m){x(typeof s=="number"&&s>=0);var N=s/26|0,I=s%26;return this._expand(N+1),m?this.words[N]=this.words[N]|1<<I:this.words[N]=this.words[N]&~(1<<I),this._strip()},o.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var N,I;this.length>s.length?(N=this,I=s):(N=s,I=this);for(var F=0,P=0;P<I.length;P++)m=(N.words[P]|0)+(I.words[P]|0)+F,this.words[P]=m&67108863,F=m>>>26;for(;F!==0&&P<N.length;P++)m=(N.words[P]|0)+F,this.words[P]=m&67108863,F=m>>>26;if(this.length=N.length,F!==0)this.words[this.length]=F,this.length++;else if(N!==this)for(;P<N.length;P++)this.words[P]=N.words[P];return this},o.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var N=this.cmp(s);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,F;N>0?(I=this,F=s):(I=s,F=this);for(var P=0,j=0;j<F.length;j++)m=(I.words[j]|0)-(F.words[j]|0)+P,P=m>>26,this.words[j]=m&67108863;for(;P!==0&&j<I.length;j++)m=(I.words[j]|0)+P,P=m>>26,this.words[j]=m&67108863;if(P===0&&j<I.length&&I!==this)for(;j<I.length;j++)this.words[j]=I.words[j];return this.length=Math.max(this.length,j),I!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function A(C,s,m){m.negative=s.negative^C.negative;var N=C.length+s.length|0;m.length=N,N=N-1|0;var I=C.words[0]|0,F=s.words[0]|0,P=I*F,j=P&67108863,G=P/67108864|0;m.words[0]=j;for(var y=1;y<N;y++){for(var H=G>>>26,fe=G&67108863,ve=Math.min(y,s.length-1),ye=Math.max(0,y-C.length+1);ye<=ve;ye++){var Ee=y-ye|0;I=C.words[Ee]|0,F=s.words[ye]|0,P=I*F+fe,H+=P/67108864|0,fe=P&67108863}m.words[y]=fe|0,G=H|0}return G!==0?m.words[y]=G|0:m.length--,m._strip()}var R=function(s,m,N){var I=s.words,F=m.words,P=N.words,j=0,G,y,H,fe=I[0]|0,ve=fe&8191,ye=fe>>>13,Ee=I[1]|0,J=Ee&8191,Z=Ee>>>13,ce=I[2]|0,me=ce&8191,be=ce>>>13,q=I[3]|0,U=q&8191,oe=q>>>13,ge=I[4]|0,Me=ge&8191,he=ge>>>13,Te=I[5]|0,Ae=Te&8191,Ce=Te>>>13,ut=I[6]|0,qe=ut&8191,De=ut>>>13,lt=I[7]|0,se=lt&8191,Q=lt>>>13,X=I[8]|0,le=X&8191,pe=X>>>13,ke=I[9]|0,we=ke&8191,Ne=ke>>>13,ft=F[0]|0,Ie=ft&8191,Be=ft>>>13,dt=F[1]|0,Ve=dt&8191,je=dt>>>13,hr=F[2]|0,ze=hr&8191,We=hr>>>13,$t=F[3]|0,Qe=$t&8191,Je=$t>>>13,Er=F[4]|0,Le=Er&8191,He=Er>>>13,it=F[5]|0,Ke=it&8191,Ye=it>>>13,Rr=F[6]|0,Ze=Rr&8191,Ge=Rr>>>13,pr=F[7]|0,Xe=pr&8191,et=pr>>>13,mr=F[8]|0,tt=mr&8191,rt=mr>>>13,Ht=F[9]|0,at=Ht&8191,ot=Ht>>>13;N.negative=s.negative^m.negative,N.length=19,G=Math.imul(ve,Ie),y=Math.imul(ve,Be),y=y+Math.imul(ye,Ie)|0,H=Math.imul(ye,Be);var Gt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,G=Math.imul(J,Ie),y=Math.imul(J,Be),y=y+Math.imul(Z,Ie)|0,H=Math.imul(Z,Be),G=G+Math.imul(ve,Ve)|0,y=y+Math.imul(ve,je)|0,y=y+Math.imul(ye,Ve)|0,H=H+Math.imul(ye,je)|0;var Vt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,G=Math.imul(me,Ie),y=Math.imul(me,Be),y=y+Math.imul(be,Ie)|0,H=Math.imul(be,Be),G=G+Math.imul(J,Ve)|0,y=y+Math.imul(J,je)|0,y=y+Math.imul(Z,Ve)|0,H=H+Math.imul(Z,je)|0,G=G+Math.imul(ve,ze)|0,y=y+Math.imul(ve,We)|0,y=y+Math.imul(ye,ze)|0,H=H+Math.imul(ye,We)|0;var er=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(er>>>26)|0,er&=67108863,G=Math.imul(U,Ie),y=Math.imul(U,Be),y=y+Math.imul(oe,Ie)|0,H=Math.imul(oe,Be),G=G+Math.imul(me,Ve)|0,y=y+Math.imul(me,je)|0,y=y+Math.imul(be,Ve)|0,H=H+Math.imul(be,je)|0,G=G+Math.imul(J,ze)|0,y=y+Math.imul(J,We)|0,y=y+Math.imul(Z,ze)|0,H=H+Math.imul(Z,We)|0,G=G+Math.imul(ve,Qe)|0,y=y+Math.imul(ve,Je)|0,y=y+Math.imul(ye,Qe)|0,H=H+Math.imul(ye,Je)|0;var tr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(tr>>>26)|0,tr&=67108863,G=Math.imul(Me,Ie),y=Math.imul(Me,Be),y=y+Math.imul(he,Ie)|0,H=Math.imul(he,Be),G=G+Math.imul(U,Ve)|0,y=y+Math.imul(U,je)|0,y=y+Math.imul(oe,Ve)|0,H=H+Math.imul(oe,je)|0,G=G+Math.imul(me,ze)|0,y=y+Math.imul(me,We)|0,y=y+Math.imul(be,ze)|0,H=H+Math.imul(be,We)|0,G=G+Math.imul(J,Qe)|0,y=y+Math.imul(J,Je)|0,y=y+Math.imul(Z,Qe)|0,H=H+Math.imul(Z,Je)|0,G=G+Math.imul(ve,Le)|0,y=y+Math.imul(ve,He)|0,y=y+Math.imul(ye,Le)|0,H=H+Math.imul(ye,He)|0;var Kt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,G=Math.imul(Ae,Ie),y=Math.imul(Ae,Be),y=y+Math.imul(Ce,Ie)|0,H=Math.imul(Ce,Be),G=G+Math.imul(Me,Ve)|0,y=y+Math.imul(Me,je)|0,y=y+Math.imul(he,Ve)|0,H=H+Math.imul(he,je)|0,G=G+Math.imul(U,ze)|0,y=y+Math.imul(U,We)|0,y=y+Math.imul(oe,ze)|0,H=H+Math.imul(oe,We)|0,G=G+Math.imul(me,Qe)|0,y=y+Math.imul(me,Je)|0,y=y+Math.imul(be,Qe)|0,H=H+Math.imul(be,Je)|0,G=G+Math.imul(J,Le)|0,y=y+Math.imul(J,He)|0,y=y+Math.imul(Z,Le)|0,H=H+Math.imul(Z,He)|0,G=G+Math.imul(ve,Ke)|0,y=y+Math.imul(ve,Ye)|0,y=y+Math.imul(ye,Ke)|0,H=H+Math.imul(ye,Ye)|0;var rr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(rr>>>26)|0,rr&=67108863,G=Math.imul(qe,Ie),y=Math.imul(qe,Be),y=y+Math.imul(De,Ie)|0,H=Math.imul(De,Be),G=G+Math.imul(Ae,Ve)|0,y=y+Math.imul(Ae,je)|0,y=y+Math.imul(Ce,Ve)|0,H=H+Math.imul(Ce,je)|0,G=G+Math.imul(Me,ze)|0,y=y+Math.imul(Me,We)|0,y=y+Math.imul(he,ze)|0,H=H+Math.imul(he,We)|0,G=G+Math.imul(U,Qe)|0,y=y+Math.imul(U,Je)|0,y=y+Math.imul(oe,Qe)|0,H=H+Math.imul(oe,Je)|0,G=G+Math.imul(me,Le)|0,y=y+Math.imul(me,He)|0,y=y+Math.imul(be,Le)|0,H=H+Math.imul(be,He)|0,G=G+Math.imul(J,Ke)|0,y=y+Math.imul(J,Ye)|0,y=y+Math.imul(Z,Ke)|0,H=H+Math.imul(Z,Ye)|0,G=G+Math.imul(ve,Ze)|0,y=y+Math.imul(ve,Ge)|0,y=y+Math.imul(ye,Ze)|0,H=H+Math.imul(ye,Ge)|0;var ir=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ir>>>26)|0,ir&=67108863,G=Math.imul(se,Ie),y=Math.imul(se,Be),y=y+Math.imul(Q,Ie)|0,H=Math.imul(Q,Be),G=G+Math.imul(qe,Ve)|0,y=y+Math.imul(qe,je)|0,y=y+Math.imul(De,Ve)|0,H=H+Math.imul(De,je)|0,G=G+Math.imul(Ae,ze)|0,y=y+Math.imul(Ae,We)|0,y=y+Math.imul(Ce,ze)|0,H=H+Math.imul(Ce,We)|0,G=G+Math.imul(Me,Qe)|0,y=y+Math.imul(Me,Je)|0,y=y+Math.imul(he,Qe)|0,H=H+Math.imul(he,Je)|0,G=G+Math.imul(U,Le)|0,y=y+Math.imul(U,He)|0,y=y+Math.imul(oe,Le)|0,H=H+Math.imul(oe,He)|0,G=G+Math.imul(me,Ke)|0,y=y+Math.imul(me,Ye)|0,y=y+Math.imul(be,Ke)|0,H=H+Math.imul(be,Ye)|0,G=G+Math.imul(J,Ze)|0,y=y+Math.imul(J,Ge)|0,y=y+Math.imul(Z,Ze)|0,H=H+Math.imul(Z,Ge)|0,G=G+Math.imul(ve,Xe)|0,y=y+Math.imul(ve,et)|0,y=y+Math.imul(ye,Xe)|0,H=H+Math.imul(ye,et)|0;var nr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(nr>>>26)|0,nr&=67108863,G=Math.imul(le,Ie),y=Math.imul(le,Be),y=y+Math.imul(pe,Ie)|0,H=Math.imul(pe,Be),G=G+Math.imul(se,Ve)|0,y=y+Math.imul(se,je)|0,y=y+Math.imul(Q,Ve)|0,H=H+Math.imul(Q,je)|0,G=G+Math.imul(qe,ze)|0,y=y+Math.imul(qe,We)|0,y=y+Math.imul(De,ze)|0,H=H+Math.imul(De,We)|0,G=G+Math.imul(Ae,Qe)|0,y=y+Math.imul(Ae,Je)|0,y=y+Math.imul(Ce,Qe)|0,H=H+Math.imul(Ce,Je)|0,G=G+Math.imul(Me,Le)|0,y=y+Math.imul(Me,He)|0,y=y+Math.imul(he,Le)|0,H=H+Math.imul(he,He)|0,G=G+Math.imul(U,Ke)|0,y=y+Math.imul(U,Ye)|0,y=y+Math.imul(oe,Ke)|0,H=H+Math.imul(oe,Ye)|0,G=G+Math.imul(me,Ze)|0,y=y+Math.imul(me,Ge)|0,y=y+Math.imul(be,Ze)|0,H=H+Math.imul(be,Ge)|0,G=G+Math.imul(J,Xe)|0,y=y+Math.imul(J,et)|0,y=y+Math.imul(Z,Xe)|0,H=H+Math.imul(Z,et)|0,G=G+Math.imul(ve,tt)|0,y=y+Math.imul(ve,rt)|0,y=y+Math.imul(ye,tt)|0,H=H+Math.imul(ye,rt)|0;var sr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(sr>>>26)|0,sr&=67108863,G=Math.imul(we,Ie),y=Math.imul(we,Be),y=y+Math.imul(Ne,Ie)|0,H=Math.imul(Ne,Be),G=G+Math.imul(le,Ve)|0,y=y+Math.imul(le,je)|0,y=y+Math.imul(pe,Ve)|0,H=H+Math.imul(pe,je)|0,G=G+Math.imul(se,ze)|0,y=y+Math.imul(se,We)|0,y=y+Math.imul(Q,ze)|0,H=H+Math.imul(Q,We)|0,G=G+Math.imul(qe,Qe)|0,y=y+Math.imul(qe,Je)|0,y=y+Math.imul(De,Qe)|0,H=H+Math.imul(De,Je)|0,G=G+Math.imul(Ae,Le)|0,y=y+Math.imul(Ae,He)|0,y=y+Math.imul(Ce,Le)|0,H=H+Math.imul(Ce,He)|0,G=G+Math.imul(Me,Ke)|0,y=y+Math.imul(Me,Ye)|0,y=y+Math.imul(he,Ke)|0,H=H+Math.imul(he,Ye)|0,G=G+Math.imul(U,Ze)|0,y=y+Math.imul(U,Ge)|0,y=y+Math.imul(oe,Ze)|0,H=H+Math.imul(oe,Ge)|0,G=G+Math.imul(me,Xe)|0,y=y+Math.imul(me,et)|0,y=y+Math.imul(be,Xe)|0,H=H+Math.imul(be,et)|0,G=G+Math.imul(J,tt)|0,y=y+Math.imul(J,rt)|0,y=y+Math.imul(Z,tt)|0,H=H+Math.imul(Z,rt)|0,G=G+Math.imul(ve,at)|0,y=y+Math.imul(ve,ot)|0,y=y+Math.imul(ye,at)|0,H=H+Math.imul(ye,ot)|0;var Yt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,G=Math.imul(we,Ve),y=Math.imul(we,je),y=y+Math.imul(Ne,Ve)|0,H=Math.imul(Ne,je),G=G+Math.imul(le,ze)|0,y=y+Math.imul(le,We)|0,y=y+Math.imul(pe,ze)|0,H=H+Math.imul(pe,We)|0,G=G+Math.imul(se,Qe)|0,y=y+Math.imul(se,Je)|0,y=y+Math.imul(Q,Qe)|0,H=H+Math.imul(Q,Je)|0,G=G+Math.imul(qe,Le)|0,y=y+Math.imul(qe,He)|0,y=y+Math.imul(De,Le)|0,H=H+Math.imul(De,He)|0,G=G+Math.imul(Ae,Ke)|0,y=y+Math.imul(Ae,Ye)|0,y=y+Math.imul(Ce,Ke)|0,H=H+Math.imul(Ce,Ye)|0,G=G+Math.imul(Me,Ze)|0,y=y+Math.imul(Me,Ge)|0,y=y+Math.imul(he,Ze)|0,H=H+Math.imul(he,Ge)|0,G=G+Math.imul(U,Xe)|0,y=y+Math.imul(U,et)|0,y=y+Math.imul(oe,Xe)|0,H=H+Math.imul(oe,et)|0,G=G+Math.imul(me,tt)|0,y=y+Math.imul(me,rt)|0,y=y+Math.imul(be,tt)|0,H=H+Math.imul(be,rt)|0,G=G+Math.imul(J,at)|0,y=y+Math.imul(J,ot)|0,y=y+Math.imul(Z,at)|0,H=H+Math.imul(Z,ot)|0;var ar=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ar>>>26)|0,ar&=67108863,G=Math.imul(we,ze),y=Math.imul(we,We),y=y+Math.imul(Ne,ze)|0,H=Math.imul(Ne,We),G=G+Math.imul(le,Qe)|0,y=y+Math.imul(le,Je)|0,y=y+Math.imul(pe,Qe)|0,H=H+Math.imul(pe,Je)|0,G=G+Math.imul(se,Le)|0,y=y+Math.imul(se,He)|0,y=y+Math.imul(Q,Le)|0,H=H+Math.imul(Q,He)|0,G=G+Math.imul(qe,Ke)|0,y=y+Math.imul(qe,Ye)|0,y=y+Math.imul(De,Ke)|0,H=H+Math.imul(De,Ye)|0,G=G+Math.imul(Ae,Ze)|0,y=y+Math.imul(Ae,Ge)|0,y=y+Math.imul(Ce,Ze)|0,H=H+Math.imul(Ce,Ge)|0,G=G+Math.imul(Me,Xe)|0,y=y+Math.imul(Me,et)|0,y=y+Math.imul(he,Xe)|0,H=H+Math.imul(he,et)|0,G=G+Math.imul(U,tt)|0,y=y+Math.imul(U,rt)|0,y=y+Math.imul(oe,tt)|0,H=H+Math.imul(oe,rt)|0,G=G+Math.imul(me,at)|0,y=y+Math.imul(me,ot)|0,y=y+Math.imul(be,at)|0,H=H+Math.imul(be,ot)|0;var or=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(or>>>26)|0,or&=67108863,G=Math.imul(we,Qe),y=Math.imul(we,Je),y=y+Math.imul(Ne,Qe)|0,H=Math.imul(Ne,Je),G=G+Math.imul(le,Le)|0,y=y+Math.imul(le,He)|0,y=y+Math.imul(pe,Le)|0,H=H+Math.imul(pe,He)|0,G=G+Math.imul(se,Ke)|0,y=y+Math.imul(se,Ye)|0,y=y+Math.imul(Q,Ke)|0,H=H+Math.imul(Q,Ye)|0,G=G+Math.imul(qe,Ze)|0,y=y+Math.imul(qe,Ge)|0,y=y+Math.imul(De,Ze)|0,H=H+Math.imul(De,Ge)|0,G=G+Math.imul(Ae,Xe)|0,y=y+Math.imul(Ae,et)|0,y=y+Math.imul(Ce,Xe)|0,H=H+Math.imul(Ce,et)|0,G=G+Math.imul(Me,tt)|0,y=y+Math.imul(Me,rt)|0,y=y+Math.imul(he,tt)|0,H=H+Math.imul(he,rt)|0,G=G+Math.imul(U,at)|0,y=y+Math.imul(U,ot)|0,y=y+Math.imul(oe,at)|0,H=H+Math.imul(oe,ot)|0;var Jt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,G=Math.imul(we,Le),y=Math.imul(we,He),y=y+Math.imul(Ne,Le)|0,H=Math.imul(Ne,He),G=G+Math.imul(le,Ke)|0,y=y+Math.imul(le,Ye)|0,y=y+Math.imul(pe,Ke)|0,H=H+Math.imul(pe,Ye)|0,G=G+Math.imul(se,Ze)|0,y=y+Math.imul(se,Ge)|0,y=y+Math.imul(Q,Ze)|0,H=H+Math.imul(Q,Ge)|0,G=G+Math.imul(qe,Xe)|0,y=y+Math.imul(qe,et)|0,y=y+Math.imul(De,Xe)|0,H=H+Math.imul(De,et)|0,G=G+Math.imul(Ae,tt)|0,y=y+Math.imul(Ae,rt)|0,y=y+Math.imul(Ce,tt)|0,H=H+Math.imul(Ce,rt)|0,G=G+Math.imul(Me,at)|0,y=y+Math.imul(Me,ot)|0,y=y+Math.imul(he,at)|0,H=H+Math.imul(he,ot)|0;var jt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(jt>>>26)|0,jt&=67108863,G=Math.imul(we,Ke),y=Math.imul(we,Ye),y=y+Math.imul(Ne,Ke)|0,H=Math.imul(Ne,Ye),G=G+Math.imul(le,Ze)|0,y=y+Math.imul(le,Ge)|0,y=y+Math.imul(pe,Ze)|0,H=H+Math.imul(pe,Ge)|0,G=G+Math.imul(se,Xe)|0,y=y+Math.imul(se,et)|0,y=y+Math.imul(Q,Xe)|0,H=H+Math.imul(Q,et)|0,G=G+Math.imul(qe,tt)|0,y=y+Math.imul(qe,rt)|0,y=y+Math.imul(De,tt)|0,H=H+Math.imul(De,rt)|0,G=G+Math.imul(Ae,at)|0,y=y+Math.imul(Ae,ot)|0,y=y+Math.imul(Ce,at)|0,H=H+Math.imul(Ce,ot)|0;var ur=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(ur>>>26)|0,ur&=67108863,G=Math.imul(we,Ze),y=Math.imul(we,Ge),y=y+Math.imul(Ne,Ze)|0,H=Math.imul(Ne,Ge),G=G+Math.imul(le,Xe)|0,y=y+Math.imul(le,et)|0,y=y+Math.imul(pe,Xe)|0,H=H+Math.imul(pe,et)|0,G=G+Math.imul(se,tt)|0,y=y+Math.imul(se,rt)|0,y=y+Math.imul(Q,tt)|0,H=H+Math.imul(Q,rt)|0,G=G+Math.imul(qe,at)|0,y=y+Math.imul(qe,ot)|0,y=y+Math.imul(De,at)|0,H=H+Math.imul(De,ot)|0;var At=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(At>>>26)|0,At&=67108863,G=Math.imul(we,Xe),y=Math.imul(we,et),y=y+Math.imul(Ne,Xe)|0,H=Math.imul(Ne,et),G=G+Math.imul(le,tt)|0,y=y+Math.imul(le,rt)|0,y=y+Math.imul(pe,tt)|0,H=H+Math.imul(pe,rt)|0,G=G+Math.imul(se,at)|0,y=y+Math.imul(se,ot)|0,y=y+Math.imul(Q,at)|0,H=H+Math.imul(Q,ot)|0;var Mr=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,G=Math.imul(we,tt),y=Math.imul(we,rt),y=y+Math.imul(Ne,tt)|0,H=Math.imul(Ne,rt),G=G+Math.imul(le,at)|0,y=y+Math.imul(le,ot)|0,y=y+Math.imul(pe,at)|0,H=H+Math.imul(pe,ot)|0;var Bt=(j+G|0)+((y&8191)<<13)|0;j=(H+(y>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,G=Math.imul(we,at),y=Math.imul(we,ot),y=y+Math.imul(Ne,at)|0,H=Math.imul(Ne,ot);var Ir=(j+G|0)+((y&8191)<<13)|0;return j=(H+(y>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,P[0]=Gt,P[1]=Vt,P[2]=er,P[3]=tr,P[4]=Kt,P[5]=rr,P[6]=ir,P[7]=nr,P[8]=sr,P[9]=Yt,P[10]=ar,P[11]=or,P[12]=Jt,P[13]=jt,P[14]=ur,P[15]=At,P[16]=Mr,P[17]=Bt,P[18]=Ir,j!==0&&(P[19]=j,N.length++),N};Math.imul||(R=A);function O(C,s,m){m.negative=s.negative^C.negative,m.length=C.length+s.length;for(var N=0,I=0,F=0;F<m.length-1;F++){var P=I;I=0;for(var j=N&67108863,G=Math.min(F,s.length-1),y=Math.max(0,F-C.length+1);y<=G;y++){var H=F-y,fe=C.words[H]|0,ve=s.words[y]|0,ye=fe*ve,Ee=ye&67108863;P=P+(ye/67108864|0)|0,Ee=Ee+j|0,j=Ee&67108863,P=P+(Ee>>>26)|0,I+=P>>>26,P&=67108863}m.words[F]=j,N=P,P=I}return N!==0?m.words[F]=N:m.length--,m._strip()}function V(C,s,m){return O(C,s,m)}o.prototype.mulTo=function(s,m){var N,I=this.length+s.length;return this.length===10&&s.length===10?N=R(this,s,m):I<63?N=A(this,s,m):I<1024?N=O(this,s,m):N=V(this,s,m),N};function Y(C,s){this.x=C,this.y=s}Y.prototype.makeRBT=function(s){for(var m=new Array(s),N=o.prototype._countBits(s)-1,I=0;I<s;I++)m[I]=this.revBin(I,N,s);return m},Y.prototype.revBin=function(s,m,N){if(s===0||s===N-1)return s;for(var I=0,F=0;F<m;F++)I|=(s&1)<<m-F-1,s>>=1;return I},Y.prototype.permute=function(s,m,N,I,F,P){for(var j=0;j<P;j++)I[j]=m[s[j]],F[j]=N[s[j]]},Y.prototype.transform=function(s,m,N,I,F,P){this.permute(P,s,m,N,I,F);for(var j=1;j<F;j<<=1)for(var G=j<<1,y=Math.cos(2*Math.PI/G),H=Math.sin(2*Math.PI/G),fe=0;fe<F;fe+=G)for(var ve=y,ye=H,Ee=0;Ee<j;Ee++){var J=N[fe+Ee],Z=I[fe+Ee],ce=N[fe+Ee+j],me=I[fe+Ee+j],be=ve*ce-ye*me;me=ve*me+ye*ce,ce=be,N[fe+Ee]=J+ce,I[fe+Ee]=Z+me,N[fe+Ee+j]=J-ce,I[fe+Ee+j]=Z-me,Ee!==G&&(be=y*ve-H*ye,ye=y*ye+H*ve,ve=be)}},Y.prototype.guessLen13b=function(s,m){var N=Math.max(m,s)|1,I=N&1,F=0;for(N=N/2|0;N;N=N>>>1)F++;return 1<<F+1+I},Y.prototype.conjugate=function(s,m,N){if(!(N<=1))for(var I=0;I<N/2;I++){var F=s[I];s[I]=s[N-I-1],s[N-I-1]=F,F=m[I],m[I]=-m[N-I-1],m[N-I-1]=-F}},Y.prototype.normalize13b=function(s,m){for(var N=0,I=0;I<m/2;I++){var F=Math.round(s[2*I+1]/m)*8192+Math.round(s[2*I]/m)+N;s[I]=F&67108863,F<67108864?N=0:N=F/67108864|0}return s},Y.prototype.convert13b=function(s,m,N,I){for(var F=0,P=0;P<m;P++)F=F+(s[P]|0),N[2*P]=F&8191,F=F>>>13,N[2*P+1]=F&8191,F=F>>>13;for(P=2*m;P<I;++P)N[P]=0;x(F===0),x((F&~8191)==0)},Y.prototype.stub=function(s){for(var m=new Array(s),N=0;N<s;N++)m[N]=0;return m},Y.prototype.mulp=function(s,m,N){var I=2*this.guessLen13b(s.length,m.length),F=this.makeRBT(I),P=this.stub(I),j=new Array(I),G=new Array(I),y=new Array(I),H=new Array(I),fe=new Array(I),ve=new Array(I),ye=N.words;ye.length=I,this.convert13b(s.words,s.length,j,I),this.convert13b(m.words,m.length,H,I),this.transform(j,P,G,y,I,F),this.transform(H,P,fe,ve,I,F);for(var Ee=0;Ee<I;Ee++){var J=G[Ee]*fe[Ee]-y[Ee]*ve[Ee];y[Ee]=G[Ee]*ve[Ee]+y[Ee]*fe[Ee],G[Ee]=J}return this.conjugate(G,y,I),this.transform(G,y,ye,P,I,F),this.conjugate(ye,P,I),this.normalize13b(ye,I),N.negative=s.negative^m.negative,N.length=s.length+m.length,N._strip()},o.prototype.mul=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},o.prototype.mulf=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),V(this,s,m)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var m=s<0;m&&(s=-s),x(typeof s=="number"),x(s<67108864);for(var N=0,I=0;I<this.length;I++){var F=(this.words[I]|0)*s,P=(F&67108863)+(N&67108863);N>>=26,N+=F/67108864|0,N+=P>>>26,this.words[I]=P&67108863}return N!==0&&(this.words[I]=N,this.length++),m?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var m=k(s);if(m.length===0)return new o(1);for(var N=this,I=0;I<m.length&&m[I]===0;I++,N=N.sqr());if(++I<m.length)for(var F=N.sqr();I<m.length;I++,F=F.sqr())m[I]!==0&&(N=N.mul(F));return N},o.prototype.iushln=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26,I=67108863>>>26-m<<26-m,F;if(m!==0){var P=0;for(F=0;F<this.length;F++){var j=this.words[F]&I,G=(this.words[F]|0)-j<<m;this.words[F]=G|P,P=j>>>26-m}P&&(this.words[F]=P,this.length++)}if(N!==0){for(F=this.length-1;F>=0;F--)this.words[F+N]=this.words[F];for(F=0;F<N;F++)this.words[F]=0;this.length+=N}return this._strip()},o.prototype.ishln=function(s){return x(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,m,N){x(typeof s=="number"&&s>=0);var I;m?I=(m-m%26)/26:I=0;var F=s%26,P=Math.min((s-F)/26,this.length),j=67108863^67108863>>>F<<F,G=N;if(I-=P,I=Math.max(0,I),G){for(var y=0;y<P;y++)G.words[y]=this.words[y];G.length=P}if(P!==0)if(this.length>P)for(this.length-=P,y=0;y<this.length;y++)this.words[y]=this.words[y+P];else this.words[0]=0,this.length=1;var H=0;for(y=this.length-1;y>=0&&(H!==0||y>=I);y--){var fe=this.words[y]|0;this.words[y]=H<<26-F|fe>>>F,H=fe&j}return G&&H!==0&&(G.words[G.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,m,N){return x(this.negative===0),this.iushrn(s,m,N)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26,I=1<<m;if(this.length<=N)return!1;var F=this.words[N];return!!(F&I)},o.prototype.imaskn=function(s){x(typeof s=="number"&&s>=0);var m=s%26,N=(s-m)/26;if(x(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(m!==0&&N++,this.length=Math.min(N,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return x(typeof s=="number"),x(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(s){if(x(typeof s=="number"),x(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,m,N){var I=s.length+N,F;this._expand(I);var P,j=0;for(F=0;F<s.length;F++){P=(this.words[F+N]|0)+j;var G=(s.words[F]|0)*m;P-=G&67108863,j=(P>>26)-(G/67108864|0),this.words[F+N]=P&67108863}for(;F<this.length-N;F++)P=(this.words[F+N]|0)+j,j=P>>26,this.words[F+N]=P&67108863;if(j===0)return this._strip();for(x(j===-1),j=0,F=0;F<this.length;F++)P=-(this.words[F]|0)+j,j=P>>26,this.words[F]=P&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,m){var N=this.length-s.length,I=this.clone(),F=s,P=F.words[F.length-1]|0,j=this._countBits(P);N=26-j,N!==0&&(F=F.ushln(N),I.iushln(N),P=F.words[F.length-1]|0);var G=I.length-F.length,y;if(m!=="mod"){y=new o(null),y.length=G+1,y.words=new Array(y.length);for(var H=0;H<y.length;H++)y.words[H]=0}var fe=I.clone()._ishlnsubmul(F,1,G);fe.negative===0&&(I=fe,y&&(y.words[G]=1));for(var ve=G-1;ve>=0;ve--){var ye=(I.words[F.length+ve]|0)*67108864+(I.words[F.length+ve-1]|0);for(ye=Math.min(ye/P|0,67108863),I._ishlnsubmul(F,ye,ve);I.negative!==0;)ye--,I.negative=0,I._ishlnsubmul(F,1,ve),I.isZero()||(I.negative^=1);y&&(y.words[ve]=ye)}return y&&y._strip(),I._strip(),m!=="div"&&N!==0&&I.iushrn(N),{div:y||null,mod:I}},o.prototype.divmod=function(s,m,N){if(x(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var I,F,P;return this.negative!==0&&s.negative===0?(P=this.neg().divmod(s,m),m!=="mod"&&(I=P.div.neg()),m!=="div"&&(F=P.mod.neg(),N&&F.negative!==0&&F.iadd(s)),{div:I,mod:F}):this.negative===0&&s.negative!==0?(P=this.divmod(s.neg(),m),m!=="mod"&&(I=P.div.neg()),{div:I,mod:P.mod}):(this.negative&s.negative)!=0?(P=this.neg().divmod(s.neg(),m),m!=="div"&&(F=P.mod.neg(),N&&F.negative!==0&&F.isub(s)),{div:P.div,mod:F}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,m)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var N=m.div.negative!==0?m.mod.isub(s):m.mod,I=s.ushrn(1),F=s.andln(1),P=N.cmp(I);return P<0||F===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(s){var m=s<0;m&&(s=-s),x(s<=67108863);for(var N=(1<<26)%s,I=0,F=this.length-1;F>=0;F--)I=(N*I+(this.words[F]|0))%s;return m?-I:I},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var m=s<0;m&&(s=-s),x(s<=67108863);for(var N=0,I=this.length-1;I>=0;I--){var F=(this.words[I]|0)+N*67108864;this.words[I]=F/s|0,N=F%s}return this._strip(),m?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){x(s.negative===0),x(!s.isZero());var m=this,N=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),F=new o(0),P=new o(0),j=new o(1),G=0;m.isEven()&&N.isEven();)m.iushrn(1),N.iushrn(1),++G;for(var y=N.clone(),H=m.clone();!m.isZero();){for(var fe=0,ve=1;(m.words[0]&ve)==0&&fe<26;++fe,ve<<=1);if(fe>0)for(m.iushrn(fe);fe-- >0;)(I.isOdd()||F.isOdd())&&(I.iadd(y),F.isub(H)),I.iushrn(1),F.iushrn(1);for(var ye=0,Ee=1;(N.words[0]&Ee)==0&&ye<26;++ye,Ee<<=1);if(ye>0)for(N.iushrn(ye);ye-- >0;)(P.isOdd()||j.isOdd())&&(P.iadd(y),j.isub(H)),P.iushrn(1),j.iushrn(1);m.cmp(N)>=0?(m.isub(N),I.isub(P),F.isub(j)):(N.isub(m),P.isub(I),j.isub(F))}return{a:P,b:j,gcd:N.iushln(G)}},o.prototype._invmp=function(s){x(s.negative===0),x(!s.isZero());var m=this,N=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),F=new o(0),P=N.clone();m.cmpn(1)>0&&N.cmpn(1)>0;){for(var j=0,G=1;(m.words[0]&G)==0&&j<26;++j,G<<=1);if(j>0)for(m.iushrn(j);j-- >0;)I.isOdd()&&I.iadd(P),I.iushrn(1);for(var y=0,H=1;(N.words[0]&H)==0&&y<26;++y,H<<=1);if(y>0)for(N.iushrn(y);y-- >0;)F.isOdd()&&F.iadd(P),F.iushrn(1);m.cmp(N)>=0?(m.isub(N),I.isub(F)):(N.isub(m),F.isub(I))}var fe;return m.cmpn(1)===0?fe=I:fe=F,fe.cmpn(0)<0&&fe.iadd(s),fe},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),N=s.clone();m.negative=0,N.negative=0;for(var I=0;m.isEven()&&N.isEven();I++)m.iushrn(1),N.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;N.isEven();)N.iushrn(1);var F=m.cmp(N);if(F<0){var P=m;m=N,N=P}else if(F===0||N.cmpn(1)===0)break;m.isub(N)}while(!0);return N.iushln(I)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){x(typeof s=="number");var m=s%26,N=(s-m)/26,I=1<<m;if(this.length<=N)return this._expand(N+1),this.words[N]|=I,this;for(var F=I,P=N;F!==0&&P<this.length;P++){var j=this.words[P]|0;j+=F,F=j>>>26,j&=67108863,this.words[P]=j}return F!==0&&(this.words[P]=F,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var N;if(this.length>1)N=1;else{m&&(s=-s),x(s<=67108863,"Number is too big");var I=this.words[0]|0;N=I===s?0:I<s?-1:1}return this.negative!==0?-N|0:N},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,N=this.length-1;N>=0;N--){var I=this.words[N]|0,F=s.words[N]|0;if(I!==F){I<F?m=-1:I>F&&(m=1);break}}return m},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new T(s)},o.prototype.toRed=function(s){return x(!this.red,"Already a number in reduction context"),x(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return x(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return x(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return x(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return x(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return x(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return x(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return x(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return x(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return x(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return x(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return x(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return x(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return x(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var ee={k256:null,p224:null,p192:null,p25519:null};function re(C,s){this.name=C,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},re.prototype.ireduce=function(s){var m=s,N;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),N=m.bitLength();while(N>this.n);var I=N<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},re.prototype.split=function(s,m){s.iushrn(this.n,0,m)},re.prototype.imulK=function(s){return s.imul(this.k)};function ie(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(ie,re),ie.prototype.split=function(s,m){for(var N=4194303,I=Math.min(s.length,9),F=0;F<I;F++)m.words[F]=s.words[F];if(m.length=I,s.length<=9){s.words[0]=0,s.length=1;return}var P=s.words[9];for(m.words[m.length++]=P&N,F=10;F<s.length;F++){var j=s.words[F]|0;s.words[F-10]=(j&N)<<4|P>>>22,P=j}P>>>=22,s.words[F-10]=P,P===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,N=0;N<s.length;N++){var I=s.words[N]|0;m+=I*977,s.words[N]=m&67108863,m=I*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(ne,re);function ue(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ue,re);function W(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(W,re),W.prototype.imulK=function(s){for(var m=0,N=0;N<s.length;N++){var I=(s.words[N]|0)*19+m,F=I&67108863;I>>>=26,s.words[N]=F,m=I}return m!==0&&(s.words[s.length++]=m),s},o._prime=function(s){if(ee[s])return ee[s];var m;if(s==="k256")m=new ie;else if(s==="p224")m=new ne;else if(s==="p192")m=new ue;else if(s==="p25519")m=new W;else throw new Error("Unknown prime "+s);return ee[s]=m,m};function T(C){if(typeof C=="string"){var s=o._prime(C);this.m=s.p,this.prime=s}else x(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}T.prototype._verify1=function(s){x(s.negative===0,"red works only with positives"),x(s.red,"red works only with red numbers")},T.prototype._verify2=function(s,m){x((s.negative|m.negative)==0,"red works only with positives"),x(s.red&&s.red===m.red,"red works only with red numbers")},T.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},T.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},T.prototype.add=function(s,m){this._verify2(s,m);var N=s.add(m);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},T.prototype.iadd=function(s,m){this._verify2(s,m);var N=s.iadd(m);return N.cmp(this.m)>=0&&N.isub(this.m),N},T.prototype.sub=function(s,m){this._verify2(s,m);var N=s.sub(m);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},T.prototype.isub=function(s,m){this._verify2(s,m);var N=s.isub(m);return N.cmpn(0)<0&&N.iadd(this.m),N},T.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},T.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},T.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},T.prototype.isqr=function(s){return this.imul(s,s.clone())},T.prototype.sqr=function(s){return this.mul(s,s)},T.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(x(m%2==1),m===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(s,N)}for(var I=this.m.subn(1),F=0;!I.isZero()&&I.andln(1)===0;)F++,I.iushrn(1);x(!I.isZero());var P=new o(1).toRed(this),j=P.redNeg(),G=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,G).cmp(j)!==0;)y.redIAdd(j);for(var H=this.pow(y,I),fe=this.pow(s,I.addn(1).iushrn(1)),ve=this.pow(s,I),ye=F;ve.cmp(P)!==0;){for(var Ee=ve,J=0;Ee.cmp(P)!==0;J++)Ee=Ee.redSqr();x(J<ye);var Z=this.pow(H,new o(1).iushln(ye-J-1));fe=fe.redMul(Z),H=Z.redSqr(),ve=ve.redMul(H),ye=J}return fe},T.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},T.prototype.pow=function(s,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var N=4,I=new Array(1<<N);I[0]=new o(1).toRed(this),I[1]=s;for(var F=2;F<I.length;F++)I[F]=this.mul(I[F-1],s);var P=I[0],j=0,G=0,y=m.bitLength()%26;for(y===0&&(y=26),F=m.length-1;F>=0;F--){for(var H=m.words[F],fe=y-1;fe>=0;fe--){var ve=H>>fe&1;if(P!==I[0]&&(P=this.sqr(P)),ve===0&&j===0){G=0;continue}j<<=1,j|=ve,G++,!(G!==N&&(F!==0||fe!==0))&&(P=this.mul(P,I[j]),G=0,j=0)}y=26}return P},T.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},T.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},o.mont=function(s){return new L(s)};function L(C){T.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(L,T),L.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},L.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},L.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var N=s.imul(m),I=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(I).iushrn(this.shift),P=F;return F.cmp(this.m)>=0?P=F.isub(this.m):F.cmpn(0)<0&&(P=F.iadd(this.m)),P._forceRed(this)},L.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new o(0)._forceRed(this);var N=s.mul(m),I=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(I).iushrn(this.shift),P=F;return F.cmp(this.m)>=0?P=F.isub(this.m):F.cmpn(0)<0&&(P=F.iadd(this.m)),P._forceRed(this)},L.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}}(b,this)},84419:b=>{"use strict";function $(l,n){l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.__proto__=n}var w={};function _(l,n,c){c||(c=Error);function g(u,E,d){return typeof n=="string"?n:n(u,E,d)}var f=function(u){$(E,u);function E(d,h,v){return u.call(this,g(d,h,v))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=l,w[l]=f}function D(l,n){if(Array.isArray(l)){var c=l.length;return l=l.map(function(g){return String(g)}),c>2?"one of ".concat(n," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(n," ").concat(l[0]," or ").concat(l[1]):"of ".concat(n," ").concat(l[0])}else return"of ".concat(n," ").concat(String(l))}function x(l,n,c){return l.substr(!c||c<0?0:+c,n.length)===n}function S(l,n,c){return(c===void 0||c>l.length)&&(c=l.length),l.substring(c-n.length,c)===n}function o(l,n,c){return typeof c!="number"&&(c=0),c+n.length>l.length?!1:l.indexOf(n,c)!==-1}_("ERR_INVALID_OPT_VALUE",function(l,n){return'The value "'+n+'" is invalid for option "'+l+'"'},TypeError),_("ERR_INVALID_ARG_TYPE",function(l,n,c){var g;typeof n=="string"&&x(n,"not ")?(g="must not be",n=n.replace(/^not /,"")):g="must be";var f;if(S(l," argument"))f="The ".concat(l," ").concat(g," ").concat(D(n,"type"));else{var u=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(u," ").concat(g," ").concat(D(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_("ERR_STREAM_WRITE_AFTER_END","write after end"),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=w},34390:(b,$,w)=>{"use strict";var _=w(34155),D=Object.keys||function(u){var E=[];for(var d in u)E.push(d);return E};b.exports=c;var x=w(44960),S=w(92010);w(35717)(c,x);for(var o=D(S.prototype),l=0;l<o.length;l++){var n=o[l];c.prototype[n]||(c.prototype[n]=S.prototype[n])}function c(u){if(!(this instanceof c))return new c(u);x.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||_.nextTick(f,this)}function f(u){u.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},41294:(b,$,w)=>{"use strict";b.exports=D;var _=w(3912);w(35717)(D,_);function D(x){if(!(this instanceof D))return new D(x);_.call(this,x)}D.prototype._transform=function(x,S,o){o(null,x)}},44960:(b,$,w)=>{"use strict";var _=w(34155);b.exports=T;var D;T.ReadableState=W;var x=w(17187).EventEmitter,S=function(U,oe){return U.listeners(oe).length},o=w(59819),l=w(48764).Buffer,n=w.g.Uint8Array||function(){};function c(q){return l.from(q)}function g(q){return l.isBuffer(q)||q instanceof n}var f=w(56353),u;f&&f.debuglog?u=f.debuglog("stream"):u=function(){};var E=w(76633),d=w(75997),h=w(898),v=h.getHighWaterMark,k=w(84419).q,A=k.ERR_INVALID_ARG_TYPE,R=k.ERR_STREAM_PUSH_AFTER_EOF,O=k.ERR_METHOD_NOT_IMPLEMENTED,V=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,ee,re;w(35717)(T,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,U,oe){if(typeof q.prependListener=="function")return q.prependListener(U,oe);!q._events||!q._events[U]?q.on(U,oe):Array.isArray(q._events[U])?q._events[U].unshift(oe):q._events[U]=[oe,q._events[U]]}function W(q,U,oe){D=D||w(34390),q=q||{},typeof oe!="boolean"&&(oe=U instanceof D),this.objectMode=!!q.objectMode,oe&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=v(this,q,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(Y||(Y=w(72221).s),this.decoder=new Y(q.encoding),this.encoding=q.encoding)}function T(q){if(D=D||w(34390),!(this instanceof T))return new T(q);var U=this instanceof D;this._readableState=new W(q,this,U),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){!this._readableState||(this._readableState.destroyed=U)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(q,U){U(q)},T.prototype.push=function(q,U){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof q=="string"&&(U=U||oe.defaultEncoding,U!==oe.encoding&&(q=l.from(q,U),U=""),ge=!0),L(this,q,U,!1,ge)},T.prototype.unshift=function(q){return L(this,q,null,!0,!1)};function L(q,U,oe,ge,Me){u("readableAddChunk",U);var he=q._readableState;if(U===null)he.reading=!1,F(q,he);else{var Te;if(Me||(Te=s(he,U)),Te)ie(q,Te);else if(he.objectMode||U&&U.length>0)if(typeof U!="string"&&!he.objectMode&&Object.getPrototypeOf(U)!==l.prototype&&(U=c(U)),ge)he.endEmitted?ie(q,new V):C(q,he,U,!0);else if(he.ended)ie(q,new R);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!oe?(U=he.decoder.write(U),he.objectMode||U.length!==0?C(q,he,U,!1):G(q,he)):C(q,he,U,!1)}else ge||(he.reading=!1,G(q,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function C(q,U,oe,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,q.emit("data",oe)):(U.length+=U.objectMode?1:oe.length,ge?U.buffer.unshift(oe):U.buffer.push(oe),U.needReadable&&P(q)),G(q,U)}function s(q,U){var oe;return!g(U)&&typeof U!="string"&&U!==void 0&&!q.objectMode&&(oe=new A("chunk",["string","Buffer","Uint8Array"],U)),oe}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(q){Y||(Y=w(72221).s);var U=new Y(q);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=U.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var m=1073741824;function N(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,U){return q<=0||U.length===0&&U.ended?0:U.objectMode?1:q!==q?U.flowing&&U.length?U.buffer.head.data.length:U.length:(q>U.highWaterMark&&(U.highWaterMark=N(q)),q<=U.length?q:U.ended?U.length:(U.needReadable=!0,0))}T.prototype.read=function(q){u("read",q),q=parseInt(q,10);var U=this._readableState,oe=q;if(q!==0&&(U.emittedReadable=!1),q===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return u("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?ce(this):P(this),null;if(q=I(q,U),q===0&&U.ended)return U.length===0&&ce(this),null;var ge=U.needReadable;u("need readable",ge),(U.length===0||U.length-q<U.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),U.ended||U.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(q=I(oe,U)));var Me;return q>0?Me=Z(q,U):Me=null,Me===null?(U.needReadable=U.length<=U.highWaterMark,q=0):(U.length-=q,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),oe!==q&&U.ended&&ce(this)),Me!==null&&this.emit("data",Me),Me};function F(q,U){if(u("onEofChunk"),!U.ended){if(U.decoder){var oe=U.decoder.end();oe&&oe.length&&(U.buffer.push(oe),U.length+=U.objectMode?1:oe.length)}U.ended=!0,U.sync?P(q):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,j(q)))}}function P(q){var U=q._readableState;u("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(u("emitReadable",U.flowing),U.emittedReadable=!0,_.nextTick(j,q))}function j(q){var U=q._readableState;u("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(q.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,J(q)}function G(q,U){U.readingMore||(U.readingMore=!0,_.nextTick(y,q,U))}function y(q,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var oe=U.length;if(u("maybeReadMore read 0"),q.read(0),oe===U.length)break}U.readingMore=!1}T.prototype._read=function(q){ie(this,new O("_read()"))},T.prototype.pipe=function(q,U){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=q;break;case 1:ge.pipes=[ge.pipes,q];break;default:ge.pipes.push(q);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,U);var Me=(!U||U.end!==!1)&&q!==_.stdout&&q!==_.stderr,he=Me?Ae:X;ge.endEmitted?_.nextTick(he):oe.once("end",he),q.on("unpipe",Te);function Te(le,pe){u("onunpipe"),le===oe&&pe&&pe.hasUnpiped===!1&&(pe.hasUnpiped=!0,qe())}function Ae(){u("onend"),q.end()}var Ce=H(oe);q.on("drain",Ce);var ut=!1;function qe(){u("cleanup"),q.removeListener("close",se),q.removeListener("finish",Q),q.removeListener("drain",Ce),q.removeListener("error",lt),q.removeListener("unpipe",Te),oe.removeListener("end",Ae),oe.removeListener("end",X),oe.removeListener("data",De),ut=!0,ge.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ce()}oe.on("data",De);function De(le){u("ondata");var pe=q.write(le);u("dest.write",pe),pe===!1&&((ge.pipesCount===1&&ge.pipes===q||ge.pipesCount>1&&be(ge.pipes,q)!==-1)&&!ut&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function lt(le){u("onerror",le),X(),q.removeListener("error",lt),S(q,"error")===0&&ie(q,le)}ue(q,"error",lt);function se(){q.removeListener("finish",Q),X()}q.once("close",se);function Q(){u("onfinish"),q.removeListener("close",se),X()}q.once("finish",Q);function X(){u("unpipe"),oe.unpipe(q)}return q.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),q};function H(q){return function(){var oe=q._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(q,"data")&&(oe.flowing=!0,J(q))}}T.prototype.unpipe=function(q){var U=this._readableState,oe={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return q&&q!==U.pipes?this:(q||(q=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,q&&q.emit("unpipe",this,oe),this);if(!q){var ge=U.pipes,Me=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var he=0;he<Me;he++)ge[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Te=be(U.pipes,q);return Te===-1?this:(U.pipes.splice(Te,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),q.emit("unpipe",this,oe),this)},T.prototype.on=function(q,U){var oe=o.prototype.on.call(this,q,U),ge=this._readableState;return q==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):q==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?P(this):ge.reading||_.nextTick(ve,this)),oe},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(q,U){var oe=o.prototype.removeListener.call(this,q,U);return q==="readable"&&_.nextTick(fe,this),oe},T.prototype.removeAllListeners=function(q){var U=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&_.nextTick(fe,this),U};function fe(q){var U=q._readableState;U.readableListening=q.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ve(q){u("readable nexttick read 0"),q.read(0)}T.prototype.resume=function(){var q=this._readableState;return q.flowing||(u("resume"),q.flowing=!q.readableListening,ye(this,q)),q.paused=!1,this};function ye(q,U){U.resumeScheduled||(U.resumeScheduled=!0,_.nextTick(Ee,q,U))}function Ee(q,U){u("resume",U.reading),U.reading||q.read(0),U.resumeScheduled=!1,q.emit("resume"),J(q),U.flowing&&!U.reading&&q.read(0)}T.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var U=q._readableState;for(u("flow",U.flowing);U.flowing&&q.read()!==null;);}T.prototype.wrap=function(q){var U=this,oe=this._readableState,ge=!1;q.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Te=oe.decoder.end();Te&&Te.length&&U.push(Te)}U.push(null)}),q.on("data",function(Te){if(u("wrapped data"),oe.decoder&&(Te=oe.decoder.write(Te)),!(oe.objectMode&&Te==null)&&!(!oe.objectMode&&(!Te||!Te.length))){var Ae=U.push(Te);Ae||(ge=!0,q.pause())}});for(var Me in q)this[Me]===void 0&&typeof q[Me]=="function"&&(this[Me]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Me));for(var he=0;he<ne.length;he++)q.on(ne[he],this.emit.bind(this,ne[he]));return this._read=function(Te){u("wrapped _read",Te),ge&&(ge=!1,q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return ee===void 0&&(ee=w(54887)),ee(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),T._fromList=Z,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(q,U){if(U.length===0)return null;var oe;return U.objectMode?oe=U.buffer.shift():!q||q>=U.length?(U.decoder?oe=U.buffer.join(""):U.buffer.length===1?oe=U.buffer.first():oe=U.buffer.concat(U.length),U.buffer.clear()):oe=U.buffer.consume(q,U.decoder),oe}function ce(q){var U=q._readableState;u("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,_.nextTick(me,U,q))}function me(q,U){if(u("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,U.readable=!1,U.emit("end"),q.autoDestroy)){var oe=U._writableState;(!oe||oe.autoDestroy&&oe.finished)&&U.destroy()}}typeof Symbol=="function"&&(T.from=function(q,U){return re===void 0&&(re=w(98859)),re(T,q,U)});function be(q,U){for(var oe=0,ge=q.length;oe<ge;oe++)if(q[oe]===U)return oe;return-1}},3912:(b,$,w)=>{"use strict";b.exports=c;var _=w(84419).q,D=_.ERR_METHOD_NOT_IMPLEMENTED,x=_.ERR_MULTIPLE_CALLBACK,S=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=_.ERR_TRANSFORM_WITH_LENGTH_0,l=w(34390);w(35717)(c,l);function n(u,E){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(h===null)return this.emit("error",new x);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),h(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(u){if(!(this instanceof c))return new c(u);l.call(this,u),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",g)}function g(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(u,E,d)}):f(this,null,null)}c.prototype.push=function(u,E){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,E)},c.prototype._transform=function(u,E,d){d(new D("_transform()"))},c.prototype._write=function(u,E,d){var h=this._transformState;if(h.writecb=d,h.writechunk=u,h.writeencoding=E,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(u){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(u,E){l.prototype._destroy.call(this,u,function(d){E(d)})};function f(u,E,d){if(E)return u.emit("error",E);if(d!=null&&u.push(d),u._writableState.length)throw new o;if(u._transformState.transforming)throw new S;return u.push(null)}},92010:(b,$,w)=>{"use strict";var _=w(34155);b.exports=W;function D(J,Z,ce){this.chunk=J,this.encoding=Z,this.callback=ce,this.next=null}function x(J){var Z=this;this.next=null,this.entry=null,this.finish=function(){Ee(Z,J)}}var S;W.WritableState=ne;var o={deprecate:w(94927)},l=w(59819),n=w(48764).Buffer,c=w.g.Uint8Array||function(){};function g(J){return n.from(J)}function f(J){return n.isBuffer(J)||J instanceof c}var u=w(75997),E=w(898),d=E.getHighWaterMark,h=w(84419).q,v=h.ERR_INVALID_ARG_TYPE,k=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,R=h.ERR_STREAM_CANNOT_PIPE,O=h.ERR_STREAM_DESTROYED,V=h.ERR_STREAM_NULL_VALUES,Y=h.ERR_STREAM_WRITE_AFTER_END,ee=h.ERR_UNKNOWN_ENCODING,re=u.errorOrDestroy;w(35717)(W,l);function ie(){}function ne(J,Z,ce){S=S||w(34390),J=J||{},typeof ce!="boolean"&&(ce=Z instanceof S),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=d(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(be){F(Z,be)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}ne.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,ce=[];Z;)ce.push(Z),Z=Z.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Z){return ue.call(this,Z)?!0:this!==W?!1:Z&&Z._writableState instanceof ne}})):ue=function(Z){return Z instanceof this};function W(J){S=S||w(34390);var Z=this instanceof S;if(!Z&&!ue.call(W,this))return new W(J);this._writableState=new ne(J,this,Z),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}W.prototype.pipe=function(){re(this,new R)};function T(J,Z){var ce=new Y;re(J,ce),_.nextTick(Z,ce)}function L(J,Z,ce,me){var be;return ce===null?be=new V:typeof ce!="string"&&!Z.objectMode&&(be=new v("chunk",["string","Buffer"],ce)),be?(re(J,be),_.nextTick(me,be),!1):!0}W.prototype.write=function(J,Z,ce){var me=this._writableState,be=!1,q=!me.objectMode&&f(J);return q&&!n.isBuffer(J)&&(J=g(J)),typeof Z=="function"&&(ce=Z,Z=null),q?Z="buffer":Z||(Z=me.defaultEncoding),typeof ce!="function"&&(ce=ie),me.ending?T(this,ce):(q||L(this,me,J,ce))&&(me.pendingcb++,be=s(this,me,q,J,Z,ce)),be},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&G(this,J))},W.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new ee(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,Z,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof Z=="string"&&(Z=n.from(Z,ce)),Z}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(J,Z,ce,me,be,q){if(!ce){var U=C(Z,me,be);me!==U&&(ce=!0,be="buffer",me=U)}var oe=Z.objectMode?1:me.length;Z.length+=oe;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var Me=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:me,encoding:be,isBuf:ce,callback:q,next:null},Me?Me.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else m(J,Z,!1,oe,me,be,q);return ge}function m(J,Z,ce,me,be,q,U){Z.writelen=me,Z.writecb=U,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new O("write")):ce?J._writev(be,Z.onwrite):J._write(be,q,Z.onwrite),Z.sync=!1}function N(J,Z,ce,me,be){--Z.pendingcb,ce?(_.nextTick(be,me),_.nextTick(ve,J,Z),J._writableState.errorEmitted=!0,re(J,me)):(be(me),J._writableState.errorEmitted=!0,re(J,me),ve(J,Z))}function I(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,Z){var ce=J._writableState,me=ce.sync,be=ce.writecb;if(typeof be!="function")throw new A;if(I(ce),Z)N(J,ce,me,Z,be);else{var q=y(ce)||J.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(J,ce),me?_.nextTick(P,J,ce,q,be):P(J,ce,q,be)}}function P(J,Z,ce,me){ce||j(J,Z),Z.pendingcb--,me(),ve(J,Z)}function j(J,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,J.emit("drain"))}function G(J,Z){Z.bufferProcessing=!0;var ce=Z.bufferedRequest;if(J._writev&&ce&&ce.next){var me=Z.bufferedRequestCount,be=new Array(me),q=Z.corkedRequestsFree;q.entry=ce;for(var U=0,oe=!0;ce;)be[U]=ce,ce.isBuf||(oe=!1),ce=ce.next,U+=1;be.allBuffers=oe,m(J,Z,!0,Z.length,be,"",q.finish),Z.pendingcb++,Z.lastBufferedRequest=null,q.next?(Z.corkedRequestsFree=q.next,q.next=null):Z.corkedRequestsFree=new x(Z),Z.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,Me=ce.encoding,he=ce.callback,Te=Z.objectMode?1:ge.length;if(m(J,Z,!1,Te,ge,Me,he),ce=ce.next,Z.bufferedRequestCount--,Z.writing)break}ce===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ce,Z.bufferProcessing=!1}W.prototype._write=function(J,Z,ce){ce(new k("_write()"))},W.prototype._writev=null,W.prototype.end=function(J,Z,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,Z=null):typeof Z=="function"&&(ce=Z,Z=null),J!=null&&this.write(J,Z),me.corked&&(me.corked=1,this.uncork()),me.ending||ye(this,me,ce),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function H(J,Z){J._final(function(ce){Z.pendingcb--,ce&&re(J,ce),Z.prefinished=!0,J.emit("prefinish"),ve(J,Z)})}function fe(J,Z){!Z.prefinished&&!Z.finalCalled&&(typeof J._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,_.nextTick(H,J,Z)):(Z.prefinished=!0,J.emit("prefinish")))}function ve(J,Z){var ce=y(Z);if(ce&&(fe(J,Z),Z.pendingcb===0&&(Z.finished=!0,J.emit("finish"),Z.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function ye(J,Z,ce){Z.ending=!0,ve(J,Z),ce&&(Z.finished?_.nextTick(ce):J.once("finish",ce)),Z.ended=!0,J.writable=!1}function Ee(J,Z,ce){var me=J.entry;for(J.entry=null;me;){var be=me.callback;Z.pendingcb--,be(ce),me=me.next}Z.corkedRequestsFree.next=J}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){!this._writableState||(this._writableState.destroyed=Z)}}),W.prototype.destroy=u.destroy,W.prototype._undestroy=u.undestroy,W.prototype._destroy=function(J,Z){Z(J)}},54887:(b,$,w)=>{"use strict";var _=w(34155),D;function x(O,V,Y){return V in O?Object.defineProperty(O,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):O[V]=Y,O}var S=w(5800),o=Symbol("lastResolve"),l=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),g=Symbol("lastPromise"),f=Symbol("handlePromise"),u=Symbol("stream");function E(O,V){return{value:O,done:V}}function d(O){var V=O[o];if(V!==null){var Y=O[u].read();Y!==null&&(O[g]=null,O[o]=null,O[l]=null,V(E(Y,!1)))}}function h(O){_.nextTick(d,O)}function v(O,V){return function(Y,ee){O.then(function(){if(V[c]){Y(E(void 0,!0));return}V[f](Y,ee)},ee)}}var k=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((D={get stream(){return this[u]},next:function(){var V=this,Y=this[n];if(Y!==null)return Promise.reject(Y);if(this[c])return Promise.resolve(E(void 0,!0));if(this[u].destroyed)return new Promise(function(ne,ue){_.nextTick(function(){V[n]?ue(V[n]):ne(E(void 0,!0))})});var ee=this[g],re;if(ee)re=new Promise(v(ee,this));else{var ie=this[u].read();if(ie!==null)return Promise.resolve(E(ie,!1));re=new Promise(this[f])}return this[g]=re,re}},x(D,Symbol.asyncIterator,function(){return this}),x(D,"return",function(){var V=this;return new Promise(function(Y,ee){V[u].destroy(null,function(re){if(re){ee(re);return}Y(E(void 0,!0))})})}),D),k),R=function(V){var Y,ee=Object.create(A,(Y={},x(Y,u,{value:V,writable:!0}),x(Y,o,{value:null,writable:!0}),x(Y,l,{value:null,writable:!0}),x(Y,n,{value:null,writable:!0}),x(Y,c,{value:V._readableState.endEmitted,writable:!0}),x(Y,f,{value:function(ie,ne){var ue=ee[u].read();ue?(ee[g]=null,ee[o]=null,ee[l]=null,ie(E(ue,!1))):(ee[o]=ie,ee[l]=ne)},writable:!0}),Y));return ee[g]=null,S(V,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=ee[l];ie!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ie(re)),ee[n]=re;return}var ne=ee[o];ne!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ne(E(void 0,!0))),ee[c]=!0}),V.on("readable",h.bind(null,ee)),ee};b.exports=R},76633:(b,$,w)=>{"use strict";function _(d,h){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(d);h&&(k=k.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),v.push.apply(v,k)}return v}function D(d){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?_(Object(v),!0).forEach(function(k){x(d,k,v[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):_(Object(v)).forEach(function(k){Object.defineProperty(d,k,Object.getOwnPropertyDescriptor(v,k))})}return d}function x(d,h,v){return h in d?Object.defineProperty(d,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[h]=v,d}function S(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function o(d,h){for(var v=0;v<h.length;v++){var k=h[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(d,k.key,k)}}function l(d,h,v){return h&&o(d.prototype,h),v&&o(d,v),d}var n=w(48764),c=n.Buffer,g=w(96419),f=g.inspect,u=f&&f.custom||"inspect";function E(d,h,v){c.prototype.copy.call(d,h,v)}b.exports=function(){function d(){S(this,d),this.head=null,this.tail=null,this.length=0}return l(d,[{key:"push",value:function(v){var k={data:v,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(v){var k={data:v,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var k=this.head,A=""+k.data;k=k.next;)A+=v+k.data;return A}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var k=c.allocUnsafe(v>>>0),A=this.head,R=0;A;)E(A.data,k,R),R+=A.data.length,A=A.next;return k}},{key:"consume",value:function(v,k){var A;return v<this.head.data.length?(A=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?A=this.shift():A=k?this._getString(v):this._getBuffer(v),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var k=this.head,A=1,R=k.data;for(v-=R.length;k=k.next;){var O=k.data,V=v>O.length?O.length:v;if(V===O.length?R+=O:R+=O.slice(0,v),v-=V,v===0){V===O.length?(++A,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=O.slice(V));break}++A}return this.length-=A,R}},{key:"_getBuffer",value:function(v){var k=c.allocUnsafe(v),A=this.head,R=1;for(A.data.copy(k),v-=A.data.length;A=A.next;){var O=A.data,V=v>O.length?O.length:v;if(O.copy(k,k.length-v,0,V),v-=V,v===0){V===O.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=O.slice(V));break}++R}return this.length-=R,k}},{key:u,value:function(v,k){return f(this,D({},k,{depth:0,customInspect:!1}))}}]),d}()},75997:(b,$,w)=>{"use strict";var _=w(34155);function D(c,g){var f=this,u=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return u||E?(g?g(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(l,this,c)):_.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!g&&d?f._writableState?f._writableState.errorEmitted?_.nextTick(S,f):(f._writableState.errorEmitted=!0,_.nextTick(x,f,d)):_.nextTick(x,f,d):g?(_.nextTick(S,f),g(d)):_.nextTick(S,f)}),this)}function x(c,g){l(c,g),S(c)}function S(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,g){c.emit("error",g)}function n(c,g){var f=c._readableState,u=c._writableState;f&&f.autoDestroy||u&&u.autoDestroy?c.destroy(g):c.emit("error",g)}b.exports={destroy:D,undestroy:o,errorOrDestroy:n}},5800:(b,$,w)=>{"use strict";var _=w(84419).q.ERR_STREAM_PREMATURE_CLOSE;function D(l){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,g=new Array(c),f=0;f<c;f++)g[f]=arguments[f];l.apply(this,g)}}}function x(){}function S(l){return l.setHeader&&typeof l.abort=="function"}function o(l,n,c){if(typeof n=="function")return o(l,null,n);n||(n={}),c=D(c||x);var g=n.readable||n.readable!==!1&&l.readable,f=n.writable||n.writable!==!1&&l.writable,u=function(){l.writable||d()},E=l._writableState&&l._writableState.finished,d=function(){f=!1,E=!0,g||c.call(l)},h=l._readableState&&l._readableState.endEmitted,v=function(){g=!1,h=!0,f||c.call(l)},k=function(V){c.call(l,V)},A=function(){var V;if(g&&!h)return(!l._readableState||!l._readableState.ended)&&(V=new _),c.call(l,V);if(f&&!E)return(!l._writableState||!l._writableState.ended)&&(V=new _),c.call(l,V)},R=function(){l.req.on("finish",d)};return S(l)?(l.on("complete",d),l.on("abort",A),l.req?R():l.on("request",R)):f&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",d),n.error!==!1&&l.on("error",k),l.on("close",A),function(){l.removeListener("complete",d),l.removeListener("abort",A),l.removeListener("request",R),l.req&&l.req.removeListener("finish",d),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",d),l.removeListener("end",v),l.removeListener("error",k),l.removeListener("close",A)}}b.exports=o},98859:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},37065:(b,$,w)=>{"use strict";var _;function D(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}var x=w(84419).q,S=x.ERR_MISSING_ARGS,o=x.ERR_STREAM_DESTROYED;function l(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,h,v,k){k=D(k);var A=!1;d.on("close",function(){A=!0}),_===void 0&&(_=w(5800)),_(d,{readable:h,writable:v},function(O){if(O)return k(O);A=!0,k()});var R=!1;return function(O){if(!A&&!R){if(R=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();k(O||new o("pipe"))}}}function g(d){d()}function f(d,h){return d.pipe(h)}function u(d){return!d.length||typeof d[d.length-1]!="function"?l:d.pop()}function E(){for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];var k=u(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new S("streams");var A,R=h.map(function(O,V){var Y=V<h.length-1,ee=V>0;return c(O,Y,ee,function(re){A||(A=re),re&&R.forEach(g),!Y&&(R.forEach(g),k(A))})});return h.reduce(f)}b.exports=E},898:(b,$,w)=>{"use strict";var _=w(84419).q.ERR_INVALID_OPT_VALUE;function D(S,o,l){return S.highWaterMark!=null?S.highWaterMark:o?S[l]:null}function x(S,o,l,n){var c=D(o,n,l);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var g=n?l:"highWaterMark";throw new _(g,c)}return Math.floor(c)}return S.objectMode?16:16*1024}b.exports={getHighWaterMark:x}},59819:(b,$,w)=>{b.exports=w(17187).EventEmitter},23872:(b,$,w)=>{$=b.exports=w(44960),$.Stream=$,$.Readable=$,$.Writable=w(92010),$.Duplex=w(34390),$.Transform=w(3912),$.PassThrough=w(41294),$.finished=w(5800),$.pipeline=w(37065)},72221:(b,$,w)=>{"use strict";var _=w(89509).Buffer,D=_.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}function S(R){var O=x(R);if(typeof O!="string"&&(_.isEncoding===D||!D(R)))throw new Error("Unknown encoding: "+R);return O||R}$.s=o;function o(R){this.encoding=S(R);var O;switch(this.encoding){case"utf16le":this.text=E,this.end=d,O=4;break;case"utf8":this.fillLast=g,O=4;break;case"base64":this.text=h,this.end=v,O=3;break;default:this.write=k,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(O)}o.prototype.write=function(R){if(R.length===0)return"";var O,V;if(this.lastNeed){if(O=this.fillLast(R),O===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<R.length?O?O+this.text(R,V):this.text(R,V):O||""},o.prototype.end=u,o.prototype.text=f,o.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function l(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function n(R,O,V){var Y=O.length-1;if(Y<V)return 0;var ee=l(O[Y]);return ee>=0?(ee>0&&(R.lastNeed=ee-1),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(R.lastNeed=ee-2),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(ee===2?ee=0:R.lastNeed=ee-3),ee):0))}function c(R,O,V){if((O[0]&192)!=128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&O.length>1){if((O[1]&192)!=128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&O.length>2&&(O[2]&192)!=128)return R.lastNeed=2,"\uFFFD"}}function g(R){var O=this.lastTotal-this.lastNeed,V=c(this,R,O);if(V!==void 0)return V;if(this.lastNeed<=R.length)return R.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,O,0,R.length),this.lastNeed-=R.length}function f(R,O){var V=n(this,R,O);if(!this.lastNeed)return R.toString("utf8",O);this.lastTotal=V;var Y=R.length-(V-this.lastNeed);return R.copy(this.lastChar,0,Y),R.toString("utf8",O,Y)}function u(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+"\uFFFD":O}function E(R,O){if((R.length-O)%2==0){var V=R.toString("utf16le",O);if(V){var Y=V.charCodeAt(V.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",O,R.length-1)}function d(R){var O=R&&R.length?this.write(R):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,V)}return O}function h(R,O){var V=(R.length-O)%3;return V===0?R.toString("base64",O):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",O,R.length-V))}function v(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(R){return R.toString(this.encoding)}function A(R){return R&&R.length?this.write(R):""}},67295:b=>{b.exports=function(w,_){for(var D=Math.min(w.length,_.length),x=new Buffer(D),S=0;S<D;++S)x[S]=w[S]^_[S];return x}},48764:(b,$,w)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const _=w(79742),D=w(80645),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$.Buffer=n,$.SlowBuffer=R,$.INSPECT_MAX_BYTES=50;const S=2147483647;$.kMaxLength=S,n.TYPED_ARRAY_SUPPORT=o(),!n.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const se=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(se,Q),se.foo()===42}catch(se){return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.byteOffset}});function l(se){if(se>S)throw new RangeError('The value "'+se+'" is invalid for option "size"');const Q=new Uint8Array(se);return Object.setPrototypeOf(Q,n.prototype),Q}function n(se,Q,X){if(typeof se=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(se)}return c(se,Q,X)}n.poolSize=8192;function c(se,Q,X){if(typeof se=="string")return E(se,Q);if(ArrayBuffer.isView(se))return h(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ce(se,ArrayBuffer)||se&&Ce(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ce(se,SharedArrayBuffer)||se&&Ce(se.buffer,SharedArrayBuffer)))return v(se,Q,X);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=se.valueOf&&se.valueOf();if(le!=null&&le!==se)return n.from(le,Q,X);const pe=k(se);if(pe)return pe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return n.from(se[Symbol.toPrimitive]("string"),Q,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}n.from=function(se,Q,X){return c(se,Q,X)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function g(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function f(se,Q,X){return g(se),se<=0?l(se):Q!==void 0?typeof X=="string"?l(se).fill(Q,X):l(se).fill(Q):l(se)}n.alloc=function(se,Q,X){return f(se,Q,X)};function u(se){return g(se),l(se<0?0:A(se)|0)}n.allocUnsafe=function(se){return u(se)},n.allocUnsafeSlow=function(se){return u(se)};function E(se,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!n.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const X=O(se,Q)|0;let le=l(X);const pe=le.write(se,Q);return pe!==X&&(le=le.slice(0,pe)),le}function d(se){const Q=se.length<0?0:A(se.length)|0,X=l(Q);for(let le=0;le<Q;le+=1)X[le]=se[le]&255;return X}function h(se){if(Ce(se,Uint8Array)){const Q=new Uint8Array(se);return v(Q.buffer,Q.byteOffset,Q.byteLength)}return d(se)}function v(se,Q,X){if(Q<0||se.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<Q+(X||0))throw new RangeError('"length" is outside of buffer bounds');let le;return Q===void 0&&X===void 0?le=new Uint8Array(se):X===void 0?le=new Uint8Array(se,Q):le=new Uint8Array(se,Q,X),Object.setPrototypeOf(le,n.prototype),le}function k(se){if(n.isBuffer(se)){const Q=A(se.length)|0,X=l(Q);return X.length===0||se.copy(X,0,0,Q),X}if(se.length!==void 0)return typeof se.length!="number"||ut(se.length)?l(0):d(se);if(se.type==="Buffer"&&Array.isArray(se.data))return d(se.data)}function A(se){if(se>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return se|0}function R(se){return+se!=se&&(se=0),n.alloc(+se)}n.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==n.prototype},n.compare=function(Q,X){if(Ce(Q,Uint8Array)&&(Q=n.from(Q,Q.offset,Q.byteLength)),Ce(X,Uint8Array)&&(X=n.from(X,X.offset,X.byteLength)),!n.isBuffer(Q)||!n.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===X)return 0;let le=Q.length,pe=X.length;for(let ke=0,we=Math.min(le,pe);ke<we;++ke)if(Q[ke]!==X[ke]){le=Q[ke],pe=X[ke];break}return le<pe?-1:pe<le?1:0},n.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(Q,X){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return n.alloc(0);let le;if(X===void 0)for(X=0,le=0;le<Q.length;++le)X+=Q[le].length;const pe=n.allocUnsafe(X);let ke=0;for(le=0;le<Q.length;++le){let we=Q[le];if(Ce(we,Uint8Array))ke+we.length>pe.length?(n.isBuffer(we)||(we=n.from(we)),we.copy(pe,ke)):Uint8Array.prototype.set.call(pe,we,ke);else if(n.isBuffer(we))we.copy(pe,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=we.length}return pe};function O(se,Q){if(n.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ce(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const X=se.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&X===0)return 0;let pe=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return ge(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return Te(se).length;default:if(pe)return le?-1:ge(se).length;Q=(""+Q).toLowerCase(),pe=!0}}n.byteLength=O;function V(se,Q,X){let le=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0,Q>>>=0,X<=Q))return"";for(se||(se="utf8");;)switch(se){case"hex":return F(this,Q,X);case"utf8":case"utf-8":return C(this,Q,X);case"ascii":return N(this,Q,X);case"latin1":case"binary":return I(this,Q,X);case"base64":return L(this,Q,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,Q,X);default:if(le)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),le=!0}}n.prototype._isBuffer=!0;function Y(se,Q,X){const le=se[Q];se[Q]=se[X],se[X]=le}n.prototype.swap16=function(){const Q=this.length;if(Q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<Q;X+=2)Y(this,X,X+1);return this},n.prototype.swap32=function(){const Q=this.length;if(Q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<Q;X+=4)Y(this,X,X+3),Y(this,X+1,X+2);return this},n.prototype.swap64=function(){const Q=this.length;if(Q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<Q;X+=8)Y(this,X,X+7),Y(this,X+1,X+6),Y(this,X+2,X+5),Y(this,X+3,X+4);return this},n.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?C(this,0,Q):V.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(Q){if(!n.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:n.compare(this,Q)===0},n.prototype.inspect=function(){let Q="";const X=$.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(Q+=" ... "),"<Buffer "+Q+">"},x&&(n.prototype[x]=n.prototype.inspect),n.prototype.compare=function(Q,X,le,pe,ke){if(Ce(Q,Uint8Array)&&(Q=n.from(Q,Q.offset,Q.byteLength)),!n.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(X===void 0&&(X=0),le===void 0&&(le=Q?Q.length:0),pe===void 0&&(pe=0),ke===void 0&&(ke=this.length),X<0||le>Q.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&X>=le)return 0;if(pe>=ke)return-1;if(X>=le)return 1;if(X>>>=0,le>>>=0,pe>>>=0,ke>>>=0,this===Q)return 0;let we=ke-pe,Ne=le-X;const ft=Math.min(we,Ne),Ie=this.slice(pe,ke),Be=Q.slice(X,le);for(let dt=0;dt<ft;++dt)if(Ie[dt]!==Be[dt]){we=Ie[dt],Ne=Be[dt];break}return we<Ne?-1:Ne<we?1:0};function ee(se,Q,X,le,pe){if(se.length===0)return-1;if(typeof X=="string"?(le=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,ut(X)&&(X=pe?0:se.length-1),X<0&&(X=se.length+X),X>=se.length){if(pe)return-1;X=se.length-1}else if(X<0)if(pe)X=0;else return-1;if(typeof Q=="string"&&(Q=n.from(Q,le)),n.isBuffer(Q))return Q.length===0?-1:re(se,Q,X,le,pe);if(typeof Q=="number")return Q=Q&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(se,Q,X):Uint8Array.prototype.lastIndexOf.call(se,Q,X):re(se,[Q],X,le,pe);throw new TypeError("val must be string, number or Buffer")}function re(se,Q,X,le,pe){let ke=1,we=se.length,Ne=Q.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(se.length<2||Q.length<2)return-1;ke=2,we/=2,Ne/=2,X/=2}function ft(Be,dt){return ke===1?Be[dt]:Be.readUInt16BE(dt*ke)}let Ie;if(pe){let Be=-1;for(Ie=X;Ie<we;Ie++)if(ft(se,Ie)===ft(Q,Be===-1?0:Ie-Be)){if(Be===-1&&(Be=Ie),Ie-Be+1===Ne)return Be*ke}else Be!==-1&&(Ie-=Ie-Be),Be=-1}else for(X+Ne>we&&(X=we-Ne),Ie=X;Ie>=0;Ie--){let Be=!0;for(let dt=0;dt<Ne;dt++)if(ft(se,Ie+dt)!==ft(Q,dt)){Be=!1;break}if(Be)return Ie}return-1}n.prototype.includes=function(Q,X,le){return this.indexOf(Q,X,le)!==-1},n.prototype.indexOf=function(Q,X,le){return ee(this,Q,X,le,!0)},n.prototype.lastIndexOf=function(Q,X,le){return ee(this,Q,X,le,!1)};function ie(se,Q,X,le){X=Number(X)||0;const pe=se.length-X;le?(le=Number(le),le>pe&&(le=pe)):le=pe;const ke=Q.length;le>ke/2&&(le=ke/2);let we;for(we=0;we<le;++we){const Ne=parseInt(Q.substr(we*2,2),16);if(ut(Ne))return we;se[X+we]=Ne}return we}function ne(se,Q,X,le){return Ae(ge(Q,se.length-X),se,X,le)}function ue(se,Q,X,le){return Ae(Me(Q),se,X,le)}function W(se,Q,X,le){return Ae(Te(Q),se,X,le)}function T(se,Q,X,le){return Ae(he(Q,se.length-X),se,X,le)}n.prototype.write=function(Q,X,le,pe){if(X===void 0)pe="utf8",le=this.length,X=0;else if(le===void 0&&typeof X=="string")pe=X,le=this.length,X=0;else if(isFinite(X))X=X>>>0,isFinite(le)?(le=le>>>0,pe===void 0&&(pe="utf8")):(pe=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-X;if((le===void 0||le>ke)&&(le=ke),Q.length>0&&(le<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let we=!1;for(;;)switch(pe){case"hex":return ie(this,Q,X,le);case"utf8":case"utf-8":return ne(this,Q,X,le);case"ascii":case"latin1":case"binary":return ue(this,Q,X,le);case"base64":return W(this,Q,X,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,Q,X,le);default:if(we)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),we=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(se,Q,X){return Q===0&&X===se.length?_.fromByteArray(se):_.fromByteArray(se.slice(Q,X))}function C(se,Q,X){X=Math.min(se.length,X);const le=[];let pe=Q;for(;pe<X;){const ke=se[pe];let we=null,Ne=ke>239?4:ke>223?3:ke>191?2:1;if(pe+Ne<=X){let ft,Ie,Be,dt;switch(Ne){case 1:ke<128&&(we=ke);break;case 2:ft=se[pe+1],(ft&192)==128&&(dt=(ke&31)<<6|ft&63,dt>127&&(we=dt));break;case 3:ft=se[pe+1],Ie=se[pe+2],(ft&192)==128&&(Ie&192)==128&&(dt=(ke&15)<<12|(ft&63)<<6|Ie&63,dt>2047&&(dt<55296||dt>57343)&&(we=dt));break;case 4:ft=se[pe+1],Ie=se[pe+2],Be=se[pe+3],(ft&192)==128&&(Ie&192)==128&&(Be&192)==128&&(dt=(ke&15)<<18|(ft&63)<<12|(Ie&63)<<6|Be&63,dt>65535&&dt<1114112&&(we=dt))}}we===null?(we=65533,Ne=1):we>65535&&(we-=65536,le.push(we>>>10&1023|55296),we=56320|we&1023),le.push(we),pe+=Ne}return m(le)}const s=4096;function m(se){const Q=se.length;if(Q<=s)return String.fromCharCode.apply(String,se);let X="",le=0;for(;le<Q;)X+=String.fromCharCode.apply(String,se.slice(le,le+=s));return X}function N(se,Q,X){let le="";X=Math.min(se.length,X);for(let pe=Q;pe<X;++pe)le+=String.fromCharCode(se[pe]&127);return le}function I(se,Q,X){let le="";X=Math.min(se.length,X);for(let pe=Q;pe<X;++pe)le+=String.fromCharCode(se[pe]);return le}function F(se,Q,X){const le=se.length;(!Q||Q<0)&&(Q=0),(!X||X<0||X>le)&&(X=le);let pe="";for(let ke=Q;ke<X;++ke)pe+=qe[se[ke]];return pe}function P(se,Q,X){const le=se.slice(Q,X);let pe="";for(let ke=0;ke<le.length-1;ke+=2)pe+=String.fromCharCode(le[ke]+le[ke+1]*256);return pe}n.prototype.slice=function(Q,X){const le=this.length;Q=~~Q,X=X===void 0?le:~~X,Q<0?(Q+=le,Q<0&&(Q=0)):Q>le&&(Q=le),X<0?(X+=le,X<0&&(X=0)):X>le&&(X=le),X<Q&&(X=Q);const pe=this.subarray(Q,X);return Object.setPrototypeOf(pe,n.prototype),pe};function j(se,Q,X){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+Q>X)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(Q,X,le){Q=Q>>>0,X=X>>>0,le||j(Q,X,this.length);let pe=this[Q],ke=1,we=0;for(;++we<X&&(ke*=256);)pe+=this[Q+we]*ke;return pe},n.prototype.readUintBE=n.prototype.readUIntBE=function(Q,X,le){Q=Q>>>0,X=X>>>0,le||j(Q,X,this.length);let pe=this[Q+--X],ke=1;for(;X>0&&(ke*=256);)pe+=this[Q+--X]*ke;return pe},n.prototype.readUint8=n.prototype.readUInt8=function(Q,X){return Q=Q>>>0,X||j(Q,1,this.length),this[Q]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(Q,X){return Q=Q>>>0,X||j(Q,2,this.length),this[Q]|this[Q+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(Q,X){return Q=Q>>>0,X||j(Q,2,this.length),this[Q]<<8|this[Q+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},n.prototype.readBigUInt64LE=De(function(Q){Q=Q>>>0,be(Q,"offset");const X=this[Q],le=this[Q+7];(X===void 0||le===void 0)&&q(Q,this.length-8);const pe=X+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,ke=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+le*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),n.prototype.readBigUInt64BE=De(function(Q){Q=Q>>>0,be(Q,"offset");const X=this[Q],le=this[Q+7];(X===void 0||le===void 0)&&q(Q,this.length-8);const pe=X*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],ke=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+le;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),n.prototype.readIntLE=function(Q,X,le){Q=Q>>>0,X=X>>>0,le||j(Q,X,this.length);let pe=this[Q],ke=1,we=0;for(;++we<X&&(ke*=256);)pe+=this[Q+we]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*X)),pe},n.prototype.readIntBE=function(Q,X,le){Q=Q>>>0,X=X>>>0,le||j(Q,X,this.length);let pe=X,ke=1,we=this[Q+--pe];for(;pe>0&&(ke*=256);)we+=this[Q+--pe]*ke;return ke*=128,we>=ke&&(we-=Math.pow(2,8*X)),we},n.prototype.readInt8=function(Q,X){return Q=Q>>>0,X||j(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},n.prototype.readInt16LE=function(Q,X){Q=Q>>>0,X||j(Q,2,this.length);const le=this[Q]|this[Q+1]<<8;return le&32768?le|4294901760:le},n.prototype.readInt16BE=function(Q,X){Q=Q>>>0,X||j(Q,2,this.length);const le=this[Q+1]|this[Q]<<8;return le&32768?le|4294901760:le},n.prototype.readInt32LE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},n.prototype.readInt32BE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},n.prototype.readBigInt64LE=De(function(Q){Q=Q>>>0,be(Q,"offset");const X=this[Q],le=this[Q+7];(X===void 0||le===void 0)&&q(Q,this.length-8);const pe=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(le<<24);return(BigInt(pe)<<BigInt(32))+BigInt(X+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24)}),n.prototype.readBigInt64BE=De(function(Q){Q=Q>>>0,be(Q,"offset");const X=this[Q],le=this[Q+7];(X===void 0||le===void 0)&&q(Q,this.length-8);const pe=(X<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(pe)<<BigInt(32))+BigInt(this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+le)}),n.prototype.readFloatLE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),D.read(this,Q,!0,23,4)},n.prototype.readFloatBE=function(Q,X){return Q=Q>>>0,X||j(Q,4,this.length),D.read(this,Q,!1,23,4)},n.prototype.readDoubleLE=function(Q,X){return Q=Q>>>0,X||j(Q,8,this.length),D.read(this,Q,!0,52,8)},n.prototype.readDoubleBE=function(Q,X){return Q=Q>>>0,X||j(Q,8,this.length),D.read(this,Q,!1,52,8)};function G(se,Q,X,le,pe,ke){if(!n.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>pe||Q<ke)throw new RangeError('"value" argument is out of bounds');if(X+le>se.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(Q,X,le,pe){if(Q=+Q,X=X>>>0,le=le>>>0,!pe){const Ne=Math.pow(2,8*le)-1;G(this,Q,X,le,Ne,0)}let ke=1,we=0;for(this[X]=Q&255;++we<le&&(ke*=256);)this[X+we]=Q/ke&255;return X+le},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(Q,X,le,pe){if(Q=+Q,X=X>>>0,le=le>>>0,!pe){const Ne=Math.pow(2,8*le)-1;G(this,Q,X,le,Ne,0)}let ke=le-1,we=1;for(this[X+ke]=Q&255;--ke>=0&&(we*=256);)this[X+ke]=Q/we&255;return X+le},n.prototype.writeUint8=n.prototype.writeUInt8=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,1,255,0),this[X]=Q&255,X+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,2,65535,0),this[X]=Q&255,this[X+1]=Q>>>8,X+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,2,65535,0),this[X]=Q>>>8,this[X+1]=Q&255,X+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,4,4294967295,0),this[X+3]=Q>>>24,this[X+2]=Q>>>16,this[X+1]=Q>>>8,this[X]=Q&255,X+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,4,4294967295,0),this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4};function y(se,Q,X,le,pe){me(Q,le,pe,se,X,7);let ke=Number(Q&BigInt(4294967295));se[X++]=ke,ke=ke>>8,se[X++]=ke,ke=ke>>8,se[X++]=ke,ke=ke>>8,se[X++]=ke;let we=Number(Q>>BigInt(32)&BigInt(4294967295));return se[X++]=we,we=we>>8,se[X++]=we,we=we>>8,se[X++]=we,we=we>>8,se[X++]=we,X}function H(se,Q,X,le,pe){me(Q,le,pe,se,X,7);let ke=Number(Q&BigInt(4294967295));se[X+7]=ke,ke=ke>>8,se[X+6]=ke,ke=ke>>8,se[X+5]=ke,ke=ke>>8,se[X+4]=ke;let we=Number(Q>>BigInt(32)&BigInt(4294967295));return se[X+3]=we,we=we>>8,se[X+2]=we,we=we>>8,se[X+1]=we,we=we>>8,se[X]=we,X+8}n.prototype.writeBigUInt64LE=De(function(Q,X=0){return y(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=De(function(Q,X=0){return H(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(Q,X,le,pe){if(Q=+Q,X=X>>>0,!pe){const ft=Math.pow(2,8*le-1);G(this,Q,X,le,ft-1,-ft)}let ke=0,we=1,Ne=0;for(this[X]=Q&255;++ke<le&&(we*=256);)Q<0&&Ne===0&&this[X+ke-1]!==0&&(Ne=1),this[X+ke]=(Q/we>>0)-Ne&255;return X+le},n.prototype.writeIntBE=function(Q,X,le,pe){if(Q=+Q,X=X>>>0,!pe){const ft=Math.pow(2,8*le-1);G(this,Q,X,le,ft-1,-ft)}let ke=le-1,we=1,Ne=0;for(this[X+ke]=Q&255;--ke>=0&&(we*=256);)Q<0&&Ne===0&&this[X+ke+1]!==0&&(Ne=1),this[X+ke]=(Q/we>>0)-Ne&255;return X+le},n.prototype.writeInt8=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,1,127,-128),Q<0&&(Q=255+Q+1),this[X]=Q&255,X+1},n.prototype.writeInt16LE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,2,32767,-32768),this[X]=Q&255,this[X+1]=Q>>>8,X+2},n.prototype.writeInt16BE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,2,32767,-32768),this[X]=Q>>>8,this[X+1]=Q&255,X+2},n.prototype.writeInt32LE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,4,2147483647,-2147483648),this[X]=Q&255,this[X+1]=Q>>>8,this[X+2]=Q>>>16,this[X+3]=Q>>>24,X+4},n.prototype.writeInt32BE=function(Q,X,le){return Q=+Q,X=X>>>0,le||G(this,Q,X,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4},n.prototype.writeBigInt64LE=De(function(Q,X=0){return y(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=De(function(Q,X=0){return H(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(se,Q,X,le,pe,ke){if(X+le>se.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function ve(se,Q,X,le,pe){return Q=+Q,X=X>>>0,pe||fe(se,Q,X,4,34028234663852886e22,-34028234663852886e22),D.write(se,Q,X,le,23,4),X+4}n.prototype.writeFloatLE=function(Q,X,le){return ve(this,Q,X,!0,le)},n.prototype.writeFloatBE=function(Q,X,le){return ve(this,Q,X,!1,le)};function ye(se,Q,X,le,pe){return Q=+Q,X=X>>>0,pe||fe(se,Q,X,8,17976931348623157e292,-17976931348623157e292),D.write(se,Q,X,le,52,8),X+8}n.prototype.writeDoubleLE=function(Q,X,le){return ye(this,Q,X,!0,le)},n.prototype.writeDoubleBE=function(Q,X,le){return ye(this,Q,X,!1,le)},n.prototype.copy=function(Q,X,le,pe){if(!n.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(le||(le=0),!pe&&pe!==0&&(pe=this.length),X>=Q.length&&(X=Q.length),X||(X=0),pe>0&&pe<le&&(pe=le),pe===le||Q.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),Q.length-X<pe-le&&(pe=Q.length-X+le);const ke=pe-le;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(X,le,pe):Uint8Array.prototype.set.call(Q,this.subarray(le,pe),X),ke},n.prototype.fill=function(Q,X,le,pe){if(typeof Q=="string"){if(typeof X=="string"?(pe=X,X=0,le=this.length):typeof le=="string"&&(pe=le,le=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!n.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(Q.length===1){const we=Q.charCodeAt(0);(pe==="utf8"&&we<128||pe==="latin1")&&(Q=we)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(X<0||this.length<X||this.length<le)throw new RangeError("Out of range index");if(le<=X)return this;X=X>>>0,le=le===void 0?this.length:le>>>0,Q||(Q=0);let ke;if(typeof Q=="number")for(ke=X;ke<le;++ke)this[ke]=Q;else{const we=n.isBuffer(Q)?Q:n.from(Q,pe),Ne=we.length;if(Ne===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(ke=0;ke<le-X;++ke)this[ke+X]=we[ke%Ne]}return this};const Ee={};function J(se,Q,X){Ee[se]=class extends X{constructor(){super();Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(se,Q){return`The "${se}" argument must be of type number. Received type ${typeof Q}`},TypeError),J("ERR_OUT_OF_RANGE",function(se,Q,X){let le=`The value of "${se}" is out of range.`,pe=X;return Number.isInteger(X)&&Math.abs(X)>2**32?pe=Z(String(X)):typeof X=="bigint"&&(pe=String(X),(X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))&&(pe=Z(pe)),pe+="n"),le+=` It must be ${Q}. Received ${pe}`,le},RangeError);function Z(se){let Q="",X=se.length;const le=se[0]==="-"?1:0;for(;X>=le+4;X-=3)Q=`_${se.slice(X-3,X)}${Q}`;return`${se.slice(0,X)}${Q}`}function ce(se,Q,X){be(Q,"offset"),(se[Q]===void 0||se[Q+X]===void 0)&&q(Q,se.length-(X+1))}function me(se,Q,X,le,pe,ke){if(se>X||se<Q){const we=typeof Q=="bigint"?"n":"";let Ne;throw ke>3?Q===0||Q===BigInt(0)?Ne=`>= 0${we} and < 2${we} ** ${(ke+1)*8}${we}`:Ne=`>= -(2${we} ** ${(ke+1)*8-1}${we}) and < 2 ** ${(ke+1)*8-1}${we}`:Ne=`>= ${Q}${we} and <= ${X}${we}`,new Ee.ERR_OUT_OF_RANGE("value",Ne,se)}ce(le,pe,ke)}function be(se,Q){if(typeof se!="number")throw new Ee.ERR_INVALID_ARG_TYPE(Q,"number",se)}function q(se,Q,X){throw Math.floor(se)!==se?(be(se,X),new Ee.ERR_OUT_OF_RANGE(X||"offset","an integer",se)):Q<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE(X||"offset",`>= ${X?1:0} and <= ${Q}`,se)}const U=/[^+/0-9A-Za-z-_]/g;function oe(se){if(se=se.split("=")[0],se=se.trim().replace(U,""),se.length<2)return"";for(;se.length%4!=0;)se=se+"=";return se}function ge(se,Q){Q=Q||Infinity;let X;const le=se.length;let pe=null;const ke=[];for(let we=0;we<le;++we){if(X=se.charCodeAt(we),X>55295&&X<57344){if(!pe){if(X>56319){(Q-=3)>-1&&ke.push(239,191,189);continue}else if(we+1===le){(Q-=3)>-1&&ke.push(239,191,189);continue}pe=X;continue}if(X<56320){(Q-=3)>-1&&ke.push(239,191,189),pe=X;continue}X=(pe-55296<<10|X-56320)+65536}else pe&&(Q-=3)>-1&&ke.push(239,191,189);if(pe=null,X<128){if((Q-=1)<0)break;ke.push(X)}else if(X<2048){if((Q-=2)<0)break;ke.push(X>>6|192,X&63|128)}else if(X<65536){if((Q-=3)<0)break;ke.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((Q-=4)<0)break;ke.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return ke}function Me(se){const Q=[];for(let X=0;X<se.length;++X)Q.push(se.charCodeAt(X)&255);return Q}function he(se,Q){let X,le,pe;const ke=[];for(let we=0;we<se.length&&!((Q-=2)<0);++we)X=se.charCodeAt(we),le=X>>8,pe=X%256,ke.push(pe),ke.push(le);return ke}function Te(se){return _.toByteArray(oe(se))}function Ae(se,Q,X,le){let pe;for(pe=0;pe<le&&!(pe+X>=Q.length||pe>=se.length);++pe)Q[pe+X]=se[pe];return pe}function Ce(se,Q){return se instanceof Q||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===Q.name}function ut(se){return se!==se}const qe=function(){const se="0123456789abcdef",Q=new Array(256);for(let X=0;X<16;++X){const le=X*16;for(let pe=0;pe<16;++pe)Q[le+pe]=se[X]+se[pe]}return Q}();function De(se){return typeof BigInt=="undefined"?lt:se}function lt(){throw new Error("BigInt not supported")}},21924:(b,$,w)=>{"use strict";var _=w(40210),D=w(55559),x=D(_("String.prototype.indexOf"));b.exports=function(o,l){var n=_(o,!!l);return typeof n=="function"&&x(o,".prototype.")>-1?D(n):n}},55559:(b,$,w)=>{"use strict";var _=w(58612),D=w(40210),x=D("%Function.prototype.apply%"),S=D("%Function.prototype.call%"),o=D("%Reflect.apply%",!0)||_.call(S,x),l=D("%Object.getOwnPropertyDescriptor%",!0),n=D("%Object.defineProperty%",!0),c=D("%Math.max%");if(n)try{n({},"a",{value:1})}catch(f){n=null}b.exports=function(u){var E=o(_,S,arguments);if(l&&n){var d=l(E,"length");d.configurable&&n(E,"length",{value:1+c(0,u.length-(arguments.length-1))})}return E};var g=function(){return o(_,x,arguments)};n?n(b.exports,"apply",{value:g}):b.exports.apply=g},71027:(b,$,w)=>{var _=w(89509).Buffer,D=w(42830).Transform,x=w(32553).s,S=w(35717);function o(l){D.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}S(o,D),o.prototype.update=function(l,n,c){typeof l=="string"&&(l=_.from(l,n));var g=this._update(l);return this.hashMode?this:(c&&(g=this._toString(g,c)),g)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(l,n,c){var g;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(f){g=f}finally{c(g)}},o.prototype._flush=function(l){var n;try{this.push(this.__final())}catch(c){n=c}l(n)},o.prototype._finalOrDigest=function(l){var n=this.__final()||_.alloc(0);return l&&(n=this._toString(n,l,!0)),n},o.prototype._toString=function(l,n,c){if(this._decoder||(this._decoder=new x(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var g=this._decoder.write(l);return c&&(g+=this._decoder.end()),g},b.exports=o},76393:(b,$,w)=>{var _=w(86266),D=w(13550);b.exports=function(n){return new S(n)};var x={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};x.p224=x.secp224r1,x.p256=x.secp256r1=x.prime256v1,x.p192=x.secp192r1=x.prime192v1,x.p384=x.secp384r1,x.p521=x.secp521r1;function S(l){this.curveType=x[l],this.curveType||(this.curveType={name:l}),this.curve=new _.ec(this.curveType.name),this.keys=void 0}S.prototype.generateKeys=function(l,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,n)},S.prototype.computeSecret=function(l,n,c){n=n||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,n));var g=this.curve.keyFromPublic(l).getPublic(),f=g.mul(this.keys.getPrivate()).getX();return o(f,c,this.curveType.byteLength)},S.prototype.getPublicKey=function(l,n){var c=this.keys.getPublic(n==="compressed",!0);return n==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,l)},S.prototype.getPrivateKey=function(l){return o(this.keys.getPrivate(),l)},S.prototype.setPublicKey=function(l,n){return n=n||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,n)),this.keys._importPublic(l),this},S.prototype.setPrivateKey=function(l,n){n=n||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,n));var c=new D(l);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(l,n,c){Array.isArray(l)||(l=l.toArray());var g=new Buffer(l);if(c&&g.length<c){var f=new Buffer(c-g.length);f.fill(0),g=Buffer.concat([f,g])}return n?g.toString(n):g}},23482:(b,$,w)=>{"use strict";var _=w(35717),D=w(62318),x=w(79785),S=w(89072),o=w(71027);function l(n){o.call(this,"digest"),this._hash=n}_(l,o),l.prototype._update=function(n){this._hash.update(n)},l.prototype._final=function(){return this._hash.digest()},b.exports=function(c){return c=c.toLowerCase(),c==="md5"?new D:c==="rmd160"||c==="ripemd160"?new x:new l(S(c))}},78028:(b,$,w)=>{var _=w(62318);b.exports=function(D){return new _().update(D).digest()}},58355:(b,$,w)=>{"use strict";var _=w(35717),D=w(51031),x=w(71027),S=w(89509).Buffer,o=w(78028),l=w(79785),n=w(89072),c=S.alloc(128);function g(f,u){x.call(this,"digest"),typeof u=="string"&&(u=S.from(u));var E=f==="sha512"||f==="sha384"?128:64;if(this._alg=f,this._key=u,u.length>E){var d=f==="rmd160"?new l:n(f);u=d.update(u).digest()}else u.length<E&&(u=S.concat([u,c],E));for(var h=this._ipad=S.allocUnsafe(E),v=this._opad=S.allocUnsafe(E),k=0;k<E;k++)h[k]=u[k]^54,v[k]=u[k]^92;this._hash=f==="rmd160"?new l:n(f),this._hash.update(h)}_(g,x),g.prototype._update=function(f){this._hash.update(f)},g.prototype._final=function(){var f=this._hash.digest(),u=this._alg==="rmd160"?new l:n(this._alg);return u.update(this._opad).update(f).digest()},b.exports=function(u,E){return u=u.toLowerCase(),u==="rmd160"||u==="ripemd160"?new g("rmd160",E):u==="md5"?new D(o,E):new g(u,E)}},51031:(b,$,w)=>{"use strict";var _=w(35717),D=w(89509).Buffer,x=w(71027),S=D.alloc(128),o=64;function l(n,c){x.call(this,"digest"),typeof c=="string"&&(c=D.from(c)),this._alg=n,this._key=c,c.length>o?c=n(c):c.length<o&&(c=D.concat([c,S],o));for(var g=this._ipad=D.allocUnsafe(o),f=this._opad=D.allocUnsafe(o),u=0;u<o;u++)g[u]=c[u]^54,f[u]=c[u]^92;this._hash=[g]}_(l,x),l.prototype._update=function(n){this._hash.push(n)},l.prototype._final=function(){var n=this._alg(D.concat(this._hash));return this._alg(D.concat([this._opad,n]))},b.exports=l},54098:function(b,$){var w=function(_){function D(){this.fetch=!1,this.DOMException=_.DOMException}return D.prototype=_,new D}(typeof self!="undefined"?self:this);(function(_){var D=function(x){var S={searchParams:"URLSearchParams"in _,iterable:"Symbol"in _&&"iterator"in Symbol,blob:"FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(W){return!1}}(),formData:"FormData"in _,arrayBuffer:"ArrayBuffer"in _};function o(W){return W&&DataView.prototype.isPrototypeOf(W)}if(S.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(W){return W&&l.indexOf(Object.prototype.toString.call(W))>-1};function c(W){if(typeof W!="string"&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(W))throw new TypeError("Invalid character in header field name");return W.toLowerCase()}function g(W){return typeof W!="string"&&(W=String(W)),W}function f(W){var T={next:function(){var L=W.shift();return{done:L===void 0,value:L}}};return S.iterable&&(T[Symbol.iterator]=function(){return T}),T}function u(W){this.map={},W instanceof u?W.forEach(function(T,L){this.append(L,T)},this):Array.isArray(W)?W.forEach(function(T){this.append(T[0],T[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(T){this.append(T,W[T])},this)}u.prototype.append=function(W,T){W=c(W),T=g(T);var L=this.map[W];this.map[W]=L?L+", "+T:T},u.prototype.delete=function(W){delete this.map[c(W)]},u.prototype.get=function(W){return W=c(W),this.has(W)?this.map[W]:null},u.prototype.has=function(W){return this.map.hasOwnProperty(c(W))},u.prototype.set=function(W,T){this.map[c(W)]=g(T)},u.prototype.forEach=function(W,T){for(var L in this.map)this.map.hasOwnProperty(L)&&W.call(T,this.map[L],L,this)},u.prototype.keys=function(){var W=[];return this.forEach(function(T,L){W.push(L)}),f(W)},u.prototype.values=function(){var W=[];return this.forEach(function(T){W.push(T)}),f(W)},u.prototype.entries=function(){var W=[];return this.forEach(function(T,L){W.push([L,T])}),f(W)},S.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function E(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function d(W){return new Promise(function(T,L){W.onload=function(){T(W.result)},W.onerror=function(){L(W.error)}})}function h(W){var T=new FileReader,L=d(T);return T.readAsArrayBuffer(W),L}function v(W){var T=new FileReader,L=d(T);return T.readAsText(W),L}function k(W){for(var T=new Uint8Array(W),L=new Array(T.length),C=0;C<T.length;C++)L[C]=String.fromCharCode(T[C]);return L.join("")}function A(W){if(W.slice)return W.slice(0);var T=new Uint8Array(W.byteLength);return T.set(new Uint8Array(W)),T.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(W){this._bodyInit=W,W?typeof W=="string"?this._bodyText=W:S.blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:S.formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:S.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():S.arrayBuffer&&S.blob&&o(W)?(this._bodyArrayBuffer=A(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):S.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||n(W))?this._bodyArrayBuffer=A(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||(typeof W=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):S.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S.blob&&(this.blob=function(){var W=E(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var W=E(this);if(W)return W;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S.formData&&(this.formData=function(){return this.text().then(ee)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(W){var T=W.toUpperCase();return O.indexOf(T)>-1?T:W}function Y(W,T){T=T||{};var L=T.body;if(W instanceof Y){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,T.headers||(this.headers=new u(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!L&&W._bodyInit!=null&&(L=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new u(T.headers)),this.method=V(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}Y.prototype.clone=function(){return new Y(this,{body:this._bodyInit})};function ee(W){var T=new FormData;return W.trim().split("&").forEach(function(L){if(L){var C=L.split("="),s=C.shift().replace(/\+/g," "),m=C.join("=").replace(/\+/g," ");T.append(decodeURIComponent(s),decodeURIComponent(m))}}),T}function re(W){var T=new u,L=W.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(C){var s=C.split(":"),m=s.shift().trim();if(m){var N=s.join(":").trim();T.append(m,N)}}),T}R.call(Y.prototype);function ie(W,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new u(T.headers),this.url=T.url||"",this._initBody(W)}R.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},ie.error=function(){var W=new ie(null,{status:0,statusText:""});return W.type="error",W};var ne=[301,302,303,307,308];ie.redirect=function(W,T){if(ne.indexOf(T)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:T,headers:{location:W}})},x.DOMException=_.DOMException;try{new x.DOMException}catch(W){x.DOMException=function(T,L){this.message=T,this.name=L;var C=Error(T);this.stack=C.stack},x.DOMException.prototype=Object.create(Error.prototype),x.DOMException.prototype.constructor=x.DOMException}function ue(W,T){return new Promise(function(L,C){var s=new Y(W,T);if(s.signal&&s.signal.aborted)return C(new x.DOMException("Aborted","AbortError"));var m=new XMLHttpRequest;function N(){m.abort()}m.onload=function(){var I={status:m.status,statusText:m.statusText,headers:re(m.getAllResponseHeaders()||"")};I.url="responseURL"in m?m.responseURL:I.headers.get("X-Request-URL");var F="response"in m?m.response:m.responseText;L(new ie(F,I))},m.onerror=function(){C(new TypeError("Network request failed"))},m.ontimeout=function(){C(new TypeError("Network request failed"))},m.onabort=function(){C(new x.DOMException("Aborted","AbortError"))},m.open(s.method,s.url,!0),s.credentials==="include"?m.withCredentials=!0:s.credentials==="omit"&&(m.withCredentials=!1),"responseType"in m&&S.blob&&(m.responseType="blob"),s.headers.forEach(function(I,F){m.setRequestHeader(F,I)}),s.signal&&(s.signal.addEventListener("abort",N),m.onreadystatechange=function(){m.readyState===4&&s.signal.removeEventListener("abort",N)}),m.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})}return ue.polyfill=!0,_.fetch||(_.fetch=ue,_.Headers=u,_.Request=Y,_.Response=ie),x.Headers=u,x.Request=Y,x.Response=ie,x.fetch=ue,x}({})})(w),delete w.fetch.polyfill,$=w.fetch,$.default=w.fetch,$.fetch=w.fetch,$.Headers=w.Headers,$.Request=w.Request,$.Response=w.Response,b.exports=$},55835:(b,$,w)=>{"use strict";var _;_=_=_=w(61798),$.js=w(23482),_=w(58355);var D=w(56042),x=Object.keys(D),S=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(x);_=function(){return S};var o=w(25632);_=o.pbkdf2,_=o.pbkdf2Sync;var l=w(53614);_=l.Cipher,_=l.createCipher,_=l.Cipheriv,_=l.createCipheriv,_=l.Decipher,_=l.createDecipher,_=l.Decipheriv,_=l.createDecipheriv,_=l.getCiphers,_=l.listCiphers;var n=w(62607);_=n.DiffieHellmanGroup,_=n.createDiffieHellmanGroup,_=n.getDiffieHellman,_=n.createDiffieHellman,_=n.DiffieHellman;var c=w(64743);_=c.createSign,_=c.Sign,_=c.createVerify,_=c.Verify,w(76393);var g=w(7900);_=g.publicEncrypt,_=g.privateEncrypt,_=g.publicDecrypt,_=g.privateDecrypt;var f=w(77963);_=f.randomFill,_=f.randomFillSync,_=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},_={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},27484:function(b){(function($,w){b.exports=w()})(this,function(){"use strict";var $="millisecond",w="second",_="minute",D="hour",x="day",S="week",o="month",l="quarter",n="year",c="date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(ee,re,ie){var ne=String(ee);return!ne||ne.length>=re?ee:""+Array(re+1-ne.length).join(ie)+ee},d={s:E,z:function(ee){var re=-ee.utcOffset(),ie=Math.abs(re),ne=Math.floor(ie/60),ue=ie%60;return(re<=0?"+":"-")+E(ne,2,"0")+":"+E(ue,2,"0")},m:function ee(re,ie){if(re.date()<ie.date())return-ee(ie,re);var ne=12*(ie.year()-re.year())+(ie.month()-re.month()),ue=re.clone().add(ne,o),W=ie-ue<0,T=re.clone().add(ne+(W?-1:1),o);return+(-(ne+(ie-ue)/(W?ue-T:T-ue))||0)},a:function(ee){return ee<0?Math.ceil(ee)||0:Math.floor(ee)},p:function(ee){return{M:o,y:n,w:S,d:x,D:c,h:D,m:_,s:w,ms:$,Q:l}[ee]||String(ee||"").toLowerCase().replace(/s$/,"")},u:function(ee){return ee===void 0}},h="en",v={};v[h]=u;var k=function(ee){return ee instanceof V},A=function(ee,re,ie){var ne;if(!ee)return h;if(typeof ee=="string")v[ee]&&(ne=ee),re&&(v[ee]=re,ne=ee);else{var ue=ee.name;v[ue]=ee,ne=ue}return!ie&&ne&&(h=ne),ne||!ie&&h},R=function(ee,re){if(k(ee))return ee.clone();var ie=typeof re=="object"?re:{};return ie.date=ee,ie.args=arguments,new V(ie)},O=d;O.l=A,O.i=k,O.w=function(ee,re){return R(ee,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var V=function(){function ee(ie){this.$L=A(ie.locale,null,!0),this.parse(ie)}var re=ee.prototype;return re.parse=function(ie){this.$d=function(ne){var ue=ne.date,W=ne.utc;if(ue===null)return new Date(NaN);if(O.u(ue))return new Date;if(ue instanceof Date)return new Date(ue);if(typeof ue=="string"&&!/Z$/i.test(ue)){var T=ue.match(g);if(T){var L=T[2]-1||0,C=(T[7]||"0").substring(0,3);return W?new Date(Date.UTC(T[1],L,T[3]||1,T[4]||0,T[5]||0,T[6]||0,C)):new Date(T[1],L,T[3]||1,T[4]||0,T[5]||0,T[6]||0,C)}}return new Date(ue)}(ie),this.$x=ie.x||{},this.init()},re.init=function(){var ie=this.$d;this.$y=ie.getFullYear(),this.$M=ie.getMonth(),this.$D=ie.getDate(),this.$W=ie.getDay(),this.$H=ie.getHours(),this.$m=ie.getMinutes(),this.$s=ie.getSeconds(),this.$ms=ie.getMilliseconds()},re.$utils=function(){return O},re.isValid=function(){return this.$d.toString()!=="Invalid Date"},re.isSame=function(ie,ne){var ue=R(ie);return this.startOf(ne)<=ue&&ue<=this.endOf(ne)},re.isAfter=function(ie,ne){return R(ie)<this.startOf(ne)},re.isBefore=function(ie,ne){return this.endOf(ne)<R(ie)},re.$g=function(ie,ne,ue){return O.u(ie)?this[ne]:this.set(ue,ie)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(ie,ne){var ue=this,W=!!O.u(ne)||ne,T=O.p(ie),L=function(j,G){var y=O.w(ue.$u?Date.UTC(ue.$y,G,j):new Date(ue.$y,G,j),ue);return W?y:y.endOf(x)},C=function(j,G){return O.w(ue.toDate()[j].apply(ue.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(G)),ue)},s=this.$W,m=this.$M,N=this.$D,I="set"+(this.$u?"UTC":"");switch(T){case n:return W?L(1,0):L(31,11);case o:return W?L(1,m):L(0,m+1);case S:var F=this.$locale().weekStart||0,P=(s<F?s+7:s)-F;return L(W?N-P:N+(6-P),m);case x:case c:return C(I+"Hours",0);case D:return C(I+"Minutes",1);case _:return C(I+"Seconds",2);case w:return C(I+"Milliseconds",3);default:return this.clone()}},re.endOf=function(ie){return this.startOf(ie,!1)},re.$set=function(ie,ne){var ue,W=O.p(ie),T="set"+(this.$u?"UTC":""),L=(ue={},ue[x]=T+"Date",ue[c]=T+"Date",ue[o]=T+"Month",ue[n]=T+"FullYear",ue[D]=T+"Hours",ue[_]=T+"Minutes",ue[w]=T+"Seconds",ue[$]=T+"Milliseconds",ue)[W],C=W===x?this.$D+(ne-this.$W):ne;if(W===o||W===n){var s=this.clone().set(c,1);s.$d[L](C),s.init(),this.$d=s.set(c,Math.min(this.$D,s.daysInMonth())).$d}else L&&this.$d[L](C);return this.init(),this},re.set=function(ie,ne){return this.clone().$set(ie,ne)},re.get=function(ie){return this[O.p(ie)]()},re.add=function(ie,ne){var ue,W=this;ie=Number(ie);var T=O.p(ne),L=function(m){var N=R(W);return O.w(N.date(N.date()+Math.round(m*ie)),W)};if(T===o)return this.set(o,this.$M+ie);if(T===n)return this.set(n,this.$y+ie);if(T===x)return L(1);if(T===S)return L(7);var C=(ue={},ue[_]=6e4,ue[D]=36e5,ue[w]=1e3,ue)[T]||1,s=this.$d.getTime()+ie*C;return O.w(s,this)},re.subtract=function(ie,ne){return this.add(-1*ie,ne)},re.format=function(ie){var ne=this;if(!this.isValid())return"Invalid Date";var ue=ie||"YYYY-MM-DDTHH:mm:ssZ",W=O.z(this),T=this.$locale(),L=this.$H,C=this.$m,s=this.$M,m=T.weekdays,N=T.months,I=function(G,y,H,fe){return G&&(G[y]||G(ne,ue))||H[y].substr(0,fe)},F=function(G){return O.s(L%12||12,G,"0")},P=T.meridiem||function(G,y,H){var fe=G<12?"AM":"PM";return H?fe.toLowerCase():fe},j={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:O.s(s+1,2,"0"),MMM:I(T.monthsShort,s,N,3),MMMM:I(N,s),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:I(T.weekdaysMin,this.$W,m,2),ddd:I(T.weekdaysShort,this.$W,m,3),dddd:m[this.$W],H:String(L),HH:O.s(L,2,"0"),h:F(1),hh:F(2),a:P(L,C,!0),A:P(L,C,!1),m:String(C),mm:O.s(C,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:W};return ue.replace(f,function(G,y){return y||j[G]||W.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(ie,ne,ue){var W,T=O.p(ne),L=R(ie),C=6e4*(L.utcOffset()-this.utcOffset()),s=this-L,m=O.m(this,L);return m=(W={},W[n]=m/12,W[o]=m,W[l]=m/3,W[S]=(s-C)/6048e5,W[x]=(s-C)/864e5,W[D]=s/36e5,W[_]=s/6e4,W[w]=s/1e3,W)[T]||s,ue?m:O.a(m)},re.daysInMonth=function(){return this.endOf(o).$D},re.$locale=function(){return v[this.$L]},re.locale=function(ie,ne){if(!ie)return this.$L;var ue=this.clone(),W=A(ie,ne,!0);return W&&(ue.$L=W),ue},re.clone=function(){return O.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},ee}(),Y=V.prototype;return R.prototype=Y,[["$ms",$],["$s",w],["$m",_],["$H",D],["$W",x],["$M",o],["$y",n],["$D",c]].forEach(function(ee){Y[ee[1]]=function(re){return this.$g(re,ee[0],ee[1])}}),R.extend=function(ee,re){return ee.$i||(ee(re,V,R),ee.$i=!0),R},R.locale=A,R.isDayjs=k,R.unix=function(ee){return R(1e3*ee)},R.en=v[h],R.Ls=v,R.p={},R})},84110:function(b){(function($,w){b.exports=w()})(this,function(){"use strict";return function($,w,_){$=$||{};var D=w.prototype,x={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function S(l,n,c,g){return D.fromToBase(l,n,c,g)}_.en.relativeTime=x,D.fromToBase=function(l,n,c,g,f){for(var u,E,d,h=c.$locale().relativeTime||x,v=$.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],k=v.length,A=0;A<k;A+=1){var R=v[A];R.d&&(u=g?_(l).diff(c,R.d,!0):c.diff(l,R.d,!0));var O=($.rounding||Math.round)(Math.abs(u));if(d=u>0,O<=R.r||!R.r){O<=1&&A>0&&(R=v[A-1]);var V=h[R.l];f&&(O=f(""+O)),E=typeof V=="string"?V.replace("%d",O):V(O,n,R.l,d);break}}if(n)return E;var Y=d?h.future:h.past;return typeof Y=="function"?Y(E):Y.replace("%s",E)},D.to=function(l,n){return S(l,n,this,!0)},D.from=function(l,n){return S(l,n,this)};var o=function(l){return l.$u?_.utc():_()};D.toNow=function(l){return this.to(o(this),l)},D.fromNow=function(l){return this.from(o(this),l)}}})},70660:function(b){(function($,w){b.exports=w()})(this,function(){"use strict";return function($,w,_){_.updateLocale=function(D,x){var S=_.Ls[D];if(S)return(x?Object.keys(x):[]).forEach(function(o){S[o]=x[o]}),S}}})},15251:(b,$,w)=>{"use strict";$.utils=w(11278),$.Cipher=w(55756),$.DES=w(70778),$.CBC=w(39051),$.EDE=w(50651)},39051:(b,$,w)=>{"use strict";var _=w(79746),D=w(35717),x={};function S(l){_.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=l[n]}function o(l){function n(u){l.call(this,u),this._cbcInit()}D(n,l);for(var c=Object.keys(x),g=0;g<c.length;g++){var f=c[g];n.prototype[f]=x[f]}return n.create=function(E){return new n(E)},n}$.instantiate=o,x._cbcInit=function(){var n=new S(this.options.iv);this._cbcState=n},x._update=function(n,c,g,f){var u=this._cbcState,E=this.constructor.super_.prototype,d=u.iv;if(this.type==="encrypt"){for(var h=0;h<this.blockSize;h++)d[h]^=n[c+h];E._update.call(this,d,0,g,f);for(var h=0;h<this.blockSize;h++)d[h]=g[f+h]}else{E._update.call(this,n,c,g,f);for(var h=0;h<this.blockSize;h++)g[f+h]^=d[h];for(var h=0;h<this.blockSize;h++)d[h]=n[c+h]}}},55756:(b,$,w)=>{"use strict";var _=w(79746);function D(x){this.options=x,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}b.exports=D,D.prototype._init=function(){},D.prototype.update=function(S){return S.length===0?[]:this.type==="decrypt"?this._updateDecrypt(S):this._updateEncrypt(S)},D.prototype._buffer=function(S,o){for(var l=Math.min(this.buffer.length-this.bufferOff,S.length-o),n=0;n<l;n++)this.buffer[this.bufferOff+n]=S[o+n];return this.bufferOff+=l,l},D.prototype._flushBuffer=function(S,o){return this._update(this.buffer,0,S,o),this.bufferOff=0,this.blockSize},D.prototype._updateEncrypt=function(S){var o=0,l=0,n=(this.bufferOff+S.length)/this.blockSize|0,c=new Array(n*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(S,o),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(c,l)));for(var g=S.length-(S.length-o)%this.blockSize;o<g;o+=this.blockSize)this._update(S,o,c,l),l+=this.blockSize;for(;o<S.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=S[o];return c},D.prototype._updateDecrypt=function(S){for(var o=0,l=0,n=Math.ceil((this.bufferOff+S.length)/this.blockSize)-1,c=new Array(n*this.blockSize);n>0;n--)o+=this._buffer(S,o),l+=this._flushBuffer(c,l);return o+=this._buffer(S,o),c},D.prototype.final=function(S){var o;S&&(o=this.update(S));var l;return this.type==="encrypt"?l=this._finalEncrypt():l=this._finalDecrypt(),o?o.concat(l):l},D.prototype._pad=function(S,o){if(o===0)return!1;for(;o<S.length;)S[o++]=0;return!0},D.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var S=new Array(this.blockSize);return this._update(this.buffer,0,S,0),S},D.prototype._unpad=function(S){return S},D.prototype._finalDecrypt=function(){_.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var S=new Array(this.blockSize);return this._flushBuffer(S,0),this._unpad(S)}},70778:(b,$,w)=>{"use strict";var _=w(79746),D=w(35717),x=w(11278),S=w(55756);function o(){this.tmp=new Array(2),this.keys=null}function l(c){S.call(this,c);var g=new o;this._desState=g,this.deriveKeys(g,c.key)}D(l,S),b.exports=l,l.create=function(g){return new l(g)};var n=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(g,f){g.keys=new Array(16*2),_.equal(f.length,this.blockSize,"Invalid key length");var u=x.readUInt32BE(f,0),E=x.readUInt32BE(f,4);x.pc1(u,E,g.tmp,0),u=g.tmp[0],E=g.tmp[1];for(var d=0;d<g.keys.length;d+=2){var h=n[d>>>1];u=x.r28shl(u,h),E=x.r28shl(E,h),x.pc2(u,E,g.keys,d)}},l.prototype._update=function(g,f,u,E){var d=this._desState,h=x.readUInt32BE(g,f),v=x.readUInt32BE(g,f+4);x.ip(h,v,d.tmp,0),h=d.tmp[0],v=d.tmp[1],this.type==="encrypt"?this._encrypt(d,h,v,d.tmp,0):this._decrypt(d,h,v,d.tmp,0),h=d.tmp[0],v=d.tmp[1],x.writeUInt32BE(u,h,E),x.writeUInt32BE(u,v,E+4)},l.prototype._pad=function(g,f){for(var u=g.length-f,E=f;E<g.length;E++)g[E]=u;return!0},l.prototype._unpad=function(g){for(var f=g[g.length-1],u=g.length-f;u<g.length;u++)_.equal(g[u],f);return g.slice(0,g.length-f)},l.prototype._encrypt=function(g,f,u,E,d){for(var h=f,v=u,k=0;k<g.keys.length;k+=2){var A=g.keys[k],R=g.keys[k+1];x.expand(v,g.tmp,0),A^=g.tmp[0],R^=g.tmp[1];var O=x.substitute(A,R),V=x.permute(O),Y=v;v=(h^V)>>>0,h=Y}x.rip(v,h,E,d)},l.prototype._decrypt=function(g,f,u,E,d){for(var h=u,v=f,k=g.keys.length-2;k>=0;k-=2){var A=g.keys[k],R=g.keys[k+1];x.expand(h,g.tmp,0),A^=g.tmp[0],R^=g.tmp[1];var O=x.substitute(A,R),V=x.permute(O),Y=h;h=(v^V)>>>0,v=Y}x.rip(h,v,E,d)}},50651:(b,$,w)=>{"use strict";var _=w(79746),D=w(35717),x=w(55756),S=w(70778);function o(n,c){_.equal(c.length,24,"Invalid key length");var g=c.slice(0,8),f=c.slice(8,16),u=c.slice(16,24);n==="encrypt"?this.ciphers=[S.create({type:"encrypt",key:g}),S.create({type:"decrypt",key:f}),S.create({type:"encrypt",key:u})]:this.ciphers=[S.create({type:"decrypt",key:u}),S.create({type:"encrypt",key:f}),S.create({type:"decrypt",key:g})]}function l(n){x.call(this,n);var c=new o(this.type,this.options.key);this._edeState=c}D(l,x),b.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,g,f,u){var E=this._edeState;E.ciphers[0]._update(c,g,f,u),E.ciphers[1]._update(f,u,f,u),E.ciphers[2]._update(f,u,f,u)},l.prototype._pad=S.prototype._pad,l.prototype._unpad=S.prototype._unpad},11278:(b,$)=>{"use strict";$.readUInt32BE=function(S,o){var l=S[0+o]<<24|S[1+o]<<16|S[2+o]<<8|S[3+o];return l>>>0},$.writeUInt32BE=function(S,o,l){S[0+l]=o>>>24,S[1+l]=o>>>16&255,S[2+l]=o>>>8&255,S[3+l]=o&255},$.ip=function(S,o,l,n){for(var c=0,g=0,f=6;f>=0;f-=2){for(var u=0;u<=24;u+=8)c<<=1,c|=o>>>u+f&1;for(var u=0;u<=24;u+=8)c<<=1,c|=S>>>u+f&1}for(var f=6;f>=0;f-=2){for(var u=1;u<=25;u+=8)g<<=1,g|=o>>>u+f&1;for(var u=1;u<=25;u+=8)g<<=1,g|=S>>>u+f&1}l[n+0]=c>>>0,l[n+1]=g>>>0},$.rip=function(S,o,l,n){for(var c=0,g=0,f=0;f<4;f++)for(var u=24;u>=0;u-=8)c<<=1,c|=o>>>u+f&1,c<<=1,c|=S>>>u+f&1;for(var f=4;f<8;f++)for(var u=24;u>=0;u-=8)g<<=1,g|=o>>>u+f&1,g<<=1,g|=S>>>u+f&1;l[n+0]=c>>>0,l[n+1]=g>>>0},$.pc1=function(S,o,l,n){for(var c=0,g=0,f=7;f>=5;f--){for(var u=0;u<=24;u+=8)c<<=1,c|=o>>u+f&1;for(var u=0;u<=24;u+=8)c<<=1,c|=S>>u+f&1}for(var u=0;u<=24;u+=8)c<<=1,c|=o>>u+f&1;for(var f=1;f<=3;f++){for(var u=0;u<=24;u+=8)g<<=1,g|=o>>u+f&1;for(var u=0;u<=24;u+=8)g<<=1,g|=S>>u+f&1}for(var u=0;u<=24;u+=8)g<<=1,g|=S>>u+f&1;l[n+0]=c>>>0,l[n+1]=g>>>0},$.r28shl=function(S,o){return S<<o&268435455|S>>>28-o};var w=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];$.pc2=function(S,o,l,n){for(var c=0,g=0,f=w.length>>>1,u=0;u<f;u++)c<<=1,c|=S>>>w[u]&1;for(var u=f;u<w.length;u++)g<<=1,g|=o>>>w[u]&1;l[n+0]=c>>>0,l[n+1]=g>>>0},$.expand=function(S,o,l){var n=0,c=0;n=(S&1)<<5|S>>>27;for(var g=23;g>=15;g-=4)n<<=6,n|=S>>>g&63;for(var g=11;g>=3;g-=4)c|=S>>>g&63,c<<=6;c|=(S&31)<<1|S>>>31,o[l+0]=n>>>0,o[l+1]=c>>>0};var _=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];$.substitute=function(S,o){for(var l=0,n=0;n<4;n++){var c=S>>>18-n*6&63,g=_[n*64+c];l<<=4,l|=g}for(var n=0;n<4;n++){var c=o>>>18-n*6&63,g=_[4*64+n*64+c];l<<=4,l|=g}return l>>>0};var D=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];$.permute=function(S){for(var o=0,l=0;l<D.length;l++)o<<=1,o|=S>>>D[l]&1;return o>>>0},$.padSplit=function(S,o,l){for(var n=S.toString(2);n.length<o;)n="0"+n;for(var c=[],g=0;g<o;g+=l)c.push(n.slice(g,g+l));return c.join(" ")}},62607:(b,$,w)=>{var _=w(43590),D=w(61930),x=w(57426);function S(n){var c=new Buffer(D[n].prime,"hex"),g=new Buffer(D[n].gen,"hex");return new x(c,g)}var o={binary:!0,hex:!0,base64:!0};function l(n,c,g,f){return Buffer.isBuffer(c)||o[c]===void 0?l(n,"binary",c,g):(c=c||"binary",f=f||"binary",g=g||new Buffer([2]),Buffer.isBuffer(g)||(g=new Buffer(g,f)),typeof n=="number"?new x(_(n,g),g,!0):(Buffer.isBuffer(n)||(n=new Buffer(n,c)),new x(n,g,!0)))}$.DiffieHellmanGroup=$.createDiffieHellmanGroup=$.getDiffieHellman=S,$.createDiffieHellman=$.DiffieHellman=l},57426:(b,$,w)=>{var _=w(13550),D=w(63047),x=new D,S=new _(24),o=new _(11),l=new _(10),n=new _(3),c=new _(7),g=w(43590),f=w(61798);b.exports=v;function u(A,R){return R=R||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,R)),this._pub=new _(A),this}function E(A,R){return R=R||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,R)),this._priv=new _(A),this}var d={};function h(A,R){var O=R.toString("hex"),V=[O,A.toString(16)].join("_");if(V in d)return d[V];var Y=0;if(A.isEven()||!g.simpleSieve||!g.fermatTest(A)||!x.test(A))return Y+=1,O==="02"||O==="05"?Y+=8:Y+=4,d[V]=Y,Y;x.test(A.shrn(1))||(Y+=2);var ee;switch(O){case"02":A.mod(S).cmp(o)&&(Y+=8);break;case"05":ee=A.mod(l),ee.cmp(n)&&ee.cmp(c)&&(Y+=8);break;default:Y+=4}return d[V]=Y,Y}function v(A,R,O){this.setGenerator(R),this.__prime=new _(A),this._prime=_.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=u,this.setPrivateKey=E):this._primeCode=8}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=h(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new _(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(A){A=new _(A),A=A.toRed(this._prime);var R=A.redPow(this._priv).fromRed(),O=new Buffer(R.toArray()),V=this.getPrime();if(O.length<V.length){var Y=new Buffer(V.length-O.length);Y.fill(0),O=Buffer.concat([Y,O])}return O},v.prototype.getPublicKey=function(R){return k(this._pub,R)},v.prototype.getPrivateKey=function(R){return k(this._priv,R)},v.prototype.getPrime=function(A){return k(this.__prime,A)},v.prototype.getGenerator=function(A){return k(this._gen,A)},v.prototype.setGenerator=function(A,R){return R=R||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,R)),this.__gen=A,this._gen=new _(A),this};function k(A,R){var O=new Buffer(A.toArray());return R?O.toString(R):O}},43590:(b,$,w)=>{var _=w(61798);b.exports=Y,Y.simpleSieve=O,Y.fermatTest=V;var D=w(13550),x=new D(24),S=w(63047),o=new S,l=new D(1),n=new D(2),c=new D(5),g=new D(16),f=new D(8),u=new D(10),E=new D(3),d=new D(7),h=new D(11),v=new D(4),k=new D(12),A=null;function R(){if(A!==null)return A;var ee=1048576,re=[];re[0]=2;for(var ie=1,ne=3;ne<ee;ne+=2){for(var ue=Math.ceil(Math.sqrt(ne)),W=0;W<ie&&re[W]<=ue&&ne%re[W]!=0;W++);ie!==W&&re[W]<=ue||(re[ie++]=ne)}return A=re,re}function O(ee){for(var re=R(),ie=0;ie<re.length;ie++)if(ee.modn(re[ie])===0)return ee.cmpn(re[ie])===0;return!0}function V(ee){var re=D.mont(ee);return n.toRed(re).redPow(ee.subn(1)).fromRed().cmpn(1)===0}function Y(ee,re){if(ee<16)return re===2||re===5?new D([140,123]):new D([140,39]);re=new D(re);for(var ie,ne;;){for(ie=new D(_(Math.ceil(ee/8)));ie.bitLength()>ee;)ie.ishrn(1);if(ie.isEven()&&ie.iadd(l),ie.testn(1)||ie.iadd(n),re.cmp(n)){if(!re.cmp(c))for(;ie.mod(u).cmp(E);)ie.iadd(v)}else for(;ie.mod(x).cmp(h);)ie.iadd(v);if(ne=ie.shrn(1),O(ne)&&O(ie)&&V(ne)&&V(ie)&&o.test(ne)&&o.test(ie))return ie}}},61930:b=>{"use strict";b.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},86266:(b,$,w)=>{"use strict";var _=$;_.version=w(17519).i8,_.utils=w(80953),_.rand=w(29931),_.curve=w(88254),_.curves=w(45427),_.ec=w(57954),_.eddsa=w(65980)},4918:(b,$,w)=>{"use strict";var _=w(13550),D=w(80953),x=D.getNAF,S=D.getJSF,o=D.assert;function l(c,g){this.type=c,this.p=new _(g.p,16),this.red=g.prime?_.red(g.prime):_.mont(this.p),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=g.n&&new _(g.n,16),this.g=g.g&&this.pointFromJSON(g.g,g.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}b.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(g,f){o(g.precomputed);var u=g._getDoubles(),E=x(f,1,this._bitLength),d=(1<<u.step+1)-(u.step%2==0?2:1);d/=3;var h=[],v,k;for(v=0;v<E.length;v+=u.step){k=0;for(var A=v+u.step-1;A>=v;A--)k=(k<<1)+E[A];h.push(k)}for(var R=this.jpoint(null,null,null),O=this.jpoint(null,null,null),V=d;V>0;V--){for(v=0;v<h.length;v++)k=h[v],k===V?O=O.mixedAdd(u.points[v]):k===-V&&(O=O.mixedAdd(u.points[v].neg()));R=R.add(O)}return R.toP()},l.prototype._wnafMul=function(g,f){var u=4,E=g._getNAFPoints(u);u=E.wnd;for(var d=E.points,h=x(f,u,this._bitLength),v=this.jpoint(null,null,null),k=h.length-1;k>=0;k--){for(var A=0;k>=0&&h[k]===0;k--)A++;if(k>=0&&A++,v=v.dblp(A),k<0)break;var R=h[k];o(R!==0),g.type==="affine"?R>0?v=v.mixedAdd(d[R-1>>1]):v=v.mixedAdd(d[-R-1>>1].neg()):R>0?v=v.add(d[R-1>>1]):v=v.add(d[-R-1>>1].neg())}return g.type==="affine"?v.toP():v},l.prototype._wnafMulAdd=function(g,f,u,E,d){var h=this._wnafT1,v=this._wnafT2,k=this._wnafT3,A=0,R,O,V;for(R=0;R<E;R++){V=f[R];var Y=V._getNAFPoints(g);h[R]=Y.wnd,v[R]=Y.points}for(R=E-1;R>=1;R-=2){var ee=R-1,re=R;if(h[ee]!==1||h[re]!==1){k[ee]=x(u[ee],h[ee],this._bitLength),k[re]=x(u[re],h[re],this._bitLength),A=Math.max(k[ee].length,A),A=Math.max(k[re].length,A);continue}var ie=[f[ee],null,null,f[re]];f[ee].y.cmp(f[re].y)===0?(ie[1]=f[ee].add(f[re]),ie[2]=f[ee].toJ().mixedAdd(f[re].neg())):f[ee].y.cmp(f[re].y.redNeg())===0?(ie[1]=f[ee].toJ().mixedAdd(f[re]),ie[2]=f[ee].add(f[re].neg())):(ie[1]=f[ee].toJ().mixedAdd(f[re]),ie[2]=f[ee].toJ().mixedAdd(f[re].neg()));var ne=[-3,-1,-5,-7,0,7,5,1,3],ue=S(u[ee],u[re]);for(A=Math.max(ue[0].length,A),k[ee]=new Array(A),k[re]=new Array(A),O=0;O<A;O++){var W=ue[0][O]|0,T=ue[1][O]|0;k[ee][O]=ne[(W+1)*3+(T+1)],k[re][O]=0,v[ee]=ie}}var L=this.jpoint(null,null,null),C=this._wnafT4;for(R=A;R>=0;R--){for(var s=0;R>=0;){var m=!0;for(O=0;O<E;O++)C[O]=k[O][R]|0,C[O]!==0&&(m=!1);if(!m)break;s++,R--}if(R>=0&&s++,L=L.dblp(s),R<0)break;for(O=0;O<E;O++){var N=C[O];N!==0&&(N>0?V=v[O][N-1>>1]:N<0&&(V=v[O][-N-1>>1].neg()),V.type==="affine"?L=L.mixedAdd(V):L=L.add(V))}}for(R=0;R<E;R++)v[R]=null;return d?L:L.toP()};function n(c,g){this.curve=c,this.type=g,this.precomputed=null}l.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(g,f){g=D.toArray(g,f);var u=this.p.byteLength();if((g[0]===4||g[0]===6||g[0]===7)&&g.length-1==2*u){g[0]===6?o(g[g.length-1]%2==0):g[0]===7&&o(g[g.length-1]%2==1);var E=this.point(g.slice(1,1+u),g.slice(1+u,1+2*u));return E}else if((g[0]===2||g[0]===3)&&g.length-1===u)return this.pointFromX(g.slice(1,1+u),g[0]===3);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(g){return this.encode(g,!0)},n.prototype._encode=function(g){var f=this.curve.p.byteLength(),u=this.getX().toArray("be",f);return g?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",f))},n.prototype.encode=function(g,f){return D.encode(this._encode(f),g)},n.prototype.precompute=function(g){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,g),f.beta=this._getBeta(),this.precomputed=f,this},n.prototype._hasDoubles=function(g){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return f?f.points.length>=Math.ceil((g.bitLength()+1)/f.step):!1},n.prototype._getDoubles=function(g,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],E=this,d=0;d<f;d+=g){for(var h=0;h<g;h++)E=E.dbl();u.push(E)}return{step:g,points:u}},n.prototype._getNAFPoints=function(g){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],u=(1<<g)-1,E=u===1?null:this.dbl(),d=1;d<u;d++)f[d]=f[d-1].add(E);return{wnd:g,points:f}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(g){for(var f=this,u=0;u<g;u++)f=f.dbl();return f}},31138:(b,$,w)=>{"use strict";var _=w(80953),D=w(13550),x=w(35717),S=w(4918),o=_.assert;function l(c){this.twisted=(c.a|0)!=1,this.mOneA=this.twisted&&(c.a|0)==-1,this.extended=this.mOneA,S.call(this,"edwards",c),this.a=new D(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new D(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new D(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)==1}x(l,S),b.exports=l,l.prototype._mulA=function(g){return this.mOneA?g.redNeg():this.a.redMul(g)},l.prototype._mulC=function(g){return this.oneC?g:this.c.redMul(g)},l.prototype.jpoint=function(g,f,u,E){return this.point(g,f,u,E)},l.prototype.pointFromX=function(g,f){g=new D(g,16),g.red||(g=g.toRed(this.red));var u=g.redSqr(),E=this.c2.redSub(this.a.redMul(u)),d=this.one.redSub(this.c2.redMul(this.d).redMul(u)),h=E.redMul(d.redInvm()),v=h.redSqrt();if(v.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var k=v.fromRed().isOdd();return(f&&!k||!f&&k)&&(v=v.redNeg()),this.point(g,v)},l.prototype.pointFromY=function(g,f){g=new D(g,16),g.red||(g=g.toRed(this.red));var u=g.redSqr(),E=u.redSub(this.c2),d=u.redMul(this.d).redMul(this.c2).redSub(this.a),h=E.redMul(d.redInvm());if(h.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,g)}var v=h.redSqrt();if(v.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==f&&(v=v.redNeg()),this.point(v,g)},l.prototype.validate=function(g){if(g.isInfinity())return!0;g.normalize();var f=g.x.redSqr(),u=g.y.redSqr(),E=f.redMul(this.a).redAdd(u),d=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(u)));return E.cmp(d)===0};function n(c,g,f,u,E){S.BasePoint.call(this,c,"projective"),g===null&&f===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new D(g,16),this.y=new D(f,16),this.z=u?new D(u,16):this.curve.one,this.t=E&&new D(E,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}x(n,S.BasePoint),l.prototype.pointFromJSON=function(g){return n.fromJSON(this,g)},l.prototype.point=function(g,f,u,E){return new n(this,g,f,u,E)},n.fromJSON=function(g,f){return new n(g,f[0],f[1],f[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},n.prototype._extDbl=function(){var g=this.x.redSqr(),f=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var E=this.curve._mulA(g),d=this.x.redAdd(this.y).redSqr().redISub(g).redISub(f),h=E.redAdd(f),v=h.redSub(u),k=E.redSub(f),A=d.redMul(v),R=h.redMul(k),O=d.redMul(k),V=v.redMul(h);return this.curve.point(A,R,V,O)},n.prototype._projDbl=function(){var g=this.x.redAdd(this.y).redSqr(),f=this.x.redSqr(),u=this.y.redSqr(),E,d,h,v,k,A;if(this.curve.twisted){v=this.curve._mulA(f);var R=v.redAdd(u);this.zOne?(E=g.redSub(f).redSub(u).redMul(R.redSub(this.curve.two)),d=R.redMul(v.redSub(u)),h=R.redSqr().redSub(R).redSub(R)):(k=this.z.redSqr(),A=R.redSub(k).redISub(k),E=g.redSub(f).redISub(u).redMul(A),d=R.redMul(v.redSub(u)),h=R.redMul(A))}else v=f.redAdd(u),k=this.curve._mulC(this.z).redSqr(),A=v.redSub(k).redSub(k),E=this.curve._mulC(g.redISub(v)).redMul(A),d=this.curve._mulC(v).redMul(f.redISub(u)),h=v.redMul(A);return this.curve.point(E,d,h)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(g){var f=this.y.redSub(this.x).redMul(g.y.redSub(g.x)),u=this.y.redAdd(this.x).redMul(g.y.redAdd(g.x)),E=this.t.redMul(this.curve.dd).redMul(g.t),d=this.z.redMul(g.z.redAdd(g.z)),h=u.redSub(f),v=d.redSub(E),k=d.redAdd(E),A=u.redAdd(f),R=h.redMul(v),O=k.redMul(A),V=h.redMul(A),Y=v.redMul(k);return this.curve.point(R,O,Y,V)},n.prototype._projAdd=function(g){var f=this.z.redMul(g.z),u=f.redSqr(),E=this.x.redMul(g.x),d=this.y.redMul(g.y),h=this.curve.d.redMul(E).redMul(d),v=u.redSub(h),k=u.redAdd(h),A=this.x.redAdd(this.y).redMul(g.x.redAdd(g.y)).redISub(E).redISub(d),R=f.redMul(v).redMul(A),O,V;return this.curve.twisted?(O=f.redMul(k).redMul(d.redSub(this.curve._mulA(E))),V=v.redMul(k)):(O=f.redMul(k).redMul(d.redSub(E)),V=this.curve._mulC(v).redMul(k)),this.curve.point(R,O,V)},n.prototype.add=function(g){return this.isInfinity()?g:g.isInfinity()?this:this.curve.extended?this._extAdd(g):this._projAdd(g)},n.prototype.mul=function(g){return this._hasDoubles(g)?this.curve._fixedNafMul(this,g):this.curve._wnafMul(this,g)},n.prototype.mulAdd=function(g,f,u){return this.curve._wnafMulAdd(1,[this,f],[g,u],2,!1)},n.prototype.jmulAdd=function(g,f,u){return this.curve._wnafMulAdd(1,[this,f],[g,u],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var g=this.z.redInvm();return this.x=this.x.redMul(g),this.y=this.y.redMul(g),this.t&&(this.t=this.t.redMul(g)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(g){return this===g||this.getX().cmp(g.getX())===0&&this.getY().cmp(g.getY())===0},n.prototype.eqXToP=function(g){var f=g.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var u=g.clone(),E=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(E),this.x.cmp(f)===0)return!0}},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},88254:(b,$,w)=>{"use strict";var _=$;_.base=w(4918),_.short=w(6673),_.mont=w(22881),_.edwards=w(31138)},22881:(b,$,w)=>{"use strict";var _=w(13550),D=w(35717),x=w(4918),S=w(80953);function o(n){x.call(this,"mont",n),this.a=new _(n.a,16).toRed(this.red),this.b=new _(n.b,16).toRed(this.red),this.i4=new _(4).toRed(this.red).redInvm(),this.two=new _(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}D(o,x),b.exports=o,o.prototype.validate=function(c){var g=c.normalize().x,f=g.redSqr(),u=f.redMul(g).redAdd(f.redMul(this.a)).redAdd(g),E=u.redSqrt();return E.redSqr().cmp(u)===0};function l(n,c,g){x.BasePoint.call(this,n,"projective"),c===null&&g===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new _(c,16),this.z=new _(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}D(l,x.BasePoint),o.prototype.decodePoint=function(c,g){return this.point(S.toArray(c,g),1)},o.prototype.point=function(c,g){return new l(this,c,g)},o.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,g){return new l(c,g[0],g[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z),g=c.redSqr(),f=this.x.redSub(this.z),u=f.redSqr(),E=g.redSub(u),d=g.redMul(u),h=E.redMul(u.redAdd(this.curve.a24.redMul(E)));return this.curve.point(d,h)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,g){var f=this.x.redAdd(this.z),u=this.x.redSub(this.z),E=c.x.redAdd(c.z),d=c.x.redSub(c.z),h=d.redMul(f),v=E.redMul(u),k=g.z.redMul(h.redAdd(v).redSqr()),A=g.x.redMul(h.redISub(v).redSqr());return this.curve.point(k,A)},l.prototype.mul=function(c){for(var g=c.clone(),f=this,u=this.curve.point(null,null),E=this,d=[];g.cmpn(0)!==0;g.iushrn(1))d.push(g.andln(1));for(var h=d.length-1;h>=0;h--)d[h]===0?(f=f.diffAdd(u,E),u=u.dbl()):(u=f.diffAdd(u,E),f=f.dbl());return u},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(b,$,w)=>{"use strict";var _=w(80953),D=w(13550),x=w(35717),S=w(4918),o=_.assert;function l(g){S.call(this,"short",g),this.a=new D(g.a,16).toRed(this.red),this.b=new D(g.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(g),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}x(l,S),b.exports=l,l.prototype._getEndomorphism=function(f){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,E;if(f.beta)u=new D(f.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);u=d[0].cmp(d[1])<0?d[0]:d[1],u=u.toRed(this.red)}if(f.lambda)E=new D(f.lambda,16);else{var h=this._getEndoRoots(this.n);this.g.mul(h[0]).x.cmp(this.g.x.redMul(u))===0?E=h[0]:(E=h[1],o(this.g.mul(E).x.cmp(this.g.x.redMul(u))===0))}var v;return f.basis?v=f.basis.map(function(k){return{a:new D(k.a,16),b:new D(k.b,16)}}):v=this._getEndoBasis(E),{beta:u,lambda:E,basis:v}}},l.prototype._getEndoRoots=function(f){var u=f===this.p?this.red:D.mont(f),E=new D(2).toRed(u).redInvm(),d=E.redNeg(),h=new D(3).toRed(u).redNeg().redSqrt().redMul(E),v=d.redAdd(h).fromRed(),k=d.redSub(h).fromRed();return[v,k]},l.prototype._getEndoBasis=function(f){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),E=f,d=this.n.clone(),h=new D(1),v=new D(0),k=new D(0),A=new D(1),R,O,V,Y,ee,re,ie,ne=0,ue,W;E.cmpn(0)!==0;){var T=d.div(E);ue=d.sub(T.mul(E)),W=k.sub(T.mul(h));var L=A.sub(T.mul(v));if(!V&&ue.cmp(u)<0)R=ie.neg(),O=h,V=ue.neg(),Y=W;else if(V&&++ne==2)break;ie=ue,d=E,E=ue,k=h,h=W,A=v,v=L}ee=ue.neg(),re=W;var C=V.sqr().add(Y.sqr()),s=ee.sqr().add(re.sqr());return s.cmp(C)>=0&&(ee=R,re=O),V.negative&&(V=V.neg(),Y=Y.neg()),ee.negative&&(ee=ee.neg(),re=re.neg()),[{a:V,b:Y},{a:ee,b:re}]},l.prototype._endoSplit=function(f){var u=this.endo.basis,E=u[0],d=u[1],h=d.b.mul(f).divRound(this.n),v=E.b.neg().mul(f).divRound(this.n),k=h.mul(E.a),A=v.mul(d.a),R=h.mul(E.b),O=v.mul(d.b),V=f.sub(k).sub(A),Y=R.add(O).neg();return{k1:V,k2:Y}},l.prototype.pointFromX=function(f,u){f=new D(f,16),f.red||(f=f.toRed(this.red));var E=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),d=E.redSqrt();if(d.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var h=d.fromRed().isOdd();return(u&&!h||!u&&h)&&(d=d.redNeg()),this.point(f,d)},l.prototype.validate=function(f){if(f.inf)return!0;var u=f.x,E=f.y,d=this.a.redMul(u),h=u.redSqr().redMul(u).redIAdd(d).redIAdd(this.b);return E.redSqr().redISub(h).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(f,u,E){for(var d=this._endoWnafT1,h=this._endoWnafT2,v=0;v<f.length;v++){var k=this._endoSplit(u[v]),A=f[v],R=A._getBeta();k.k1.negative&&(k.k1.ineg(),A=A.neg(!0)),k.k2.negative&&(k.k2.ineg(),R=R.neg(!0)),d[v*2]=A,d[v*2+1]=R,h[v*2]=k.k1,h[v*2+1]=k.k2}for(var O=this._wnafMulAdd(1,d,h,v*2,E),V=0;V<v*2;V++)d[V]=null,h[V]=null;return O};function n(g,f,u,E){S.BasePoint.call(this,g,"affine"),f===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new D(f,16),this.y=new D(u,16),E&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}x(n,S.BasePoint),l.prototype.point=function(f,u,E){return new n(this,f,u,E)},l.prototype.pointFromJSON=function(f,u){return n.fromJSON(this,f,u)},n.prototype._getBeta=function(){if(!!this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var E=this.curve,d=function(h){return E.point(h.x.redMul(E.endo.beta),h.y)};f.beta=u,u.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return u}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(f,u,E){typeof u=="string"&&(u=JSON.parse(u));var d=f.point(u[0],u[1],E);if(!u[2])return d;function h(k){return f.point(k[0],k[1],E)}var v=u[2];return d.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[d].concat(v.doubles.points.map(h))},naf:v.naf&&{wnd:v.naf.wnd,points:[d].concat(v.naf.points.map(h))}},d},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var u=this.y.redSub(f.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(f.x).redInvm()));var E=u.redSqr().redISub(this.x).redISub(f.x),d=u.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,d)},n.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,E=this.x.redSqr(),d=f.redInvm(),h=E.redAdd(E).redIAdd(E).redIAdd(u).redMul(d),v=h.redSqr().redISub(this.x.redAdd(this.x)),k=h.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,k)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(f){return f=new D(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},n.prototype.mulAdd=function(f,u,E){var d=[this,u],h=[f,E];return this.curve.endo?this.curve._endoWnafMulAdd(d,h):this.curve._wnafMulAdd(1,d,h,2)},n.prototype.jmulAdd=function(f,u,E){var d=[this,u],h=[f,E];return this.curve.endo?this.curve._endoWnafMulAdd(d,h,!0):this.curve._wnafMulAdd(1,d,h,2,!0)},n.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},n.prototype.neg=function(f){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var E=this.precomputed,d=function(h){return h.neg()};u.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(d)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(d)}}}return u},n.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var f=this.curve.jpoint(this.x,this.y,this.curve.one);return f};function c(g,f,u,E){S.BasePoint.call(this,g,"jacobian"),f===null&&u===null&&E===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new D(0)):(this.x=new D(f,16),this.y=new D(u,16),this.z=new D(E,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}x(c,S.BasePoint),l.prototype.jpoint=function(f,u,E){return new c(this,f,u,E)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),u=f.redSqr(),E=this.x.redMul(u),d=this.y.redMul(u).redMul(f);return this.curve.point(E,d)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var u=f.z.redSqr(),E=this.z.redSqr(),d=this.x.redMul(u),h=f.x.redMul(E),v=this.y.redMul(u.redMul(f.z)),k=f.y.redMul(E.redMul(this.z)),A=d.redSub(h),R=v.redSub(k);if(A.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=A.redSqr(),V=O.redMul(A),Y=d.redMul(O),ee=R.redSqr().redIAdd(V).redISub(Y).redISub(Y),re=R.redMul(Y.redISub(ee)).redISub(v.redMul(V)),ie=this.z.redMul(f.z).redMul(A);return this.curve.jpoint(ee,re,ie)},c.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var u=this.z.redSqr(),E=this.x,d=f.x.redMul(u),h=this.y,v=f.y.redMul(u).redMul(this.z),k=E.redSub(d),A=h.redSub(v);if(k.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=k.redSqr(),O=R.redMul(k),V=E.redMul(R),Y=A.redSqr().redIAdd(O).redISub(V).redISub(V),ee=A.redMul(V.redISub(Y)).redISub(h.redMul(O)),re=this.z.redMul(k);return this.curve.jpoint(Y,ee,re)},c.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var E=this;for(u=0;u<f;u++)E=E.dbl();return E}var d=this.curve.a,h=this.curve.tinv,v=this.x,k=this.y,A=this.z,R=A.redSqr().redSqr(),O=k.redAdd(k);for(u=0;u<f;u++){var V=v.redSqr(),Y=O.redSqr(),ee=Y.redSqr(),re=V.redAdd(V).redIAdd(V).redIAdd(d.redMul(R)),ie=v.redMul(Y),ne=re.redSqr().redISub(ie.redAdd(ie)),ue=ie.redISub(ne),W=re.redMul(ue);W=W.redIAdd(W).redISub(ee);var T=O.redMul(A);u+1<f&&(R=R.redMul(ee)),v=ne,A=T,O=W}return this.curve.jpoint(v,O.redMul(h),A)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var f,u,E;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),v=h.redSqr(),k=this.x.redAdd(h).redSqr().redISub(d).redISub(v);k=k.redIAdd(k);var A=d.redAdd(d).redIAdd(d),R=A.redSqr().redISub(k).redISub(k),O=v.redIAdd(v);O=O.redIAdd(O),O=O.redIAdd(O),f=R,u=A.redMul(k.redISub(R)).redISub(O),E=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),Y=this.y.redSqr(),ee=Y.redSqr(),re=this.x.redAdd(Y).redSqr().redISub(V).redISub(ee);re=re.redIAdd(re);var ie=V.redAdd(V).redIAdd(V),ne=ie.redSqr(),ue=ee.redIAdd(ee);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),f=ne.redISub(re).redISub(re),u=ie.redMul(re.redISub(f)).redISub(ue),E=this.y.redMul(this.z),E=E.redIAdd(E)}return this.curve.jpoint(f,u,E)},c.prototype._threeDbl=function(){var f,u,E;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),v=h.redSqr(),k=this.x.redAdd(h).redSqr().redISub(d).redISub(v);k=k.redIAdd(k);var A=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),R=A.redSqr().redISub(k).redISub(k);f=R;var O=v.redIAdd(v);O=O.redIAdd(O),O=O.redIAdd(O),u=A.redMul(k.redISub(R)).redISub(O),E=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),Y=this.y.redSqr(),ee=this.x.redMul(Y),re=this.x.redSub(V).redMul(this.x.redAdd(V));re=re.redAdd(re).redIAdd(re);var ie=ee.redIAdd(ee);ie=ie.redIAdd(ie);var ne=ie.redAdd(ie);f=re.redSqr().redISub(ne),E=this.y.redAdd(this.z).redSqr().redISub(Y).redISub(V);var ue=Y.redSqr();ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),u=re.redMul(ie.redISub(f)).redISub(ue)}return this.curve.jpoint(f,u,E)},c.prototype._dbl=function(){var f=this.curve.a,u=this.x,E=this.y,d=this.z,h=d.redSqr().redSqr(),v=u.redSqr(),k=E.redSqr(),A=v.redAdd(v).redIAdd(v).redIAdd(f.redMul(h)),R=u.redAdd(u);R=R.redIAdd(R);var O=R.redMul(k),V=A.redSqr().redISub(O.redAdd(O)),Y=O.redISub(V),ee=k.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var re=A.redMul(Y).redISub(ee),ie=E.redAdd(E).redMul(d);return this.curve.jpoint(V,re,ie)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),u=this.y.redSqr(),E=this.z.redSqr(),d=u.redSqr(),h=f.redAdd(f).redIAdd(f),v=h.redSqr(),k=this.x.redAdd(u).redSqr().redISub(f).redISub(d);k=k.redIAdd(k),k=k.redAdd(k).redIAdd(k),k=k.redISub(v);var A=k.redSqr(),R=d.redIAdd(d);R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var O=h.redIAdd(k).redSqr().redISub(v).redISub(A).redISub(R),V=u.redMul(O);V=V.redIAdd(V),V=V.redIAdd(V);var Y=this.x.redMul(A).redISub(V);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var ee=this.y.redMul(O.redMul(R.redISub(O)).redISub(k.redMul(A)));ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var re=this.z.redAdd(k).redSqr().redISub(E).redISub(A);return this.curve.jpoint(Y,ee,re)},c.prototype.mul=function(f,u){return f=new D(f,u),this.curve._wnafMul(this,f)},c.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var u=this.z.redSqr(),E=f.z.redSqr();if(this.x.redMul(E).redISub(f.x.redMul(u)).cmpn(0)!==0)return!1;var d=u.redMul(this.z),h=E.redMul(f.z);return this.y.redMul(h).redISub(f.y.redMul(d)).cmpn(0)===0},c.prototype.eqXToP=function(f){var u=this.z.redSqr(),E=f.toRed(this.curve.red).redMul(u);if(this.x.cmp(E)===0)return!0;for(var d=f.clone(),h=this.curve.redN.redMul(u);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(h),this.x.cmp(E)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},45427:(b,$,w)=>{"use strict";var _=$,D=w(33715),x=w(88254),S=w(80953),o=S.assert;function l(g){g.type==="short"?this.curve=new x.short(g):g.type==="edwards"?this.curve=new x.edwards(g):this.curve=new x.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}_.PresetCurve=l;function n(g,f){Object.defineProperty(_,g,{configurable:!0,enumerable:!0,get:function(){var u=new l(f);return Object.defineProperty(_,g,{configurable:!0,enumerable:!0,value:u}),u}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:D.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:D.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:D.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:D.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:D.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:D.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:D.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=w(91037)}catch(g){c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:D.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},57954:(b,$,w)=>{"use strict";var _=w(13550),D=w(2156),x=w(80953),S=w(45427),o=w(29931),l=x.assert,n=w(31251),c=w(90611);function g(f){if(!(this instanceof g))return new g(f);typeof f=="string"&&(l(Object.prototype.hasOwnProperty.call(S,f),"Unknown curve "+f),f=S[f]),f instanceof S.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}b.exports=g,g.prototype.keyPair=function(u){return new n(this,u)},g.prototype.keyFromPrivate=function(u,E){return n.fromPrivate(this,u,E)},g.prototype.keyFromPublic=function(u,E){return n.fromPublic(this,u,E)},g.prototype.genKeyPair=function(u){u||(u={});for(var E=new D({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||o(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),h=this.n.sub(new _(2));;){var v=new _(E.generate(d));if(!(v.cmp(h)>0))return v.iaddn(1),this.keyFromPrivate(v)}},g.prototype._truncateToN=function(u,E){var d=u.byteLength()*8-this.n.bitLength();return d>0&&(u=u.ushrn(d)),!E&&u.cmp(this.n)>=0?u.sub(this.n):u},g.prototype.sign=function(u,E,d,h){typeof d=="object"&&(h=d,d=null),h||(h={}),E=this.keyFromPrivate(E,d),u=this._truncateToN(new _(u,16));for(var v=this.n.byteLength(),k=E.getPrivate().toArray("be",v),A=u.toArray("be",v),R=new D({hash:this.hash,entropy:k,nonce:A,pers:h.pers,persEnc:h.persEnc||"utf8"}),O=this.n.sub(new _(1)),V=0;;V++){var Y=h.k?h.k(V):new _(R.generate(this.n.byteLength()));if(Y=this._truncateToN(Y,!0),!(Y.cmpn(1)<=0||Y.cmp(O)>=0)){var ee=this.g.mul(Y);if(!ee.isInfinity()){var re=ee.getX(),ie=re.umod(this.n);if(ie.cmpn(0)!==0){var ne=Y.invm(this.n).mul(ie.mul(E.getPrivate()).iadd(u));if(ne=ne.umod(this.n),ne.cmpn(0)!==0){var ue=(ee.getY().isOdd()?1:0)|(re.cmp(ie)!==0?2:0);return h.canonical&&ne.cmp(this.nh)>0&&(ne=this.n.sub(ne),ue^=1),new c({r:ie,s:ne,recoveryParam:ue})}}}}}},g.prototype.verify=function(u,E,d,h){u=this._truncateToN(new _(u,16)),d=this.keyFromPublic(d,h),E=new c(E,"hex");var v=E.r,k=E.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var A=k.invm(this.n),R=A.mul(u).umod(this.n),O=A.mul(v).umod(this.n),V;return this.curve._maxwellTrick?(V=this.g.jmulAdd(R,d.getPublic(),O),V.isInfinity()?!1:V.eqXToP(v)):(V=this.g.mulAdd(R,d.getPublic(),O),V.isInfinity()?!1:V.getX().umod(this.n).cmp(v)===0)},g.prototype.recoverPubKey=function(f,u,E,d){l((3&E)===E,"The recovery param is more than two bits"),u=new c(u,d);var h=this.n,v=new _(f),k=u.r,A=u.s,R=E&1,O=E>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&O)throw new Error("Unable to find sencond key candinate");O?k=this.curve.pointFromX(k.add(this.curve.n),R):k=this.curve.pointFromX(k,R);var V=u.r.invm(h),Y=h.sub(v).mul(V).umod(h),ee=A.mul(V).umod(h);return this.g.mulAdd(Y,k,ee)},g.prototype.getKeyRecoveryParam=function(f,u,E,d){if(u=new c(u,d),u.recoveryParam!==null)return u.recoveryParam;for(var h=0;h<4;h++){var v;try{v=this.recoverPubKey(f,u,h)}catch(k){continue}if(v.eq(E))return h}throw new Error("Unable to find valid recovery factor")}},31251:(b,$,w)=>{"use strict";var _=w(13550),D=w(80953),x=D.assert;function S(o,l){this.ec=o,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}b.exports=S,S.fromPublic=function(l,n,c){return n instanceof S?n:new S(l,{pub:n,pubEnc:c})},S.fromPrivate=function(l,n,c){return n instanceof S?n:new S(l,{priv:n,privEnc:c})},S.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},S.prototype.getPublic=function(l,n){return typeof l=="string"&&(n=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,l):this.pub},S.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},S.prototype._importPrivate=function(l,n){this.priv=new _(l,n||16),this.priv=this.priv.umod(this.ec.curve.n)},S.prototype._importPublic=function(l,n){if(l.x||l.y){this.ec.curve.type==="mont"?x(l.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&x(l.x&&l.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(l.x,l.y);return}this.pub=this.ec.curve.decodePoint(l,n)},S.prototype.derive=function(l){return l.validate()||x(l.validate(),"public point not validated"),l.mul(this.priv).getX()},S.prototype.sign=function(l,n,c){return this.ec.sign(l,this,n,c)},S.prototype.verify=function(l,n){return this.ec.verify(l,n,this)},S.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(b,$,w)=>{"use strict";var _=w(13550),D=w(80953),x=D.assert;function S(g,f){if(g instanceof S)return g;this._importDER(g,f)||(x(g.r&&g.s,"Signature without r or s"),this.r=new _(g.r,16),this.s=new _(g.s,16),g.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=g.recoveryParam)}b.exports=S;function o(){this.place=0}function l(g,f){var u=g[f.place++];if(!(u&128))return u;var E=u&15;if(E===0||E>4)return!1;for(var d=0,h=0,v=f.place;h<E;h++,v++)d<<=8,d|=g[v],d>>>=0;return d<=127?!1:(f.place=v,d)}function n(g){for(var f=0,u=g.length-1;!g[f]&&!(g[f+1]&128)&&f<u;)f++;return f===0?g:g.slice(f)}S.prototype._importDER=function(f,u){f=D.toArray(f,u);var E=new o;if(f[E.place++]!==48)return!1;var d=l(f,E);if(d===!1||d+E.place!==f.length||f[E.place++]!==2)return!1;var h=l(f,E);if(h===!1)return!1;var v=f.slice(E.place,h+E.place);if(E.place+=h,f[E.place++]!==2)return!1;var k=l(f,E);if(k===!1||f.length!==k+E.place)return!1;var A=f.slice(E.place,k+E.place);if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;if(A[0]===0)if(A[1]&128)A=A.slice(1);else return!1;return this.r=new _(v),this.s=new _(A),this.recoveryParam=null,!0};function c(g,f){if(f<128){g.push(f);return}var u=1+(Math.log(f)/Math.LN2>>>3);for(g.push(u|128);--u;)g.push(f>>>(u<<3)&255);g.push(f)}S.prototype.toDER=function(f){var u=this.r.toArray(),E=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),E[0]&128&&(E=[0].concat(E)),u=n(u),E=n(E);!E[0]&&!(E[1]&128);)E=E.slice(1);var d=[2];c(d,u.length),d=d.concat(u),d.push(2),c(d,E.length);var h=d.concat(E),v=[48];return c(v,h.length),v=v.concat(h),D.encode(v,f)}},65980:(b,$,w)=>{"use strict";var _=w(33715),D=w(45427),x=w(80953),S=x.assert,o=x.parseBytes,l=w(79087),n=w(23622);function c(g){if(S(g==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(g);g=D[g].curve,this.curve=g,this.g=g.g,this.g.precompute(g.n.bitLength()+1),this.pointClass=g.point().constructor,this.encodingLength=Math.ceil(g.n.bitLength()/8),this.hash=_.sha512}b.exports=c,c.prototype.sign=function(f,u){f=o(f);var E=this.keyFromSecret(u),d=this.hashInt(E.messagePrefix(),f),h=this.g.mul(d),v=this.encodePoint(h),k=this.hashInt(v,E.pubBytes(),f).mul(E.priv()),A=d.add(k).umod(this.curve.n);return this.makeSignature({R:h,S:A,Rencoded:v})},c.prototype.verify=function(f,u,E){f=o(f),u=this.makeSignature(u);var d=this.keyFromPublic(E),h=this.hashInt(u.Rencoded(),d.pubBytes(),f),v=this.g.mul(u.S()),k=u.R().add(d.pub().mul(h));return k.eq(v)},c.prototype.hashInt=function(){for(var f=this.hash(),u=0;u<arguments.length;u++)f.update(arguments[u]);return x.intFromLE(f.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(f){return l.fromPublic(this,f)},c.prototype.keyFromSecret=function(f){return l.fromSecret(this,f)},c.prototype.makeSignature=function(f){return f instanceof n?f:new n(this,f)},c.prototype.encodePoint=function(f){var u=f.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=f.getX().isOdd()?128:0,u},c.prototype.decodePoint=function(f){f=x.parseBytes(f);var u=f.length-1,E=f.slice(0,u).concat(f[u]&~128),d=(f[u]&128)!=0,h=x.intFromLE(E);return this.curve.pointFromY(h,d)},c.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(f){return x.intFromLE(f)},c.prototype.isPoint=function(f){return f instanceof this.pointClass}},79087:(b,$,w)=>{"use strict";var _=w(80953),D=_.assert,x=_.parseBytes,S=_.cachedProperty;function o(l,n){this.eddsa=l,this._secret=x(n.secret),l.isPoint(n.pub)?this._pub=n.pub:this._pubBytes=x(n.pub)}o.fromPublic=function(n,c){return c instanceof o?c:new o(n,{pub:c})},o.fromSecret=function(n,c){return c instanceof o?c:new o(n,{secret:c})},o.prototype.secret=function(){return this._secret},S(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),S(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),S(o,"privBytes",function(){var n=this.eddsa,c=this.hash(),g=n.encodingLength-1,f=c.slice(0,n.encodingLength);return f[0]&=248,f[g]&=127,f[g]|=64,f}),S(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),S(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),S(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(n){return D(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},o.prototype.verify=function(n,c){return this.eddsa.verify(n,c,this)},o.prototype.getSecret=function(n){return D(this._secret,"KeyPair is public only"),_.encode(this.secret(),n)},o.prototype.getPublic=function(n){return _.encode(this.pubBytes(),n)},b.exports=o},23622:(b,$,w)=>{"use strict";var _=w(13550),D=w(80953),x=D.assert,S=D.cachedProperty,o=D.parseBytes;function l(n,c){this.eddsa=n,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(c={R:c.slice(0,n.encodingLength),S:c.slice(n.encodingLength)}),x(c.R&&c.S,"Signature without R or S"),n.isPoint(c.R)&&(this._R=c.R),c.S instanceof _&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}S(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),S(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),S(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),S(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return D.encode(this.toBytes(),"hex").toUpperCase()},b.exports=l},91037:b=>{b.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(b,$,w)=>{"use strict";var _=$,D=w(13550),x=w(79746),S=w(34504);_.assert=x,_.toArray=S.toArray,_.zero2=S.zero2,_.toHex=S.toHex,_.encode=S.encode;function o(f,u,E){var d=new Array(Math.max(f.bitLength(),E)+1);d.fill(0);for(var h=1<<u+1,v=f.clone(),k=0;k<d.length;k++){var A,R=v.andln(h-1);v.isOdd()?(R>(h>>1)-1?A=(h>>1)-R:A=R,v.isubn(A)):A=0,d[k]=A,v.iushrn(1)}return d}_.getNAF=o;function l(f,u){var E=[[],[]];f=f.clone(),u=u.clone();for(var d=0,h=0,v;f.cmpn(-d)>0||u.cmpn(-h)>0;){var k=f.andln(3)+d&3,A=u.andln(3)+h&3;k===3&&(k=-1),A===3&&(A=-1);var R;(k&1)==0?R=0:(v=f.andln(7)+d&7,(v===3||v===5)&&A===2?R=-k:R=k),E[0].push(R);var O;(A&1)==0?O=0:(v=u.andln(7)+h&7,(v===3||v===5)&&k===2?O=-A:O=A),E[1].push(O),2*d===R+1&&(d=1-d),2*h===O+1&&(h=1-h),f.iushrn(1),u.iushrn(1)}return E}_.getJSF=l;function n(f,u,E){var d="_"+u;f.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=E.call(this)}}_.cachedProperty=n;function c(f){return typeof f=="string"?_.toArray(f,"hex"):f}_.parseBytes=c;function g(f){return new D(f,"hex","le")}_.intFromLE=g},17519:b=>{"use strict";b.exports={i8:"6.5.4"}},94079:(b,$,w)=>{"use strict";var _=w(40210),D=_("%Object.getOwnPropertyDescriptor%");if(D)try{D([],"length")}catch(x){D=null}b.exports=D},17187:b=>{"use strict";var $=typeof Reflect=="object"?Reflect:null,w=$&&typeof $.apply=="function"?$.apply:function(R,O,V){return Function.prototype.apply.call(R,O,V)},_;$&&typeof $.ownKeys=="function"?_=$.ownKeys:Object.getOwnPropertySymbols?_=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:_=function(R){return Object.getOwnPropertyNames(R)};function D(A){console&&console.warn&&console.warn(A)}var x=Number.isNaN||function(R){return R!==R};function S(){S.init.call(this)}b.exports=S,b.exports.once=k,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var o=10;function l(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number"||A<0||x(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||x(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function n(A){return A._maxListeners===void 0?S.defaultMaxListeners:A._maxListeners}S.prototype.getMaxListeners=function(){return n(this)},S.prototype.emit=function(R){for(var O=[],V=1;V<arguments.length;V++)O.push(arguments[V]);var Y=R==="error",ee=this._events;if(ee!==void 0)Y=Y&&ee.error===void 0;else if(!Y)return!1;if(Y){var re;if(O.length>0&&(re=O[0]),re instanceof Error)throw re;var ie=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw ie.context=re,ie}var ne=ee[R];if(ne===void 0)return!1;if(typeof ne=="function")w(ne,this,O);else for(var ue=ne.length,W=d(ne,ue),V=0;V<ue;++V)w(W[V],this,O);return!0};function c(A,R,O,V){var Y,ee,re;if(l(O),ee=A._events,ee===void 0?(ee=A._events=Object.create(null),A._eventsCount=0):(ee.newListener!==void 0&&(A.emit("newListener",R,O.listener?O.listener:O),ee=A._events),re=ee[R]),re===void 0)re=ee[R]=O,++A._eventsCount;else if(typeof re=="function"?re=ee[R]=V?[O,re]:[re,O]:V?re.unshift(O):re.push(O),Y=n(A),Y>0&&re.length>Y&&!re.warned){re.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");ie.name="MaxListenersExceededWarning",ie.emitter=A,ie.type=R,ie.count=re.length,D(ie)}return A}S.prototype.addListener=function(R,O){return c(this,R,O,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(R,O){return c(this,R,O,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(A,R,O){var V={fired:!1,wrapFn:void 0,target:A,type:R,listener:O},Y=g.bind(V);return Y.listener=O,V.wrapFn=Y,Y}S.prototype.once=function(R,O){return l(O),this.on(R,f(this,R,O)),this},S.prototype.prependOnceListener=function(R,O){return l(O),this.prependListener(R,f(this,R,O)),this},S.prototype.removeListener=function(R,O){var V,Y,ee,re,ie;if(l(O),Y=this._events,Y===void 0)return this;if(V=Y[R],V===void 0)return this;if(V===O||V.listener===O)--this._eventsCount==0?this._events=Object.create(null):(delete Y[R],Y.removeListener&&this.emit("removeListener",R,V.listener||O));else if(typeof V!="function"){for(ee=-1,re=V.length-1;re>=0;re--)if(V[re]===O||V[re].listener===O){ie=V[re].listener,ee=re;break}if(ee<0)return this;ee===0?V.shift():h(V,ee),V.length===1&&(Y[R]=V[0]),Y.removeListener!==void 0&&this.emit("removeListener",R,ie||O)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(R){var O,V,Y;if(V=this._events,V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[R]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete V[R]),this;if(arguments.length===0){var ee=Object.keys(V),re;for(Y=0;Y<ee.length;++Y)re=ee[Y],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=V[R],typeof O=="function")this.removeListener(R,O);else if(O!==void 0)for(Y=O.length-1;Y>=0;Y--)this.removeListener(R,O[Y]);return this};function u(A,R,O){var V=A._events;if(V===void 0)return[];var Y=V[R];return Y===void 0?[]:typeof Y=="function"?O?[Y.listener||Y]:[Y]:O?v(Y):d(Y,Y.length)}S.prototype.listeners=function(R){return u(this,R,!0)},S.prototype.rawListeners=function(R){return u(this,R,!1)},S.listenerCount=function(A,R){return typeof A.listenerCount=="function"?A.listenerCount(R):E.call(A,R)},S.prototype.listenerCount=E;function E(A){var R=this._events;if(R!==void 0){var O=R[A];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]};function d(A,R){for(var O=new Array(R),V=0;V<R;++V)O[V]=A[V];return O}function h(A,R){for(;R+1<A.length;R++)A[R]=A[R+1];A.pop()}function v(A){for(var R=new Array(A.length),O=0;O<R.length;++O)R[O]=A[O].listener||A[O];return R}function k(A,R){return new Promise(function(O,V){function Y(){ee!==void 0&&A.removeListener("error",ee),O([].slice.call(arguments))}var ee;R!=="error"&&(ee=function(ie){A.removeListener(R,Y),V(ie)},A.once("error",ee)),A.once(R,Y)})}},13048:(b,$,w)=>{var _=w(89509).Buffer,D=w(62318);function x(S,o,l,n){if(_.isBuffer(S)||(S=_.from(S,"binary")),o&&(_.isBuffer(o)||(o=_.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=l/8,g=_.alloc(c),f=_.alloc(n||0),u=_.alloc(0);c>0||n>0;){var E=new D;E.update(u),E.update(S),o&&E.update(o),u=E.digest();var d=0;if(c>0){var h=g.length-c;d=Math.min(c,u.length),u.copy(g,h,0,d),c-=d}if(d<u.length&&n>0){var v=f.length-n,k=Math.min(n,u.length-d);u.copy(f,v,d,d+k),n-=k}}return u.fill(0),{key:g,iv:f}}b.exports=x},64063:b=>{"use strict";b.exports=function $(w,_){if(w===_)return!0;if(w&&_&&typeof w=="object"&&typeof _=="object"){if(w.constructor!==_.constructor)return!1;var D,x,S;if(Array.isArray(w)){if(D=w.length,D!=_.length)return!1;for(x=D;x--!=0;)if(!$(w[x],_[x]))return!1;return!0}if(w.constructor===RegExp)return w.source===_.source&&w.flags===_.flags;if(w.valueOf!==Object.prototype.valueOf)return w.valueOf()===_.valueOf();if(w.toString!==Object.prototype.toString)return w.toString()===_.toString();if(S=Object.keys(w),D=S.length,D!==Object.keys(_).length)return!1;for(x=D;x--!=0;)if(!Object.prototype.hasOwnProperty.call(_,S[x]))return!1;for(x=D;x--!=0;){var o=S[x];if(!$(w[o],_[o]))return!1}return!0}return w!==w&&_!==_}},35035:b=>{"use strict";b.exports=function($,w){w||(w={}),typeof w=="function"&&(w={cmp:w});var _=typeof w.cycles=="boolean"?w.cycles:!1,D=w.cmp&&function(S){return function(o){return function(l,n){var c={key:l,value:o[l]},g={key:n,value:o[n]};return S(c,g)}}}(w.cmp),x=[];return function S(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var l,n;if(Array.isArray(o)){for(n="[",l=0;l<o.length;l++)l&&(n+=","),n+=S(o[l])||"null";return n+"]"}if(o===null)return"null";if(x.indexOf(o)!==-1){if(_)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=x.push(o)-1,g=Object.keys(o).sort(D&&D(o));for(n="",l=0;l<g.length;l++){var f=g[l],u=S(o[f]);!u||(n&&(n+=","),n+=JSON.stringify(f)+":"+u)}return x.splice(c,1),"{"+n+"}"}}($)}},49804:b=>{var $=Object.prototype.hasOwnProperty,w=Object.prototype.toString;b.exports=function(D,x,S){if(w.call(x)!=="[object Function]")throw new TypeError("iterator must be a function");var o=D.length;if(o===+o)for(var l=0;l<o;l++)x.call(S,D[l],l,D);else for(var n in D)$.call(D,n)&&x.call(S,D[n],n,D)}},17648:b=>{"use strict";var $="Function.prototype.bind called on incompatible ",w=Array.prototype.slice,_=Object.prototype.toString,D="[object Function]";b.exports=function(S){var o=this;if(typeof o!="function"||_.call(o)!==D)throw new TypeError($+o);for(var l=w.call(arguments,1),n,c=function(){if(this instanceof n){var d=o.apply(this,l.concat(w.call(arguments)));return Object(d)===d?d:this}else return o.apply(S,l.concat(w.call(arguments)))},g=Math.max(0,o.length-l.length),f=[],u=0;u<g;u++)f.push("$"+u);if(n=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var E=function(){};E.prototype=o.prototype,n.prototype=new E,E.prototype=null}return n}},58612:(b,$,w)=>{"use strict";var _=w(17648);b.exports=Function.prototype.bind||_},40210:(b,$,w)=>{"use strict";var _,D=SyntaxError,x=Function,S=TypeError,o=function(ue){try{return x('"use strict"; return ('+ue+").constructor;")()}catch(W){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(ue){l=null}var n=function(){throw new S},c=l?function(){try{return arguments.callee,n}catch(ue){try{return l(arguments,"callee").get}catch(W){return n}}}():n,g=w(41405)(),f=Object.getPrototypeOf||function(ue){return ue.__proto__},u={},E=typeof Uint8Array=="undefined"?_:f(Uint8Array),d={"%AggregateError%":typeof AggregateError=="undefined"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?_:ArrayBuffer,"%ArrayIteratorPrototype%":g?f([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics=="undefined"?_:Atomics,"%BigInt%":typeof BigInt=="undefined"?_:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?_:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?_:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array=="undefined"?_:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?_:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g?f(f([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map=="undefined"?_:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!g?_:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?_:Promise,"%Proxy%":typeof Proxy=="undefined"?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?_:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!g?_:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g?f(""[Symbol.iterator]()):_,"%Symbol%":g?Symbol:_,"%SyntaxError%":D,"%ThrowTypeError%":c,"%TypedArray%":E,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array=="undefined"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?_:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?_:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?_:WeakSet},h=function ue(W){var T;if(W==="%AsyncFunction%")T=o("async function () {}");else if(W==="%GeneratorFunction%")T=o("function* () {}");else if(W==="%AsyncGeneratorFunction%")T=o("async function* () {}");else if(W==="%AsyncGenerator%"){var L=ue("%AsyncGeneratorFunction%");L&&(T=L.prototype)}else if(W==="%AsyncIteratorPrototype%"){var C=ue("%AsyncGenerator%");C&&(T=f(C.prototype))}return d[W]=T,T},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=w(58612),A=w(17642),R=k.call(Function.call,Array.prototype.concat),O=k.call(Function.apply,Array.prototype.splice),V=k.call(Function.call,String.prototype.replace),Y=k.call(Function.call,String.prototype.slice),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,re=/\\(\\)?/g,ie=function(W){var T=Y(W,0,1),L=Y(W,-1);if(T==="%"&&L!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&T!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var C=[];return V(W,ee,function(s,m,N,I){C[C.length]=N?V(I,re,"$1"):m||s}),C},ne=function(W,T){var L=W,C;if(A(v,L)&&(C=v[L],L="%"+C[0]+"%"),A(d,L)){var s=d[L];if(s===u&&(s=h(L)),typeof s=="undefined"&&!T)throw new S("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:C,name:L,value:s}}throw new D("intrinsic "+W+" does not exist!")};b.exports=function(W,T){if(typeof W!="string"||W.length===0)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new S('"allowMissing" argument must be a boolean');var L=ie(W),C=L.length>0?L[0]:"",s=ne("%"+C+"%",T),m=s.name,N=s.value,I=!1,F=s.alias;F&&(C=F[0],O(L,R([0,1],F)));for(var P=1,j=!0;P<L.length;P+=1){var G=L[P],y=Y(G,0,1),H=Y(G,-1);if((y==='"'||y==="'"||y==="`"||H==='"'||H==="'"||H==="`")&&y!==H)throw new D("property names with quotes must have matching quotes");if((G==="constructor"||!j)&&(I=!0),C+="."+G,m="%"+C+"%",A(d,m))N=d[m];else if(N!=null){if(!(G in N)){if(!T)throw new S("base intrinsic for "+W+" exists, but the property is not available.");return}if(l&&P+1>=L.length){var fe=l(N,G);j=!!fe,j&&"get"in fe&&!("originalValue"in fe.get)?N=fe.get:N=N[G]}else j=A(N,G),N=N[G];j&&!I&&(d[m]=N)}}return N}},89967:b=>{var $={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssuesWithoutMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}},{kind:"ObjectField",name:{kind:"Name",value:"milestone"},value:{kind:"NullValue"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:14578}};$.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

fragment Merged on MergedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	mergeRef {
		name
	}
	commit {
		oid
		commitUrl
	}
	url
}

fragment HeadRefDeleted on HeadRefDeletedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	headRefName
}

fragment Ref on Ref {
	name
	repository {
		owner {
			login
		}
		url
	}
	target {
		oid
	}
}

fragment Comment on IssueComment {
	id
	databaseId
	authorAssociation
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	url
	body
	bodyHTML
	updatedAt
	createdAt
	viewerCanUpdate
	viewerCanReact
	viewerCanDelete
}

fragment Commit on PullRequestCommit {
	id
	commit {
		author {
			user {
				login
				avatarUrl
				url
				email
			}
		}
		committer {
			avatarUrl
			name
		}
		oid
		message
		authoredDate
	}
	url
}

fragment AssignedEvent on AssignedEvent {
	actor {
		login
		avatarUrl
		url
	}
	user {
		login
		avatarUrl
		url
	}
}

fragment Review on PullRequestReview {
	id
	databaseId
	authorAssociation
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	state
	body
	bodyHTML
	submittedAt
	updatedAt
	createdAt
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
}

fragment ReviewThread on PullRequestReviewThread {
	id
	isResolved
	viewerCanResolve
	viewerCanUnresolve
	path
	diffSide
	line
	originalLine
	isOutdated
	comments(first: 100) {
		nodes {
			...ReviewComment
		}
	}
}

query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Merged
					...Comment
					...Review
					...Commit
					...AssignedEvent
					...HeadRefDeleted
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Comment
					...AssignedEvent
				}
			}
		}
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
	viewerCanUpdate
	viewerCanDelete
}

query GetPendingReviewId($pullRequestId: ID!, $author: String!) {
	node(id: $pullRequestId) {
		... on PullRequest {
			reviews(first: 1, author: $author, states: [PENDING]) {
				nodes {
					id
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewThreads(first: $first) {
				nodes {
					id
					isResolved
					viewerCanResolve
					viewerCanUnresolve
					path
					diffSide
					line
					originalLine
					isOutdated
					comments(first: 100) {
						nodes {
							...ReviewComment
						}
					}
				}
			}
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			headRef {
				...Ref
			}
			headRefName
			headRefOid
			headRepository {
				owner {
					login
				}
				url
			}
			baseRef {
				...Ref
			}
			baseRefName
			baseRefOid
			baseRepository {
				owner {
					login
				}
				url
			}
			labels(first: 50) {
				nodes {
					name
				}
			}
			merged
			mergeable
			id
			databaseId
			isDraft
			milestone {
				title
				dueOn
				createdAt
				id
			}
			assignees(first: 10) {
				nodes {
					login
					name
					avatarUrl
					url
					email
				}
			}
			suggestedReviewers {
				isAuthor
				isCommenter
				reviewer {
					login
					avatarUrl
					name
					url
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			files(first: 100, after: $after) {
				nodes {
					path
					viewerViewedState
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
		}
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
			comments(first: 50) {
				nodes {
					author {
						login
						url
						avatarUrl
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					body
					databaseId
				}
			}
		}
	}
}

query GetUser($login: String!) {
	user(login: $login) {
		login
		avatarUrl(size: 50)
		bio
		name
		company
		location
		contributionsCollection {
			commitContributionsByRepository(maxRepositories: 50) {
				contributions(first: 1) {
					nodes {
						occurredAt
					}
				}
				repository {
					nameWithOwner
				}
			}
		}
		url
	}
}

query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestState($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			title
			number
			state
		}
	}
}

mutation AddComment($input: AddPullRequestReviewCommentInput!) {
	addPullRequestReviewComment(input: $input) {
		comment {
			...ReviewComment
		}
	}
}

mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {
	addPullRequestReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {
	updatePullRequestReviewComment(input: $input) {
		pullRequestReviewComment {
			...ReviewComment
		}
	}
}

mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {
	markPullRequestReadyForReview(input: $input) {
		pullRequest {
			isDraft
		}
	}
}

mutation StartReview($input: AddPullRequestReviewInput!) {
	addPullRequestReview(input: $input) {
		pullRequestReview {
			id
		}
	}
}

mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {
		pullRequestReview {
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
			...Review
		}
	}
}

mutation DeleteReview($input: DeletePullRequestReviewInput!) {
	deletePullRequestReview(input: $input) {
		pullRequestReview {
			databaseId
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
		}
	}
}

mutation AddReaction($input: AddReactionInput!) {
	addReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation DeleteReaction($input: RemoveReactionInput!) {
	removeReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation UpdatePullRequest($input: UpdatePullRequestInput!) {
	updatePullRequest(input: $input) {
		pullRequest {
			body
			bodyHTML
			title
		}
	}
}

mutation AddIssueComment($input: AddCommentInput!) {
	addComment(input: $input) {
		commentEdge {
			node {
				...Comment
			}
		}
	}
}

mutation EditIssueComment($input: UpdateIssueCommentInput!) {
	updateIssueComment(input: $input) {
		issueComment {
			...Comment
		}
	}
}

query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		mentionableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssuesWithoutMilestone($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		issues(
			first: 100
			states: OPEN
			filterBy: { assignee: $assignee, milestone: null }
			orderBy: { direction: DESC, field: UPDATED_AT }
		) {
			edges {
				node {
					... on Issue {
						number
						url
						state
						body
						bodyHTML
						title
						assignees(first: 10) {
							nodes {
								login
								url
								email
							}
						}
						author {
							login
							url
							avatarUrl(size: 50)
							... on User {
								email
							}
							... on Organization {
								email
							}
						}
						createdAt
						updatedAt
						labels(first: 50) {
							nodes {
								name
								color
							}
						}
						id
						databaseId
						milestone {
							title
							dueOn
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query MaxIssue($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {
			edges {
				node {
					... on Issue {
						number
					}
				}
			}
		}
	}
}

query GetMilestones($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		milestones(first: 12, orderBy: { direction: DESC, field: DUE_DATE }, states: OPEN) {
			nodes {
				dueOn
				title
				createdAt
				id
				issues(
					first: 100
					filterBy: { assignee: $assignee }
					orderBy: { direction: DESC, field: UPDATED_AT }
					states: OPEN
				) {
					edges {
						node {
							... on Issue {
								number
								url
								state
								body
								bodyHTML
								title
								assignees(first: 10) {
									nodes {
										avatarUrl
										email
										login
										url
									}
								}
								author {
									login
									url
									avatarUrl(size: 50)
									... on User {
										email
									}
									... on Organization {
										email
									}
								}
								createdAt
								updatedAt
								labels(first: 50) {
									nodes {
										name
										color
									}
								}
								id
								databaseId
								milestone {
									title
									dueOn
								}
							}
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				... on Issue {
					number
					url
					state
					body
					bodyHTML
					title
					assignees(first: 10) {
						nodes {
							avatarUrl
							email
							login
							url
						}
					}
					author {
						login
						url
						avatarUrl(size: 50)
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					createdAt
					updatedAt
					labels(first: 50) {
						nodes {
							name
							color
						}
					}
					id
					databaseId
					milestone {
						title
						dueOn
						id
						createdAt
					}
					repository {
						name
						owner {
							login
						}
						url
					}
				}
			}
		}
	}
}

query GetViewerPermission($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		viewerPermission
	}
}

query GetRepositoryForkDetails($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		isFork
		parent {
			name
			owner {
				login
			}
		}
	}
}

query GetChecks($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			commits(last: 1) {
				nodes {
					commit {
						statusCheckRollup {
							state
							contexts(first: 100) {
								nodes {
									... on StatusContext {
										id
										state
										targetUrl
										description
										context
										avatarUrl
									}
									... on CheckRun {
										id
										conclusion
										title
										detailsUrl
										name
										resourcePath
										checkSuite {
											app {
												logoUrl
												url
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {
	resolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {
	unresolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {
	markFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}

mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {
	unmarkFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var w={};function _(l){return l.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var c=n.name.value;return w[c]?!1:(w[c]=!0,!0)})}function D(l,n){if(l.kind==="FragmentSpread")n.add(l.name.value);else if(l.kind==="VariableDefinition"){var c=l.type;c.kind==="NamedType"&&n.add(c.name.value)}l.selectionSet&&l.selectionSet.selections.forEach(function(g){D(g,n)}),l.variableDefinitions&&l.variableDefinitions.forEach(function(g){D(g,n)}),l.definitions&&l.definitions.forEach(function(g){D(g,n)})}var x={};(function(){$.definitions.forEach(function(n){if(n.name){var c=new Set;D(n,c),x[n.name.value]=c}})})();function S(l,n){for(var c=0;c<l.definitions.length;c++){var g=l.definitions[c];if(g.name&&g.name.value==n)return g}}function o(l,n){var c={kind:l.kind,definitions:[S(l,n)]};l.hasOwnProperty("loc")&&(c.loc=l.loc);var g=x[n]||new Set,f=new Set,u=new Set;for(g.forEach(function(d){u.add(d)});u.size>0;){var E=u;u=new Set,E.forEach(function(d){if(!f.has(d)){f.add(d);var h=x[d]||new Set;h.forEach(function(v){u.add(v)})}})}return f.forEach(function(d){var h=S(l,d);h&&c.definitions.push(h)}),c}b.exports=$,b.exports.TimelineEvents=o($,"TimelineEvents"),b.exports.IssueTimelineEvents=o($,"IssueTimelineEvents"),b.exports.GetPendingReviewId=o($,"GetPendingReviewId"),b.exports.PullRequestComments=o($,"PullRequestComments"),b.exports.PullRequest=o($,"PullRequest"),b.exports.PullRequestFiles=o($,"PullRequestFiles"),b.exports.Issue=o($,"Issue"),b.exports.IssueWithComments=o($,"IssueWithComments"),b.exports.GetUser=o($,"GetUser"),b.exports.PullRequestMergeability=o($,"PullRequestMergeability"),b.exports.PullRequestState=o($,"PullRequestState"),b.exports.AddComment=o($,"AddComment"),b.exports.AddReviewThread=o($,"AddReviewThread"),b.exports.EditComment=o($,"EditComment"),b.exports.ReadyForReview=o($,"ReadyForReview"),b.exports.StartReview=o($,"StartReview"),b.exports.SubmitReview=o($,"SubmitReview"),b.exports.DeleteReview=o($,"DeleteReview"),b.exports.AddReaction=o($,"AddReaction"),b.exports.DeleteReaction=o($,"DeleteReaction"),b.exports.UpdatePullRequest=o($,"UpdatePullRequest"),b.exports.AddIssueComment=o($,"AddIssueComment"),b.exports.EditIssueComment=o($,"EditIssueComment"),b.exports.GetMentionableUsers=o($,"GetMentionableUsers"),b.exports.GetAssignableUsers=o($,"GetAssignableUsers"),b.exports.IssuesWithoutMilestone=o($,"IssuesWithoutMilestone"),b.exports.MaxIssue=o($,"MaxIssue"),b.exports.GetMilestones=o($,"GetMilestones"),b.exports.Issues=o($,"Issues"),b.exports.GetViewerPermission=o($,"GetViewerPermission"),b.exports.GetRepositoryForkDetails=o($,"GetRepositoryForkDetails"),b.exports.GetChecks=o($,"GetChecks"),b.exports.ResolveReviewThread=o($,"ResolveReviewThread"),b.exports.UnresolveReviewThread=o($,"UnresolveReviewThread"),b.exports.MarkFileAsViewed=o($,"MarkFileAsViewed"),b.exports.UnmarkFileAsViewed=o($,"UnmarkFileAsViewed")},50972:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=S;var _=x(w(7706)),D=x(w(18554));function x(o){return o&&o.__esModule?o:{default:o}}function S(o){var l=o.prototype.toJSON;typeof l=="function"||(0,_.default)(0),o.prototype.inspect=l,D.default&&(o.prototype[D.default]=l)}},8002:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=l;var _=D(w(18554));function D(d){return d&&d.__esModule?d:{default:d}}function x(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(v){return typeof v}:x=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},x(d)}var S=10,o=2;function l(d){return n(d,[])}function n(d,h){switch(x(d)){case"string":return JSON.stringify(d);case"function":return d.name?"[function ".concat(d.name,"]"):"[function]";case"object":return d===null?"null":c(d,h);default:return String(d)}}function c(d,h){if(h.indexOf(d)!==-1)return"[Circular]";var v=[].concat(h,[d]),k=u(d);if(k!==void 0){var A=k.call(d);if(A!==d)return typeof A=="string"?A:n(A,v)}else if(Array.isArray(d))return f(d,v);return g(d,v)}function g(d,h){var v=Object.keys(d);if(v.length===0)return"{}";if(h.length>o)return"["+E(d)+"]";var k=v.map(function(A){var R=n(d[A],h);return A+": "+R});return"{ "+k.join(", ")+" }"}function f(d,h){if(d.length===0)return"[]";if(h.length>o)return"[Array]";for(var v=Math.min(S,d.length),k=d.length-v,A=[],R=0;R<v;++R)A.push(n(d[R],h));return k===1?A.push("... 1 more item"):k>1&&A.push("... ".concat(k," more items")),"["+A.join(", ")+"]"}function u(d){var h=d[String(_.default)];if(typeof h=="function")return h;if(typeof d.inspect=="function")return d.inspect}function E(d){var h=Object.prototype.toString.call(d).replace(/^\[object /,"").replace(/]$/,"");if(h==="Object"&&typeof d.constructor=="function"){var v=d.constructor.name;if(typeof v=="string"&&v!=="")return v}return h}},7706:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=w;function w(_,D){var x=Boolean(_);if(!x)throw new Error(D!=null?D:"Unexpected invariant triggered.")}},18554:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,_=w;$.default=_},91807:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.isNode=o,$.Token=$.Location=void 0;var _=D(w(50972));function D(l){return l&&l.__esModule?l:{default:l}}var x=function(){function l(c,g,f){this.start=c.start,this.end=g.end,this.startToken=c,this.endToken=g,this.source=f}var n=l.prototype;return n.toJSON=function(){return{start:this.start,end:this.end}},l}();$.Location=x,(0,_.default)(x);var S=function(){function l(c,g,f,u,E,d,h){this.kind=c,this.start=g,this.end=f,this.line=u,this.column=E,this.value=h,this.prev=d,this.next=null}var n=l.prototype;return n.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},l}();$.Token=S,(0,_.default)(S);function o(l){return l!=null&&typeof l.kind=="string"}},70849:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.dedentBlockStringValue=w,$.getBlockStringIndentation=D,$.printBlockString=x;function w(S){var o=S.split(/\r\n|[\n\r]/g),l=D(S);if(l!==0)for(var n=1;n<o.length;n++)o[n]=o[n].slice(l);for(var c=0;c<o.length&&_(o[c]);)++c;for(var g=o.length;g>c&&_(o[g-1]);)--g;return o.slice(c,g).join(`
`)}function _(S){for(var o=0;o<S.length;++o)if(S[o]!==" "&&S[o]!=="	")return!1;return!0}function D(S){for(var o,l=!0,n=!0,c=0,g=null,f=0;f<S.length;++f)switch(S.charCodeAt(f)){case 13:S.charCodeAt(f+1)===10&&++f;case 10:l=!1,n=!0,c=0;break;case 9:case 32:++c;break;default:n&&!l&&(g===null||c<g)&&(g=c),n=!1}return(o=g)!==null&&o!==void 0?o:0}function x(S){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=S.indexOf(`
`)===-1,c=S[0]===" "||S[0]==="	",g=S[S.length-1]==='"',f=S[S.length-1]==="\\",u=!n||g||f||l,E="";return u&&!(n&&c)&&(E+=`
`+o),E+=o?S.replace(/\n/g,`
`+o):S,u&&(E+=`
`),'"""'+E.replace(/"""/g,'\\"""')+'"""'}},23033:(b,$,w)=>{"use strict";var _;_={value:!0},$.S=S;var D=w(80285),x=w(70849);function S(h){return(0,D.visit)(h,{leave:l})}var o=80,l={Name:function(v){return v.value},Variable:function(v){return"$"+v.name},Document:function(v){return c(v.definitions,`

`)+`
`},OperationDefinition:function(v){var k=v.operation,A=v.name,R=f("(",c(v.variableDefinitions,", "),")"),O=c(v.directives," "),V=v.selectionSet;return!A&&!O&&!R&&k==="query"?V:c([k,c([A,R]),O,V]," ")},VariableDefinition:function(v){var k=v.variable,A=v.type,R=v.defaultValue,O=v.directives;return k+": "+A+f(" = ",R)+f(" ",c(O," "))},SelectionSet:function(v){var k=v.selections;return g(k)},Field:function(v){var k=v.alias,A=v.name,R=v.arguments,O=v.directives,V=v.selectionSet,Y=f("",k,": ")+A,ee=Y+f("(",c(R,", "),")");return ee.length>o&&(ee=Y+f(`(
`,u(c(R,`
`)),`
)`)),c([ee,c(O," "),V]," ")},Argument:function(v){var k=v.name,A=v.value;return k+": "+A},FragmentSpread:function(v){var k=v.name,A=v.directives;return"..."+k+f(" ",c(A," "))},InlineFragment:function(v){var k=v.typeCondition,A=v.directives,R=v.selectionSet;return c(["...",f("on ",k),c(A," "),R]," ")},FragmentDefinition:function(v){var k=v.name,A=v.typeCondition,R=v.variableDefinitions,O=v.directives,V=v.selectionSet;return"fragment ".concat(k).concat(f("(",c(R,", "),")")," ")+"on ".concat(A," ").concat(f("",c(O," ")," "))+V},IntValue:function(v){var k=v.value;return k},FloatValue:function(v){var k=v.value;return k},StringValue:function(v,k){var A=v.value,R=v.block;return R?(0,x.printBlockString)(A,k==="description"?"":"  "):JSON.stringify(A)},BooleanValue:function(v){var k=v.value;return k?"true":"false"},NullValue:function(){return"null"},EnumValue:function(v){var k=v.value;return k},ListValue:function(v){var k=v.values;return"["+c(k,", ")+"]"},ObjectValue:function(v){var k=v.fields;return"{"+c(k,", ")+"}"},ObjectField:function(v){var k=v.name,A=v.value;return k+": "+A},Directive:function(v){var k=v.name,A=v.arguments;return"@"+k+f("(",c(A,", "),")")},NamedType:function(v){var k=v.name;return k},ListType:function(v){var k=v.type;return"["+k+"]"},NonNullType:function(v){var k=v.type;return k+"!"},SchemaDefinition:n(function(h){var v=h.directives,k=h.operationTypes;return c(["schema",c(v," "),g(k)]," ")}),OperationTypeDefinition:function(v){var k=v.operation,A=v.type;return k+": "+A},ScalarTypeDefinition:n(function(h){var v=h.name,k=h.directives;return c(["scalar",v,c(k," ")]," ")}),ObjectTypeDefinition:n(function(h){var v=h.name,k=h.interfaces,A=h.directives,R=h.fields;return c(["type",v,f("implements ",c(k," & ")),c(A," "),g(R)]," ")}),FieldDefinition:n(function(h){var v=h.name,k=h.arguments,A=h.type,R=h.directives;return v+(d(k)?f(`(
`,u(c(k,`
`)),`
)`):f("(",c(k,", "),")"))+": "+A+f(" ",c(R," "))}),InputValueDefinition:n(function(h){var v=h.name,k=h.type,A=h.defaultValue,R=h.directives;return c([v+": "+k,f("= ",A),c(R," ")]," ")}),InterfaceTypeDefinition:n(function(h){var v=h.name,k=h.interfaces,A=h.directives,R=h.fields;return c(["interface",v,f("implements ",c(k," & ")),c(A," "),g(R)]," ")}),UnionTypeDefinition:n(function(h){var v=h.name,k=h.directives,A=h.types;return c(["union",v,c(k," "),A&&A.length!==0?"= "+c(A," | "):""]," ")}),EnumTypeDefinition:n(function(h){var v=h.name,k=h.directives,A=h.values;return c(["enum",v,c(k," "),g(A)]," ")}),EnumValueDefinition:n(function(h){var v=h.name,k=h.directives;return c([v,c(k," ")]," ")}),InputObjectTypeDefinition:n(function(h){var v=h.name,k=h.directives,A=h.fields;return c(["input",v,c(k," "),g(A)]," ")}),DirectiveDefinition:n(function(h){var v=h.name,k=h.arguments,A=h.repeatable,R=h.locations;return"directive @"+v+(d(k)?f(`(
`,u(c(k,`
`)),`
)`):f("(",c(k,", "),")"))+(A?" repeatable":"")+" on "+c(R," | ")}),SchemaExtension:function(v){var k=v.directives,A=v.operationTypes;return c(["extend schema",c(k," "),g(A)]," ")},ScalarTypeExtension:function(v){var k=v.name,A=v.directives;return c(["extend scalar",k,c(A," ")]," ")},ObjectTypeExtension:function(v){var k=v.name,A=v.interfaces,R=v.directives,O=v.fields;return c(["extend type",k,f("implements ",c(A," & ")),c(R," "),g(O)]," ")},InterfaceTypeExtension:function(v){var k=v.name,A=v.interfaces,R=v.directives,O=v.fields;return c(["extend interface",k,f("implements ",c(A," & ")),c(R," "),g(O)]," ")},UnionTypeExtension:function(v){var k=v.name,A=v.directives,R=v.types;return c(["extend union",k,c(A," "),R&&R.length!==0?"= "+c(R," | "):""]," ")},EnumTypeExtension:function(v){var k=v.name,A=v.directives,R=v.values;return c(["extend enum",k,c(A," "),g(R)]," ")},InputObjectTypeExtension:function(v){var k=v.name,A=v.directives,R=v.fields;return c(["extend input",k,c(A," "),g(R)]," ")}};function n(h){return function(v){return c([v.description,h(v)],`
`)}}function c(h){var v,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(v=h==null?void 0:h.filter(function(A){return A}).join(k))!==null&&v!==void 0?v:""}function g(h){return f(`{
`,u(c(h,`
`)),`
}`)}function f(h,v){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return v!=null&&v!==""?h+v+k:""}function u(h){return f("  ",h.replace(/\n/g,`
  `))}function E(h){return h.indexOf(`
`)!==-1}function d(h){return h!=null&&h.some(E)}},80285:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.visit=l,$.visitInParallel=n,$.getVisitFn=c,$.BREAK=$.QueryDocumentKeys=void 0;var _=x(w(8002)),D=w(91807);function x(g){return g&&g.__esModule?g:{default:g}}var S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};$.QueryDocumentKeys=S;var o=Object.freeze({});$.BREAK=o;function l(g,f){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,E=void 0,d=Array.isArray(g),h=[g],v=-1,k=[],A=void 0,R=void 0,O=void 0,V=[],Y=[],ee=g;do{v++;var re=v===h.length,ie=re&&k.length!==0;if(re){if(R=Y.length===0?void 0:V[V.length-1],A=O,O=Y.pop(),ie){if(d)A=A.slice();else{for(var ne={},ue=0,W=Object.keys(A);ue<W.length;ue++){var T=W[ue];ne[T]=A[T]}A=ne}for(var L=0,C=0;C<k.length;C++){var s=k[C][0],m=k[C][1];d&&(s-=L),d&&m===null?(A.splice(s,1),L++):A[s]=m}}v=E.index,h=E.keys,k=E.edits,d=E.inArray,E=E.prev}else{if(R=O?d?v:h[v]:void 0,A=O?O[R]:ee,A==null)continue;O&&V.push(R)}var N=void 0;if(!Array.isArray(A)){if(!(0,D.isNode)(A))throw new Error("Invalid AST Node: ".concat((0,_.default)(A),"."));var I=c(f,A.kind,re);if(I){if(N=I.call(f,A,R,O,V,Y),N===o)break;if(N===!1){if(!re){V.pop();continue}}else if(N!==void 0&&(k.push([R,N]),!re))if((0,D.isNode)(N))A=N;else{V.pop();continue}}}if(N===void 0&&ie&&k.push([R,A]),re)V.pop();else{var F;E={inArray:d,index:v,keys:h,edits:k,prev:E},d=Array.isArray(A),h=d?A:(F=u[A.kind])!==null&&F!==void 0?F:[],v=-1,k=[],O&&Y.push(O),O=A}}while(E!==void 0);return k.length!==0&&(ee=k[k.length-1][1]),ee}function n(g){var f=new Array(g.length);return{enter:function(E){for(var d=0;d<g.length;d++)if(f[d]==null){var h=c(g[d],E.kind,!1);if(h){var v=h.apply(g[d],arguments);if(v===!1)f[d]=E;else if(v===o)f[d]=o;else if(v!==void 0)return v}}},leave:function(E){for(var d=0;d<g.length;d++)if(f[d]==null){var h=c(g[d],E.kind,!0);if(h){var v=h.apply(g[d],arguments);if(v===o)f[d]=o;else if(v!==void 0&&v!==!1)return v}}else f[d]===E&&(f[d]=null)}}}function c(g,f,u){var E=g[f];if(E){if(!u&&typeof E=="function")return E;var d=u?E.leave:E.enter;if(typeof d=="function")return d}else{var h=u?g.leave:g.enter;if(h){if(typeof h=="function")return h;var v=h[f];if(typeof v=="function")return v}}}},41405:(b,$,w)=>{"use strict";var _=typeof Symbol!="undefined"&&Symbol,D=w(55419);b.exports=function(){return typeof _!="function"||typeof Symbol!="function"||typeof _("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:D()}},55419:b=>{"use strict";b.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},_=Symbol("test"),D=Object(_);if(typeof _=="string"||Object.prototype.toString.call(_)!=="[object Symbol]"||Object.prototype.toString.call(D)!=="[object Symbol]")return!1;var x=42;w[_]=x;for(_ in w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var S=Object.getOwnPropertySymbols(w);if(S.length!==1||S[0]!==_||!Object.prototype.propertyIsEnumerable.call(w,_))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(w,_);if(o.value!==x||o.enumerable!==!0)return!1}return!0}},17642:(b,$,w)=>{"use strict";var _=w(58612);b.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},3349:(b,$,w)=>{"use strict";var _=w(89509).Buffer,D=w(70326).Transform,x=w(35717);function S(l,n){if(!_.isBuffer(l)&&typeof l!="string")throw new TypeError(n+" must be a string or a buffer")}function o(l){D.call(this),this._block=_.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}x(o,D),o.prototype._transform=function(l,n,c){var g=null;try{this.update(l,n)}catch(f){g=f}c(g)},o.prototype._flush=function(l){var n=null;try{this.push(this.digest())}catch(c){n=c}l(n)},o.prototype.update=function(l,n){if(S(l,"Data"),this._finalized)throw new Error("Digest already called");_.isBuffer(l)||(l=_.from(l,n));for(var c=this._block,g=0;this._blockOffset+l.length-g>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)c[f++]=l[g++];this._update(),this._blockOffset=0}for(;g<l.length;)c[this._blockOffset++]=l[g++];for(var u=0,E=l.length*8;E>0;++u)this._length[u]+=E,E=this._length[u]/4294967296|0,E>0&&(this._length[u]-=4294967296*E);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var n=this._digest();l!==void 0&&(n=n.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return n},o.prototype._digest=function(){throw new Error("_digest is not implemented")},b.exports=o},9786:b=>{"use strict";function $(l,n){l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.__proto__=n}var w={};function _(l,n,c){c||(c=Error);function g(u,E,d){return typeof n=="string"?n:n(u,E,d)}var f=function(u){$(E,u);function E(d,h,v){return u.call(this,g(d,h,v))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=l,w[l]=f}function D(l,n){if(Array.isArray(l)){var c=l.length;return l=l.map(function(g){return String(g)}),c>2?"one of ".concat(n," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(n," ").concat(l[0]," or ").concat(l[1]):"of ".concat(n," ").concat(l[0])}else return"of ".concat(n," ").concat(String(l))}function x(l,n,c){return l.substr(!c||c<0?0:+c,n.length)===n}function S(l,n,c){return(c===void 0||c>l.length)&&(c=l.length),l.substring(c-n.length,c)===n}function o(l,n,c){return typeof c!="number"&&(c=0),c+n.length>l.length?!1:l.indexOf(n,c)!==-1}_("ERR_INVALID_OPT_VALUE",function(l,n){return'The value "'+n+'" is invalid for option "'+l+'"'},TypeError),_("ERR_INVALID_ARG_TYPE",function(l,n,c){var g;typeof n=="string"&&x(n,"not ")?(g="must not be",n=n.replace(/^not /,"")):g="must be";var f;if(S(l," argument"))f="The ".concat(l," ").concat(g," ").concat(D(n,"type"));else{var u=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(u," ").concat(g," ").concat(D(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_("ERR_STREAM_WRITE_AFTER_END","write after end"),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=w},62910:(b,$,w)=>{"use strict";var _=w(34155),D=Object.keys||function(u){var E=[];for(var d in u)E.push(d);return E};b.exports=c;var x=w(45789),S=w(70469);w(35717)(c,x);for(var o=D(S.prototype),l=0;l<o.length;l++){var n=o[l];c.prototype[n]||(c.prototype[n]=S.prototype[n])}function c(u){if(!(this instanceof c))return new c(u);x.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||_.nextTick(f,this)}function f(u){u.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},58994:(b,$,w)=>{"use strict";b.exports=D;var _=w(70421);w(35717)(D,_);function D(x){if(!(this instanceof D))return new D(x);_.call(this,x)}D.prototype._transform=function(x,S,o){o(null,x)}},45789:(b,$,w)=>{"use strict";var _=w(34155);b.exports=T;var D;T.ReadableState=W;var x=w(17187).EventEmitter,S=function(U,oe){return U.listeners(oe).length},o=w(50677),l=w(48764).Buffer,n=w.g.Uint8Array||function(){};function c(q){return l.from(q)}function g(q){return l.isBuffer(q)||q instanceof n}var f=w(31616),u;f&&f.debuglog?u=f.debuglog("stream"):u=function(){};var E=w(98354),d=w(35072),h=w(31222),v=h.getHighWaterMark,k=w(9786).q,A=k.ERR_INVALID_ARG_TYPE,R=k.ERR_STREAM_PUSH_AFTER_EOF,O=k.ERR_METHOD_NOT_IMPLEMENTED,V=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,ee,re;w(35717)(T,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,U,oe){if(typeof q.prependListener=="function")return q.prependListener(U,oe);!q._events||!q._events[U]?q.on(U,oe):Array.isArray(q._events[U])?q._events[U].unshift(oe):q._events[U]=[oe,q._events[U]]}function W(q,U,oe){D=D||w(62910),q=q||{},typeof oe!="boolean"&&(oe=U instanceof D),this.objectMode=!!q.objectMode,oe&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=v(this,q,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(Y||(Y=w(33893).s),this.decoder=new Y(q.encoding),this.encoding=q.encoding)}function T(q){if(D=D||w(62910),!(this instanceof T))return new T(q);var U=this instanceof D;this._readableState=new W(q,this,U),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){!this._readableState||(this._readableState.destroyed=U)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(q,U){U(q)},T.prototype.push=function(q,U){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof q=="string"&&(U=U||oe.defaultEncoding,U!==oe.encoding&&(q=l.from(q,U),U=""),ge=!0),L(this,q,U,!1,ge)},T.prototype.unshift=function(q){return L(this,q,null,!0,!1)};function L(q,U,oe,ge,Me){u("readableAddChunk",U);var he=q._readableState;if(U===null)he.reading=!1,F(q,he);else{var Te;if(Me||(Te=s(he,U)),Te)ie(q,Te);else if(he.objectMode||U&&U.length>0)if(typeof U!="string"&&!he.objectMode&&Object.getPrototypeOf(U)!==l.prototype&&(U=c(U)),ge)he.endEmitted?ie(q,new V):C(q,he,U,!0);else if(he.ended)ie(q,new R);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!oe?(U=he.decoder.write(U),he.objectMode||U.length!==0?C(q,he,U,!1):G(q,he)):C(q,he,U,!1)}else ge||(he.reading=!1,G(q,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function C(q,U,oe,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,q.emit("data",oe)):(U.length+=U.objectMode?1:oe.length,ge?U.buffer.unshift(oe):U.buffer.push(oe),U.needReadable&&P(q)),G(q,U)}function s(q,U){var oe;return!g(U)&&typeof U!="string"&&U!==void 0&&!q.objectMode&&(oe=new A("chunk",["string","Buffer","Uint8Array"],U)),oe}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(q){Y||(Y=w(33893).s);var U=new Y(q);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=U.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var m=1073741824;function N(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,U){return q<=0||U.length===0&&U.ended?0:U.objectMode?1:q!==q?U.flowing&&U.length?U.buffer.head.data.length:U.length:(q>U.highWaterMark&&(U.highWaterMark=N(q)),q<=U.length?q:U.ended?U.length:(U.needReadable=!0,0))}T.prototype.read=function(q){u("read",q),q=parseInt(q,10);var U=this._readableState,oe=q;if(q!==0&&(U.emittedReadable=!1),q===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return u("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?ce(this):P(this),null;if(q=I(q,U),q===0&&U.ended)return U.length===0&&ce(this),null;var ge=U.needReadable;u("need readable",ge),(U.length===0||U.length-q<U.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),U.ended||U.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(q=I(oe,U)));var Me;return q>0?Me=Z(q,U):Me=null,Me===null?(U.needReadable=U.length<=U.highWaterMark,q=0):(U.length-=q,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),oe!==q&&U.ended&&ce(this)),Me!==null&&this.emit("data",Me),Me};function F(q,U){if(u("onEofChunk"),!U.ended){if(U.decoder){var oe=U.decoder.end();oe&&oe.length&&(U.buffer.push(oe),U.length+=U.objectMode?1:oe.length)}U.ended=!0,U.sync?P(q):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,j(q)))}}function P(q){var U=q._readableState;u("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(u("emitReadable",U.flowing),U.emittedReadable=!0,_.nextTick(j,q))}function j(q){var U=q._readableState;u("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(q.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,J(q)}function G(q,U){U.readingMore||(U.readingMore=!0,_.nextTick(y,q,U))}function y(q,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var oe=U.length;if(u("maybeReadMore read 0"),q.read(0),oe===U.length)break}U.readingMore=!1}T.prototype._read=function(q){ie(this,new O("_read()"))},T.prototype.pipe=function(q,U){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=q;break;case 1:ge.pipes=[ge.pipes,q];break;default:ge.pipes.push(q);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,U);var Me=(!U||U.end!==!1)&&q!==_.stdout&&q!==_.stderr,he=Me?Ae:X;ge.endEmitted?_.nextTick(he):oe.once("end",he),q.on("unpipe",Te);function Te(le,pe){u("onunpipe"),le===oe&&pe&&pe.hasUnpiped===!1&&(pe.hasUnpiped=!0,qe())}function Ae(){u("onend"),q.end()}var Ce=H(oe);q.on("drain",Ce);var ut=!1;function qe(){u("cleanup"),q.removeListener("close",se),q.removeListener("finish",Q),q.removeListener("drain",Ce),q.removeListener("error",lt),q.removeListener("unpipe",Te),oe.removeListener("end",Ae),oe.removeListener("end",X),oe.removeListener("data",De),ut=!0,ge.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ce()}oe.on("data",De);function De(le){u("ondata");var pe=q.write(le);u("dest.write",pe),pe===!1&&((ge.pipesCount===1&&ge.pipes===q||ge.pipesCount>1&&be(ge.pipes,q)!==-1)&&!ut&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function lt(le){u("onerror",le),X(),q.removeListener("error",lt),S(q,"error")===0&&ie(q,le)}ue(q,"error",lt);function se(){q.removeListener("finish",Q),X()}q.once("close",se);function Q(){u("onfinish"),q.removeListener("close",se),X()}q.once("finish",Q);function X(){u("unpipe"),oe.unpipe(q)}return q.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),q};function H(q){return function(){var oe=q._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(q,"data")&&(oe.flowing=!0,J(q))}}T.prototype.unpipe=function(q){var U=this._readableState,oe={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return q&&q!==U.pipes?this:(q||(q=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,q&&q.emit("unpipe",this,oe),this);if(!q){var ge=U.pipes,Me=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var he=0;he<Me;he++)ge[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Te=be(U.pipes,q);return Te===-1?this:(U.pipes.splice(Te,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),q.emit("unpipe",this,oe),this)},T.prototype.on=function(q,U){var oe=o.prototype.on.call(this,q,U),ge=this._readableState;return q==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):q==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?P(this):ge.reading||_.nextTick(ve,this)),oe},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(q,U){var oe=o.prototype.removeListener.call(this,q,U);return q==="readable"&&_.nextTick(fe,this),oe},T.prototype.removeAllListeners=function(q){var U=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&_.nextTick(fe,this),U};function fe(q){var U=q._readableState;U.readableListening=q.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ve(q){u("readable nexttick read 0"),q.read(0)}T.prototype.resume=function(){var q=this._readableState;return q.flowing||(u("resume"),q.flowing=!q.readableListening,ye(this,q)),q.paused=!1,this};function ye(q,U){U.resumeScheduled||(U.resumeScheduled=!0,_.nextTick(Ee,q,U))}function Ee(q,U){u("resume",U.reading),U.reading||q.read(0),U.resumeScheduled=!1,q.emit("resume"),J(q),U.flowing&&!U.reading&&q.read(0)}T.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var U=q._readableState;for(u("flow",U.flowing);U.flowing&&q.read()!==null;);}T.prototype.wrap=function(q){var U=this,oe=this._readableState,ge=!1;q.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Te=oe.decoder.end();Te&&Te.length&&U.push(Te)}U.push(null)}),q.on("data",function(Te){if(u("wrapped data"),oe.decoder&&(Te=oe.decoder.write(Te)),!(oe.objectMode&&Te==null)&&!(!oe.objectMode&&(!Te||!Te.length))){var Ae=U.push(Te);Ae||(ge=!0,q.pause())}});for(var Me in q)this[Me]===void 0&&typeof q[Me]=="function"&&(this[Me]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Me));for(var he=0;he<ne.length;he++)q.on(ne[he],this.emit.bind(this,ne[he]));return this._read=function(Te){u("wrapped _read",Te),ge&&(ge=!1,q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return ee===void 0&&(ee=w(30527)),ee(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),T._fromList=Z,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(q,U){if(U.length===0)return null;var oe;return U.objectMode?oe=U.buffer.shift():!q||q>=U.length?(U.decoder?oe=U.buffer.join(""):U.buffer.length===1?oe=U.buffer.first():oe=U.buffer.concat(U.length),U.buffer.clear()):oe=U.buffer.consume(q,U.decoder),oe}function ce(q){var U=q._readableState;u("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,_.nextTick(me,U,q))}function me(q,U){if(u("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,U.readable=!1,U.emit("end"),q.autoDestroy)){var oe=U._writableState;(!oe||oe.autoDestroy&&oe.finished)&&U.destroy()}}typeof Symbol=="function"&&(T.from=function(q,U){return re===void 0&&(re=w(5327)),re(T,q,U)});function be(q,U){for(var oe=0,ge=q.length;oe<ge;oe++)if(q[oe]===U)return oe;return-1}},70421:(b,$,w)=>{"use strict";b.exports=c;var _=w(9786).q,D=_.ERR_METHOD_NOT_IMPLEMENTED,x=_.ERR_MULTIPLE_CALLBACK,S=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=_.ERR_TRANSFORM_WITH_LENGTH_0,l=w(62910);w(35717)(c,l);function n(u,E){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(h===null)return this.emit("error",new x);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),h(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(u){if(!(this instanceof c))return new c(u);l.call(this,u),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",g)}function g(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(u,E,d)}):f(this,null,null)}c.prototype.push=function(u,E){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,E)},c.prototype._transform=function(u,E,d){d(new D("_transform()"))},c.prototype._write=function(u,E,d){var h=this._transformState;if(h.writecb=d,h.writechunk=u,h.writeencoding=E,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(u){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(u,E){l.prototype._destroy.call(this,u,function(d){E(d)})};function f(u,E,d){if(E)return u.emit("error",E);if(d!=null&&u.push(d),u._writableState.length)throw new o;if(u._transformState.transforming)throw new S;return u.push(null)}},70469:(b,$,w)=>{"use strict";var _=w(34155);b.exports=W;function D(J,Z,ce){this.chunk=J,this.encoding=Z,this.callback=ce,this.next=null}function x(J){var Z=this;this.next=null,this.entry=null,this.finish=function(){Ee(Z,J)}}var S;W.WritableState=ne;var o={deprecate:w(94927)},l=w(50677),n=w(48764).Buffer,c=w.g.Uint8Array||function(){};function g(J){return n.from(J)}function f(J){return n.isBuffer(J)||J instanceof c}var u=w(35072),E=w(31222),d=E.getHighWaterMark,h=w(9786).q,v=h.ERR_INVALID_ARG_TYPE,k=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,R=h.ERR_STREAM_CANNOT_PIPE,O=h.ERR_STREAM_DESTROYED,V=h.ERR_STREAM_NULL_VALUES,Y=h.ERR_STREAM_WRITE_AFTER_END,ee=h.ERR_UNKNOWN_ENCODING,re=u.errorOrDestroy;w(35717)(W,l);function ie(){}function ne(J,Z,ce){S=S||w(62910),J=J||{},typeof ce!="boolean"&&(ce=Z instanceof S),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=d(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(be){F(Z,be)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}ne.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,ce=[];Z;)ce.push(Z),Z=Z.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Z){return ue.call(this,Z)?!0:this!==W?!1:Z&&Z._writableState instanceof ne}})):ue=function(Z){return Z instanceof this};function W(J){S=S||w(62910);var Z=this instanceof S;if(!Z&&!ue.call(W,this))return new W(J);this._writableState=new ne(J,this,Z),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}W.prototype.pipe=function(){re(this,new R)};function T(J,Z){var ce=new Y;re(J,ce),_.nextTick(Z,ce)}function L(J,Z,ce,me){var be;return ce===null?be=new V:typeof ce!="string"&&!Z.objectMode&&(be=new v("chunk",["string","Buffer"],ce)),be?(re(J,be),_.nextTick(me,be),!1):!0}W.prototype.write=function(J,Z,ce){var me=this._writableState,be=!1,q=!me.objectMode&&f(J);return q&&!n.isBuffer(J)&&(J=g(J)),typeof Z=="function"&&(ce=Z,Z=null),q?Z="buffer":Z||(Z=me.defaultEncoding),typeof ce!="function"&&(ce=ie),me.ending?T(this,ce):(q||L(this,me,J,ce))&&(me.pendingcb++,be=s(this,me,q,J,Z,ce)),be},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&G(this,J))},W.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new ee(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,Z,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof Z=="string"&&(Z=n.from(Z,ce)),Z}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(J,Z,ce,me,be,q){if(!ce){var U=C(Z,me,be);me!==U&&(ce=!0,be="buffer",me=U)}var oe=Z.objectMode?1:me.length;Z.length+=oe;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var Me=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:me,encoding:be,isBuf:ce,callback:q,next:null},Me?Me.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else m(J,Z,!1,oe,me,be,q);return ge}function m(J,Z,ce,me,be,q,U){Z.writelen=me,Z.writecb=U,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new O("write")):ce?J._writev(be,Z.onwrite):J._write(be,q,Z.onwrite),Z.sync=!1}function N(J,Z,ce,me,be){--Z.pendingcb,ce?(_.nextTick(be,me),_.nextTick(ve,J,Z),J._writableState.errorEmitted=!0,re(J,me)):(be(me),J._writableState.errorEmitted=!0,re(J,me),ve(J,Z))}function I(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,Z){var ce=J._writableState,me=ce.sync,be=ce.writecb;if(typeof be!="function")throw new A;if(I(ce),Z)N(J,ce,me,Z,be);else{var q=y(ce)||J.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(J,ce),me?_.nextTick(P,J,ce,q,be):P(J,ce,q,be)}}function P(J,Z,ce,me){ce||j(J,Z),Z.pendingcb--,me(),ve(J,Z)}function j(J,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,J.emit("drain"))}function G(J,Z){Z.bufferProcessing=!0;var ce=Z.bufferedRequest;if(J._writev&&ce&&ce.next){var me=Z.bufferedRequestCount,be=new Array(me),q=Z.corkedRequestsFree;q.entry=ce;for(var U=0,oe=!0;ce;)be[U]=ce,ce.isBuf||(oe=!1),ce=ce.next,U+=1;be.allBuffers=oe,m(J,Z,!0,Z.length,be,"",q.finish),Z.pendingcb++,Z.lastBufferedRequest=null,q.next?(Z.corkedRequestsFree=q.next,q.next=null):Z.corkedRequestsFree=new x(Z),Z.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,Me=ce.encoding,he=ce.callback,Te=Z.objectMode?1:ge.length;if(m(J,Z,!1,Te,ge,Me,he),ce=ce.next,Z.bufferedRequestCount--,Z.writing)break}ce===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ce,Z.bufferProcessing=!1}W.prototype._write=function(J,Z,ce){ce(new k("_write()"))},W.prototype._writev=null,W.prototype.end=function(J,Z,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,Z=null):typeof Z=="function"&&(ce=Z,Z=null),J!=null&&this.write(J,Z),me.corked&&(me.corked=1,this.uncork()),me.ending||ye(this,me,ce),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function H(J,Z){J._final(function(ce){Z.pendingcb--,ce&&re(J,ce),Z.prefinished=!0,J.emit("prefinish"),ve(J,Z)})}function fe(J,Z){!Z.prefinished&&!Z.finalCalled&&(typeof J._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,_.nextTick(H,J,Z)):(Z.prefinished=!0,J.emit("prefinish")))}function ve(J,Z){var ce=y(Z);if(ce&&(fe(J,Z),Z.pendingcb===0&&(Z.finished=!0,J.emit("finish"),Z.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function ye(J,Z,ce){Z.ending=!0,ve(J,Z),ce&&(Z.finished?_.nextTick(ce):J.once("finish",ce)),Z.ended=!0,J.writable=!1}function Ee(J,Z,ce){var me=J.entry;for(J.entry=null;me;){var be=me.callback;Z.pendingcb--,be(ce),me=me.next}Z.corkedRequestsFree.next=J}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){!this._writableState||(this._writableState.destroyed=Z)}}),W.prototype.destroy=u.destroy,W.prototype._undestroy=u.undestroy,W.prototype._destroy=function(J,Z){Z(J)}},30527:(b,$,w)=>{"use strict";var _=w(34155),D;function x(O,V,Y){return V in O?Object.defineProperty(O,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):O[V]=Y,O}var S=w(28640),o=Symbol("lastResolve"),l=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),g=Symbol("lastPromise"),f=Symbol("handlePromise"),u=Symbol("stream");function E(O,V){return{value:O,done:V}}function d(O){var V=O[o];if(V!==null){var Y=O[u].read();Y!==null&&(O[g]=null,O[o]=null,O[l]=null,V(E(Y,!1)))}}function h(O){_.nextTick(d,O)}function v(O,V){return function(Y,ee){O.then(function(){if(V[c]){Y(E(void 0,!0));return}V[f](Y,ee)},ee)}}var k=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((D={get stream(){return this[u]},next:function(){var V=this,Y=this[n];if(Y!==null)return Promise.reject(Y);if(this[c])return Promise.resolve(E(void 0,!0));if(this[u].destroyed)return new Promise(function(ne,ue){_.nextTick(function(){V[n]?ue(V[n]):ne(E(void 0,!0))})});var ee=this[g],re;if(ee)re=new Promise(v(ee,this));else{var ie=this[u].read();if(ie!==null)return Promise.resolve(E(ie,!1));re=new Promise(this[f])}return this[g]=re,re}},x(D,Symbol.asyncIterator,function(){return this}),x(D,"return",function(){var V=this;return new Promise(function(Y,ee){V[u].destroy(null,function(re){if(re){ee(re);return}Y(E(void 0,!0))})})}),D),k),R=function(V){var Y,ee=Object.create(A,(Y={},x(Y,u,{value:V,writable:!0}),x(Y,o,{value:null,writable:!0}),x(Y,l,{value:null,writable:!0}),x(Y,n,{value:null,writable:!0}),x(Y,c,{value:V._readableState.endEmitted,writable:!0}),x(Y,f,{value:function(ie,ne){var ue=ee[u].read();ue?(ee[g]=null,ee[o]=null,ee[l]=null,ie(E(ue,!1))):(ee[o]=ie,ee[l]=ne)},writable:!0}),Y));return ee[g]=null,S(V,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=ee[l];ie!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ie(re)),ee[n]=re;return}var ne=ee[o];ne!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ne(E(void 0,!0))),ee[c]=!0}),V.on("readable",h.bind(null,ee)),ee};b.exports=R},98354:(b,$,w)=>{"use strict";function _(d,h){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(d);h&&(k=k.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),v.push.apply(v,k)}return v}function D(d){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?_(Object(v),!0).forEach(function(k){x(d,k,v[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):_(Object(v)).forEach(function(k){Object.defineProperty(d,k,Object.getOwnPropertyDescriptor(v,k))})}return d}function x(d,h,v){return h in d?Object.defineProperty(d,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[h]=v,d}function S(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function o(d,h){for(var v=0;v<h.length;v++){var k=h[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(d,k.key,k)}}function l(d,h,v){return h&&o(d.prototype,h),v&&o(d,v),d}var n=w(48764),c=n.Buffer,g=w(69386),f=g.inspect,u=f&&f.custom||"inspect";function E(d,h,v){c.prototype.copy.call(d,h,v)}b.exports=function(){function d(){S(this,d),this.head=null,this.tail=null,this.length=0}return l(d,[{key:"push",value:function(v){var k={data:v,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(v){var k={data:v,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var k=this.head,A=""+k.data;k=k.next;)A+=v+k.data;return A}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var k=c.allocUnsafe(v>>>0),A=this.head,R=0;A;)E(A.data,k,R),R+=A.data.length,A=A.next;return k}},{key:"consume",value:function(v,k){var A;return v<this.head.data.length?(A=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?A=this.shift():A=k?this._getString(v):this._getBuffer(v),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var k=this.head,A=1,R=k.data;for(v-=R.length;k=k.next;){var O=k.data,V=v>O.length?O.length:v;if(V===O.length?R+=O:R+=O.slice(0,v),v-=V,v===0){V===O.length?(++A,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=O.slice(V));break}++A}return this.length-=A,R}},{key:"_getBuffer",value:function(v){var k=c.allocUnsafe(v),A=this.head,R=1;for(A.data.copy(k),v-=A.data.length;A=A.next;){var O=A.data,V=v>O.length?O.length:v;if(O.copy(k,k.length-v,0,V),v-=V,v===0){V===O.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=O.slice(V));break}++R}return this.length-=R,k}},{key:u,value:function(v,k){return f(this,D({},k,{depth:0,customInspect:!1}))}}]),d}()},35072:(b,$,w)=>{"use strict";var _=w(34155);function D(c,g){var f=this,u=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return u||E?(g?g(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(l,this,c)):_.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!g&&d?f._writableState?f._writableState.errorEmitted?_.nextTick(S,f):(f._writableState.errorEmitted=!0,_.nextTick(x,f,d)):_.nextTick(x,f,d):g?(_.nextTick(S,f),g(d)):_.nextTick(S,f)}),this)}function x(c,g){l(c,g),S(c)}function S(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,g){c.emit("error",g)}function n(c,g){var f=c._readableState,u=c._writableState;f&&f.autoDestroy||u&&u.autoDestroy?c.destroy(g):c.emit("error",g)}b.exports={destroy:D,undestroy:o,errorOrDestroy:n}},28640:(b,$,w)=>{"use strict";var _=w(9786).q.ERR_STREAM_PREMATURE_CLOSE;function D(l){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,g=new Array(c),f=0;f<c;f++)g[f]=arguments[f];l.apply(this,g)}}}function x(){}function S(l){return l.setHeader&&typeof l.abort=="function"}function o(l,n,c){if(typeof n=="function")return o(l,null,n);n||(n={}),c=D(c||x);var g=n.readable||n.readable!==!1&&l.readable,f=n.writable||n.writable!==!1&&l.writable,u=function(){l.writable||d()},E=l._writableState&&l._writableState.finished,d=function(){f=!1,E=!0,g||c.call(l)},h=l._readableState&&l._readableState.endEmitted,v=function(){g=!1,h=!0,f||c.call(l)},k=function(V){c.call(l,V)},A=function(){var V;if(g&&!h)return(!l._readableState||!l._readableState.ended)&&(V=new _),c.call(l,V);if(f&&!E)return(!l._writableState||!l._writableState.ended)&&(V=new _),c.call(l,V)},R=function(){l.req.on("finish",d)};return S(l)?(l.on("complete",d),l.on("abort",A),l.req?R():l.on("request",R)):f&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",d),n.error!==!1&&l.on("error",k),l.on("close",A),function(){l.removeListener("complete",d),l.removeListener("abort",A),l.removeListener("request",R),l.req&&l.req.removeListener("finish",d),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",d),l.removeListener("end",v),l.removeListener("error",k),l.removeListener("close",A)}}b.exports=o},5327:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},64218:(b,$,w)=>{"use strict";var _;function D(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}var x=w(9786).q,S=x.ERR_MISSING_ARGS,o=x.ERR_STREAM_DESTROYED;function l(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,h,v,k){k=D(k);var A=!1;d.on("close",function(){A=!0}),_===void 0&&(_=w(28640)),_(d,{readable:h,writable:v},function(O){if(O)return k(O);A=!0,k()});var R=!1;return function(O){if(!A&&!R){if(R=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();k(O||new o("pipe"))}}}function g(d){d()}function f(d,h){return d.pipe(h)}function u(d){return!d.length||typeof d[d.length-1]!="function"?l:d.pop()}function E(){for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];var k=u(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new S("streams");var A,R=h.map(function(O,V){var Y=V<h.length-1,ee=V>0;return c(O,Y,ee,function(re){A||(A=re),re&&R.forEach(g),!Y&&(R.forEach(g),k(A))})});return h.reduce(f)}b.exports=E},31222:(b,$,w)=>{"use strict";var _=w(9786).q.ERR_INVALID_OPT_VALUE;function D(S,o,l){return S.highWaterMark!=null?S.highWaterMark:o?S[l]:null}function x(S,o,l,n){var c=D(o,n,l);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var g=n?l:"highWaterMark";throw new _(g,c)}return Math.floor(c)}return S.objectMode?16:16*1024}b.exports={getHighWaterMark:x}},50677:(b,$,w)=>{b.exports=w(17187).EventEmitter},70326:(b,$,w)=>{$=b.exports=w(45789),$.Stream=$,$.Readable=$,$.Writable=w(70469),$.Duplex=w(62910),$.Transform=w(70421),$.PassThrough=w(58994),$.finished=w(28640),$.pipeline=w(64218)},33893:(b,$,w)=>{"use strict";var _=w(89509).Buffer,D=_.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}function S(R){var O=x(R);if(typeof O!="string"&&(_.isEncoding===D||!D(R)))throw new Error("Unknown encoding: "+R);return O||R}$.s=o;function o(R){this.encoding=S(R);var O;switch(this.encoding){case"utf16le":this.text=E,this.end=d,O=4;break;case"utf8":this.fillLast=g,O=4;break;case"base64":this.text=h,this.end=v,O=3;break;default:this.write=k,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(O)}o.prototype.write=function(R){if(R.length===0)return"";var O,V;if(this.lastNeed){if(O=this.fillLast(R),O===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<R.length?O?O+this.text(R,V):this.text(R,V):O||""},o.prototype.end=u,o.prototype.text=f,o.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function l(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function n(R,O,V){var Y=O.length-1;if(Y<V)return 0;var ee=l(O[Y]);return ee>=0?(ee>0&&(R.lastNeed=ee-1),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(R.lastNeed=ee-2),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(ee===2?ee=0:R.lastNeed=ee-3),ee):0))}function c(R,O,V){if((O[0]&192)!=128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&O.length>1){if((O[1]&192)!=128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&O.length>2&&(O[2]&192)!=128)return R.lastNeed=2,"\uFFFD"}}function g(R){var O=this.lastTotal-this.lastNeed,V=c(this,R,O);if(V!==void 0)return V;if(this.lastNeed<=R.length)return R.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,O,0,R.length),this.lastNeed-=R.length}function f(R,O){var V=n(this,R,O);if(!this.lastNeed)return R.toString("utf8",O);this.lastTotal=V;var Y=R.length-(V-this.lastNeed);return R.copy(this.lastChar,0,Y),R.toString("utf8",O,Y)}function u(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+"\uFFFD":O}function E(R,O){if((R.length-O)%2==0){var V=R.toString("utf16le",O);if(V){var Y=V.charCodeAt(V.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",O,R.length-1)}function d(R){var O=R&&R.length?this.write(R):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,V)}return O}function h(R,O){var V=(R.length-O)%3;return V===0?R.toString("base64",O):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",O,R.length-V))}function v(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(R){return R.toString(this.encoding)}function A(R){return R&&R.length?this.write(R):""}},33715:(b,$,w)=>{var _=$;_.utils=w(26436),_.common=w(95772),_.sha=w(89041),_.ripemd=w(12949),_.hmac=w(52344),_.sha1=_.sha.sha1,_.sha256=_.sha.sha256,_.sha224=_.sha.sha224,_.sha384=_.sha.sha384,_.sha512=_.sha.sha512,_.ripemd160=_.ripemd.ripemd160},95772:(b,$,w)=>{"use strict";var _=w(26436),D=w(79746);function x(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}$.BlockHash=x,x.prototype.update=function(o,l){if(o=_.toArray(o,l),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var n=o.length%this._delta8;this.pending=o.slice(o.length-n,o.length),this.pending.length===0&&(this.pending=null),o=_.join32(o,0,o.length-n,this.endian);for(var c=0;c<o.length;c+=this._delta32)this._update(o,c,c+this._delta32)}return this},x.prototype.digest=function(o){return this.update(this._pad()),D(this.pending===null),this._digest(o)},x.prototype._pad=function(){var o=this.pendingTotal,l=this._delta8,n=l-(o+this.padLength)%l,c=new Array(n+this.padLength);c[0]=128;for(var g=1;g<n;g++)c[g]=0;if(o<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)c[g++]=0;c[g++]=0,c[g++]=0,c[g++]=0,c[g++]=0,c[g++]=o>>>24&255,c[g++]=o>>>16&255,c[g++]=o>>>8&255,c[g++]=o&255}else for(c[g++]=o&255,c[g++]=o>>>8&255,c[g++]=o>>>16&255,c[g++]=o>>>24&255,c[g++]=0,c[g++]=0,c[g++]=0,c[g++]=0,f=8;f<this.padLength;f++)c[g++]=0;return c}},52344:(b,$,w)=>{"use strict";var _=w(26436),D=w(79746);function x(S,o,l){if(!(this instanceof x))return new x(S,o,l);this.Hash=S,this.blockSize=S.blockSize/8,this.outSize=S.outSize/8,this.inner=null,this.outer=null,this._init(_.toArray(o,l))}b.exports=x,x.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),D(o.length<=this.blockSize);for(var l=o.length;l<this.blockSize;l++)o.push(0);for(l=0;l<o.length;l++)o[l]^=54;for(this.inner=new this.Hash().update(o),l=0;l<o.length;l++)o[l]^=106;this.outer=new this.Hash().update(o)},x.prototype.update=function(o,l){return this.inner.update(o,l),this},x.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},12949:(b,$,w)=>{"use strict";var _=w(26436),D=w(95772),x=_.rotl32,S=_.sum32,o=_.sum32_3,l=_.sum32_4,n=D.BlockHash;function c(){if(!(this instanceof c))return new c;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_.inherits(c,n),$.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(A,R){for(var O=this.h[0],V=this.h[1],Y=this.h[2],ee=this.h[3],re=this.h[4],ie=O,ne=V,ue=Y,W=ee,T=re,L=0;L<80;L++){var C=S(x(l(O,g(L,V,Y,ee),A[E[L]+R],f(L)),h[L]),re);O=re,re=ee,ee=x(Y,10),Y=V,V=C,C=S(x(l(ie,g(79-L,ne,ue,W),A[d[L]+R],u(L)),v[L]),T),ie=T,T=W,W=x(ue,10),ue=ne,ne=C}C=o(this.h[1],Y,W),this.h[1]=o(this.h[2],ee,T),this.h[2]=o(this.h[3],re,ie),this.h[3]=o(this.h[4],O,ne),this.h[4]=o(this.h[0],V,ue),this.h[0]=C},c.prototype._digest=function(A){return A==="hex"?_.toHex32(this.h,"little"):_.split32(this.h,"little")};function g(k,A,R,O){return k<=15?A^R^O:k<=31?A&R|~A&O:k<=47?(A|~R)^O:k<=63?A&O|R&~O:A^(R|~O)}function f(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function u(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}var E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(b,$,w)=>{"use strict";$.sha1=w(84761),$.sha224=w(10799),$.sha256=w(89344),$.sha384=w(80772),$.sha512=w(45900)},84761:(b,$,w)=>{"use strict";var _=w(26436),D=w(95772),x=w(37038),S=_.rotl32,o=_.sum32,l=_.sum32_5,n=x.ft_1,c=D.BlockHash,g=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_.inherits(f,c),b.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(E,d){for(var h=this.W,v=0;v<16;v++)h[v]=E[d+v];for(;v<h.length;v++)h[v]=S(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);var k=this.h[0],A=this.h[1],R=this.h[2],O=this.h[3],V=this.h[4];for(v=0;v<h.length;v++){var Y=~~(v/20),ee=l(S(k,5),n(Y,A,R,O),V,h[v],g[Y]);V=O,O=R,R=S(A,30),A=k,k=ee}this.h[0]=o(this.h[0],k),this.h[1]=o(this.h[1],A),this.h[2]=o(this.h[2],R),this.h[3]=o(this.h[3],O),this.h[4]=o(this.h[4],V)},f.prototype._digest=function(E){return E==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}},10799:(b,$,w)=>{"use strict";var _=w(26436),D=w(89344);function x(){if(!(this instanceof x))return new x;D.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_.inherits(x,D),b.exports=x,x.blockSize=512,x.outSize=224,x.hmacStrength=192,x.padLength=64,x.prototype._digest=function(o){return o==="hex"?_.toHex32(this.h.slice(0,7),"big"):_.split32(this.h.slice(0,7),"big")}},89344:(b,$,w)=>{"use strict";var _=w(26436),D=w(95772),x=w(37038),S=w(79746),o=_.sum32,l=_.sum32_4,n=_.sum32_5,c=x.ch32,g=x.maj32,f=x.s0_256,u=x.s1_256,E=x.g0_256,d=x.g1_256,h=D.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}_.inherits(k,h),b.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(R,O){for(var V=this.W,Y=0;Y<16;Y++)V[Y]=R[O+Y];for(;Y<V.length;Y++)V[Y]=l(d(V[Y-2]),V[Y-7],E(V[Y-15]),V[Y-16]);var ee=this.h[0],re=this.h[1],ie=this.h[2],ne=this.h[3],ue=this.h[4],W=this.h[5],T=this.h[6],L=this.h[7];for(S(this.k.length===V.length),Y=0;Y<V.length;Y++){var C=n(L,u(ue),c(ue,W,T),this.k[Y],V[Y]),s=o(f(ee),g(ee,re,ie));L=T,T=W,W=ue,ue=o(ne,C),ne=ie,ie=re,re=ee,ee=o(C,s)}this.h[0]=o(this.h[0],ee),this.h[1]=o(this.h[1],re),this.h[2]=o(this.h[2],ie),this.h[3]=o(this.h[3],ne),this.h[4]=o(this.h[4],ue),this.h[5]=o(this.h[5],W),this.h[6]=o(this.h[6],T),this.h[7]=o(this.h[7],L)},k.prototype._digest=function(R){return R==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}},80772:(b,$,w)=>{"use strict";var _=w(26436),D=w(45900);function x(){if(!(this instanceof x))return new x;D.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_.inherits(x,D),b.exports=x,x.blockSize=1024,x.outSize=384,x.hmacStrength=192,x.padLength=128,x.prototype._digest=function(o){return o==="hex"?_.toHex32(this.h.slice(0,12),"big"):_.split32(this.h.slice(0,12),"big")}},45900:(b,$,w)=>{"use strict";var _=w(26436),D=w(95772),x=w(79746),S=_.rotr64_hi,o=_.rotr64_lo,l=_.shr64_hi,n=_.shr64_lo,c=_.sum64,g=_.sum64_hi,f=_.sum64_lo,u=_.sum64_4_hi,E=_.sum64_4_lo,d=_.sum64_5_hi,h=_.sum64_5_lo,v=D.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}_.inherits(A,v),b.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(s,m){for(var N=this.W,I=0;I<32;I++)N[I]=s[m+I];for(;I<N.length;I+=2){var F=T(N[I-4],N[I-3]),P=L(N[I-4],N[I-3]),j=N[I-14],G=N[I-13],y=ue(N[I-30],N[I-29]),H=W(N[I-30],N[I-29]),fe=N[I-32],ve=N[I-31];N[I]=u(F,P,j,G,y,H,fe,ve),N[I+1]=E(F,P,j,G,y,H,fe,ve)}},A.prototype._update=function(s,m){this._prepareBlock(s,m);var N=this.W,I=this.h[0],F=this.h[1],P=this.h[2],j=this.h[3],G=this.h[4],y=this.h[5],H=this.h[6],fe=this.h[7],ve=this.h[8],ye=this.h[9],Ee=this.h[10],J=this.h[11],Z=this.h[12],ce=this.h[13],me=this.h[14],be=this.h[15];x(this.k.length===N.length);for(var q=0;q<N.length;q+=2){var U=me,oe=be,ge=ie(ve,ye),Me=ne(ve,ye),he=R(ve,ye,Ee,J,Z,ce),Te=O(ve,ye,Ee,J,Z,ce),Ae=this.k[q],Ce=this.k[q+1],ut=N[q],qe=N[q+1],De=d(U,oe,ge,Me,he,Te,Ae,Ce,ut,qe),lt=h(U,oe,ge,Me,he,Te,Ae,Ce,ut,qe);U=ee(I,F),oe=re(I,F),ge=V(I,F,P,j,G,y),Me=Y(I,F,P,j,G,y);var se=g(U,oe,ge,Me),Q=f(U,oe,ge,Me);me=Z,be=ce,Z=Ee,ce=J,Ee=ve,J=ye,ve=g(H,fe,De,lt),ye=f(fe,fe,De,lt),H=G,fe=y,G=P,y=j,P=I,j=F,I=g(De,lt,se,Q),F=f(De,lt,se,Q)}c(this.h,0,I,F),c(this.h,2,P,j),c(this.h,4,G,y),c(this.h,6,H,fe),c(this.h,8,ve,ye),c(this.h,10,Ee,J),c(this.h,12,Z,ce),c(this.h,14,me,be)},A.prototype._digest=function(s){return s==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")};function R(C,s,m,N,I){var F=C&m^~C&I;return F<0&&(F+=4294967296),F}function O(C,s,m,N,I,F){var P=s&N^~s&F;return P<0&&(P+=4294967296),P}function V(C,s,m,N,I){var F=C&m^C&I^m&I;return F<0&&(F+=4294967296),F}function Y(C,s,m,N,I,F){var P=s&N^s&F^N&F;return P<0&&(P+=4294967296),P}function ee(C,s){var m=S(C,s,28),N=S(s,C,2),I=S(s,C,7),F=m^N^I;return F<0&&(F+=4294967296),F}function re(C,s){var m=o(C,s,28),N=o(s,C,2),I=o(s,C,7),F=m^N^I;return F<0&&(F+=4294967296),F}function ie(C,s){var m=S(C,s,14),N=S(C,s,18),I=S(s,C,9),F=m^N^I;return F<0&&(F+=4294967296),F}function ne(C,s){var m=o(C,s,14),N=o(C,s,18),I=o(s,C,9),F=m^N^I;return F<0&&(F+=4294967296),F}function ue(C,s){var m=S(C,s,1),N=S(C,s,8),I=l(C,s,7),F=m^N^I;return F<0&&(F+=4294967296),F}function W(C,s){var m=o(C,s,1),N=o(C,s,8),I=n(C,s,7),F=m^N^I;return F<0&&(F+=4294967296),F}function T(C,s){var m=S(C,s,19),N=S(s,C,29),I=l(C,s,6),F=m^N^I;return F<0&&(F+=4294967296),F}function L(C,s){var m=o(C,s,19),N=o(s,C,29),I=n(C,s,6),F=m^N^I;return F<0&&(F+=4294967296),F}},37038:(b,$,w)=>{"use strict";var _=w(26436),D=_.rotr32;function x(u,E,d,h){if(u===0)return S(E,d,h);if(u===1||u===3)return l(E,d,h);if(u===2)return o(E,d,h)}$.ft_1=x;function S(u,E,d){return u&E^~u&d}$.ch32=S;function o(u,E,d){return u&E^u&d^E&d}$.maj32=o;function l(u,E,d){return u^E^d}$.p32=l;function n(u){return D(u,2)^D(u,13)^D(u,22)}$.s0_256=n;function c(u){return D(u,6)^D(u,11)^D(u,25)}$.s1_256=c;function g(u){return D(u,7)^D(u,18)^u>>>3}$.g0_256=g;function f(u){return D(u,17)^D(u,19)^u>>>10}$.g1_256=f},26436:(b,$,w)=>{"use strict";var _=w(79746),D=w(35717);$.inherits=D;function x(L,C){return(L.charCodeAt(C)&64512)!=55296||C<0||C+1>=L.length?!1:(L.charCodeAt(C+1)&64512)==56320}function S(L,C){if(Array.isArray(L))return L.slice();if(!L)return[];var s=[];if(typeof L=="string")if(C){if(C==="hex")for(L=L.replace(/[^a-z0-9]+/ig,""),L.length%2!=0&&(L="0"+L),N=0;N<L.length;N+=2)s.push(parseInt(L[N]+L[N+1],16))}else for(var m=0,N=0;N<L.length;N++){var I=L.charCodeAt(N);I<128?s[m++]=I:I<2048?(s[m++]=I>>6|192,s[m++]=I&63|128):x(L,N)?(I=65536+((I&1023)<<10)+(L.charCodeAt(++N)&1023),s[m++]=I>>18|240,s[m++]=I>>12&63|128,s[m++]=I>>6&63|128,s[m++]=I&63|128):(s[m++]=I>>12|224,s[m++]=I>>6&63|128,s[m++]=I&63|128)}else for(N=0;N<L.length;N++)s[N]=L[N]|0;return s}$.toArray=S;function o(L){for(var C="",s=0;s<L.length;s++)C+=c(L[s].toString(16));return C}$.toHex=o;function l(L){var C=L>>>24|L>>>8&65280|L<<8&16711680|(L&255)<<24;return C>>>0}$.htonl=l;function n(L,C){for(var s="",m=0;m<L.length;m++){var N=L[m];C==="little"&&(N=l(N)),s+=g(N.toString(16))}return s}$.toHex32=n;function c(L){return L.length===1?"0"+L:L}$.zero2=c;function g(L){return L.length===7?"0"+L:L.length===6?"00"+L:L.length===5?"000"+L:L.length===4?"0000"+L:L.length===3?"00000"+L:L.length===2?"000000"+L:L.length===1?"0000000"+L:L}$.zero8=g;function f(L,C,s,m){var N=s-C;_(N%4==0);for(var I=new Array(N/4),F=0,P=C;F<I.length;F++,P+=4){var j;m==="big"?j=L[P]<<24|L[P+1]<<16|L[P+2]<<8|L[P+3]:j=L[P+3]<<24|L[P+2]<<16|L[P+1]<<8|L[P],I[F]=j>>>0}return I}$.join32=f;function u(L,C){for(var s=new Array(L.length*4),m=0,N=0;m<L.length;m++,N+=4){var I=L[m];C==="big"?(s[N]=I>>>24,s[N+1]=I>>>16&255,s[N+2]=I>>>8&255,s[N+3]=I&255):(s[N+3]=I>>>24,s[N+2]=I>>>16&255,s[N+1]=I>>>8&255,s[N]=I&255)}return s}$.split32=u;function E(L,C){return L>>>C|L<<32-C}$.rotr32=E;function d(L,C){return L<<C|L>>>32-C}$.rotl32=d;function h(L,C){return L+C>>>0}$.sum32=h;function v(L,C,s){return L+C+s>>>0}$.sum32_3=v;function k(L,C,s,m){return L+C+s+m>>>0}$.sum32_4=k;function A(L,C,s,m,N){return L+C+s+m+N>>>0}$.sum32_5=A;function R(L,C,s,m){var N=L[C],I=L[C+1],F=m+I>>>0,P=(F<m?1:0)+s+N;L[C]=P>>>0,L[C+1]=F}$.sum64=R;function O(L,C,s,m){var N=C+m>>>0,I=(N<C?1:0)+L+s;return I>>>0}$.sum64_hi=O;function V(L,C,s,m){var N=C+m;return N>>>0}$.sum64_lo=V;function Y(L,C,s,m,N,I,F,P){var j=0,G=C;G=G+m>>>0,j+=G<C?1:0,G=G+I>>>0,j+=G<I?1:0,G=G+P>>>0,j+=G<P?1:0;var y=L+s+N+F+j;return y>>>0}$.sum64_4_hi=Y;function ee(L,C,s,m,N,I,F,P){var j=C+m+I+P;return j>>>0}$.sum64_4_lo=ee;function re(L,C,s,m,N,I,F,P,j,G){var y=0,H=C;H=H+m>>>0,y+=H<C?1:0,H=H+I>>>0,y+=H<I?1:0,H=H+P>>>0,y+=H<P?1:0,H=H+G>>>0,y+=H<G?1:0;var fe=L+s+N+F+j+y;return fe>>>0}$.sum64_5_hi=re;function ie(L,C,s,m,N,I,F,P,j,G){var y=C+m+I+P+G;return y>>>0}$.sum64_5_lo=ie;function ne(L,C,s){var m=C<<32-s|L>>>s;return m>>>0}$.rotr64_hi=ne;function ue(L,C,s){var m=L<<32-s|C>>>s;return m>>>0}$.rotr64_lo=ue;function W(L,C,s){return L>>>s}$.shr64_hi=W;function T(L,C,s){var m=L<<32-s|C>>>s;return m>>>0}$.shr64_lo=T},2156:(b,$,w)=>{"use strict";var _=w(33715),D=w(34504),x=w(79746);function S(o){if(!(this instanceof S))return new S(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=D.toArray(o.entropy,o.entropyEnc||"hex"),n=D.toArray(o.nonce,o.nonceEnc||"hex"),c=D.toArray(o.pers,o.persEnc||"hex");x(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,n,c)}b.exports=S,S.prototype._init=function(l,n,c){var g=l.concat(n).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(g),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new _.hmac(this.hash,this.K)},S.prototype._update=function(l){var n=this._hmac().update(this.V).update([0]);l&&(n=n.update(l)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),!!l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(l,n,c,g){typeof n!="string"&&(g=c,c=n,n=null),l=D.toArray(l,n),c=D.toArray(c,g),x(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(c||[])),this._reseed=1},S.prototype.generate=function(l,n,c,g){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(g=c,c=n,n=null),c&&(c=D.toArray(c,g||"hex"),this._update(c));for(var f=[];f.length<l;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var u=f.slice(0,l);return this._update(c),this._reseed++,D.encode(u,n)}},80645:(b,$)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$.read=function(w,_,D,x,S){var o,l,n=S*8-x-1,c=(1<<n)-1,g=c>>1,f=-7,u=D?S-1:0,E=D?-1:1,d=w[_+u];for(u+=E,o=d&(1<<-f)-1,d>>=-f,f+=n;f>0;o=o*256+w[_+u],u+=E,f-=8);for(l=o&(1<<-f)-1,o>>=-f,f+=x;f>0;l=l*256+w[_+u],u+=E,f-=8);if(o===0)o=1-g;else{if(o===c)return l?NaN:(d?-1:1)*Infinity;l=l+Math.pow(2,x),o=o-g}return(d?-1:1)*l*Math.pow(2,o-x)},$.write=function(w,_,D,x,S,o){var l,n,c,g=o*8-S-1,f=(1<<g)-1,u=f>>1,E=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=x?0:o-1,h=x?1:-1,v=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===Infinity?(n=isNaN(_)?1:0,l=f):(l=Math.floor(Math.log(_)/Math.LN2),_*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+u>=1?_+=E/c:_+=E*Math.pow(2,1-u),_*c>=2&&(l++,c/=2),l+u>=f?(n=0,l=f):l+u>=1?(n=(_*c-1)*Math.pow(2,S),l=l+u):(n=_*Math.pow(2,u-1)*Math.pow(2,S),l=0));S>=8;w[D+d]=n&255,d+=h,n/=256,S-=8);for(l=l<<S|n,g+=S;g>0;w[D+d]=l&255,d+=h,l/=256,g-=8);w[D+d-h]|=v*128}},35717:b=>{typeof Object.create=="function"?b.exports=function(w,_){_&&(w.super_=_,w.prototype=Object.create(_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(w,_){if(_){w.super_=_;var D=function(){};D.prototype=_.prototype,w.prototype=new D,w.prototype.constructor=w}}},82584:(b,$,w)=>{"use strict";var _=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",D=w(21924),x=D("Object.prototype.toString"),S=function(c){return _&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:x(c)==="[object Arguments]"},o=function(c){return S(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&x(c)!=="[object Array]"&&x(c.callee)==="[object Function]"},l=function(){return S(arguments)}();S.isLegacyArguments=o,b.exports=l?S:o},48662:b=>{"use strict";var $=Object.prototype.toString,w=Function.prototype.toString,_=/^\s*(?:function)?\*/,D=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",x=Object.getPrototypeOf,S=function(){if(!D)return!1;try{return Function("return function*() {}")()}catch(l){}},o;b.exports=function(n){if(typeof n!="function")return!1;if(_.test(w.call(n)))return!0;if(!D){var c=$.call(n);return c==="[object GeneratorFunction]"}if(!x)return!1;if(typeof o=="undefined"){var g=S();o=g?x(g):!1}return x(n)===o}},85692:(b,$,w)=>{"use strict";var _=w(49804),D=w(16314),x=w(21924),S=x("Object.prototype.toString"),o=w(41405)(),l=o&&typeof Symbol.toStringTag=="symbol",n=D(),c=x("Array.prototype.indexOf",!0)||function(v,k){for(var A=0;A<v.length;A+=1)if(v[A]===k)return A;return-1},g=x("String.prototype.slice"),f={},u=w(94079),E=Object.getPrototypeOf;l&&u&&E&&_(n,function(h){var v=new w.g[h];if(!(Symbol.toStringTag in v))throw new EvalError("this engine has support for Symbol.toStringTag, but "+h+" does not have the property! Please report this.");var k=E(v),A=u(k,Symbol.toStringTag);if(!A){var R=E(k);A=u(R,Symbol.toStringTag)}f[h]=A.get});var d=function(v){var k=!1;return _(f,function(A,R){if(!k)try{k=A.call(v)===R}catch(O){}}),k};b.exports=function(v){if(!v||typeof v!="object")return!1;if(!l){var k=g(S(v),8,-1);return c(n,k)>-1}return u?d(v):!1}},39593:(b,$,w)=>{"use strict";const _=w(34411),D=Symbol("max"),x=Symbol("length"),S=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),n=Symbol("dispose"),c=Symbol("noDisposeOnSet"),g=Symbol("lruList"),f=Symbol("cache"),u=Symbol("updateAgeOnGet"),E=()=>1;class d{constructor(Y){if(typeof Y=="number"&&(Y={max:Y}),Y||(Y={}),Y.max&&(typeof Y.max!="number"||Y.max<0))throw new TypeError("max must be a non-negative number");const ee=this[D]=Y.max||Infinity,re=Y.length||E;if(this[S]=typeof re!="function"?E:re,this[o]=Y.stale||!1,Y.maxAge&&typeof Y.maxAge!="number")throw new TypeError("maxAge must be a number");this[l]=Y.maxAge||0,this[n]=Y.dispose,this[c]=Y.noDisposeOnSet||!1,this[u]=Y.updateAgeOnGet||!1,this.reset()}set max(Y){if(typeof Y!="number"||Y<0)throw new TypeError("max must be a non-negative number");this[D]=Y||Infinity,k(this)}get max(){return this[D]}set allowStale(Y){this[o]=!!Y}get allowStale(){return this[o]}set maxAge(Y){if(typeof Y!="number")throw new TypeError("maxAge must be a non-negative number");this[l]=Y,k(this)}get maxAge(){return this[l]}set lengthCalculator(Y){typeof Y!="function"&&(Y=E),Y!==this[S]&&(this[S]=Y,this[x]=0,this[g].forEach(ee=>{ee.length=this[S](ee.value,ee.key),this[x]+=ee.length})),k(this)}get lengthCalculator(){return this[S]}get length(){return this[x]}get itemCount(){return this[g].length}rforEach(Y,ee){ee=ee||this;for(let re=this[g].tail;re!==null;){const ie=re.prev;O(this,Y,re,ee),re=ie}}forEach(Y,ee){ee=ee||this;for(let re=this[g].head;re!==null;){const ie=re.next;O(this,Y,re,ee),re=ie}}keys(){return this[g].toArray().map(Y=>Y.key)}values(){return this[g].toArray().map(Y=>Y.value)}reset(){this[n]&&this[g]&&this[g].length&&this[g].forEach(Y=>this[n](Y.key,Y.value)),this[f]=new Map,this[g]=new _,this[x]=0}dump(){return this[g].map(Y=>v(this,Y)?!1:{k:Y.key,v:Y.value,e:Y.now+(Y.maxAge||0)}).toArray().filter(Y=>Y)}dumpLru(){return this[g]}set(Y,ee,re){if(re=re||this[l],re&&typeof re!="number")throw new TypeError("maxAge must be a number");const ie=re?Date.now():0,ne=this[S](ee,Y);if(this[f].has(Y)){if(ne>this[D])return A(this,this[f].get(Y)),!1;const T=this[f].get(Y).value;return this[n]&&(this[c]||this[n](Y,T.value)),T.now=ie,T.maxAge=re,T.value=ee,this[x]+=ne-T.length,T.length=ne,this.get(Y),k(this),!0}const ue=new R(Y,ee,ne,ie,re);return ue.length>this[D]?(this[n]&&this[n](Y,ee),!1):(this[x]+=ue.length,this[g].unshift(ue),this[f].set(Y,this[g].head),k(this),!0)}has(Y){if(!this[f].has(Y))return!1;const ee=this[f].get(Y).value;return!v(this,ee)}get(Y){return h(this,Y,!0)}peek(Y){return h(this,Y,!1)}pop(){const Y=this[g].tail;return Y?(A(this,Y),Y.value):null}del(Y){A(this,this[f].get(Y))}load(Y){this.reset();const ee=Date.now();for(let re=Y.length-1;re>=0;re--){const ie=Y[re],ne=ie.e||0;if(ne===0)this.set(ie.k,ie.v);else{const ue=ne-ee;ue>0&&this.set(ie.k,ie.v,ue)}}}prune(){this[f].forEach((Y,ee)=>h(this,ee,!1))}}const h=(V,Y,ee)=>{const re=V[f].get(Y);if(re){const ie=re.value;if(v(V,ie)){if(A(V,re),!V[o])return}else ee&&(V[u]&&(re.value.now=Date.now()),V[g].unshiftNode(re));return ie.value}},v=(V,Y)=>{if(!Y||!Y.maxAge&&!V[l])return!1;const ee=Date.now()-Y.now;return Y.maxAge?ee>Y.maxAge:V[l]&&ee>V[l]},k=V=>{if(V[x]>V[D])for(let Y=V[g].tail;V[x]>V[D]&&Y!==null;){const ee=Y.prev;A(V,Y),Y=ee}},A=(V,Y)=>{if(Y){const ee=Y.value;V[n]&&V[n](ee.key,ee.value),V[x]-=ee.length,V[f].delete(ee.key),V[g].removeNode(Y)}};class R{constructor(Y,ee,re,ie,ne){this.key=Y,this.value=ee,this.length=re,this.now=ie,this.maxAge=ne||0}}const O=(V,Y,ee,re)=>{let ie=ee.value;v(V,ie)&&(A(V,ee),V[o]||(ie=void 0)),ie&&Y.call(re,ie.value,ie.key,V)};b.exports=d},17468:(b,$,w)=>{const _=w(59930),{defaults:D}=w(58644),{inline:x}=w(59709),{findClosingBracket:S,escape:o}=w(90621);b.exports=class an{constructor(n,c){if(this.options=c||D,this.links=n,this.rules=x.normal,this.options.renderer=this.options.renderer||new _,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=x.pedantic:this.options.gfm&&(this.options.breaks?this.rules=x.breaks:this.rules=x.gfm)}static get rules(){return x}static output(n,c,g){return new an(c,g).output(n)}output(n){let c="",g,f,u,E,d,h;for(;n;){if(d=this.rules.escape.exec(n)){n=n.substring(d[0].length),c+=o(d[1]);continue}if(d=this.rules.tag.exec(n)){!this.inLink&&/^<a /i.test(d[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(d[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(d[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(d[0])&&(this.inRawBlock=!1),n=n.substring(d[0].length),c+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):o(d[0]):d[0]);continue}if(d=this.rules.link.exec(n)){const v=S(d[2],"()");if(v>-1){const A=(d[0].indexOf("!")===0?5:4)+d[1].length+v;d[2]=d[2].substring(0,v),d[0]=d[0].substring(0,A).trim(),d[3]=""}n=n.substring(d[0].length),this.inLink=!0,u=d[2],this.options.pedantic?(g=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(u),g?(u=g[1],E=g[3]):E=""):E=d[3]?d[3].slice(1,-1):"",u=u.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(d,{href:an.escapes(u),title:an.escapes(E)}),this.inLink=!1;continue}if((d=this.rules.reflink.exec(n))||(d=this.rules.nolink.exec(n))){if(n=n.substring(d[0].length),g=(d[2]||d[1]).replace(/\s+/g," "),g=this.links[g.toLowerCase()],!g||!g.href){c+=d[0].charAt(0),n=d[0].substring(1)+n;continue}this.inLink=!0,c+=this.outputLink(d,g),this.inLink=!1;continue}if(d=this.rules.strong.exec(n)){n=n.substring(d[0].length),c+=this.renderer.strong(this.output(d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.em.exec(n)){n=n.substring(d[0].length),c+=this.renderer.em(this.output(d[6]||d[5]||d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.code.exec(n)){n=n.substring(d[0].length),c+=this.renderer.codespan(o(d[2].trim(),!0));continue}if(d=this.rules.br.exec(n)){n=n.substring(d[0].length),c+=this.renderer.br();continue}if(d=this.rules.del.exec(n)){n=n.substring(d[0].length),c+=this.renderer.del(this.output(d[1]));continue}if(d=this.rules.autolink.exec(n)){n=n.substring(d[0].length),d[2]==="@"?(f=o(this.mangle(d[1])),u="mailto:"+f):(f=o(d[1]),u=f),c+=this.renderer.link(u,null,f);continue}if(!this.inLink&&(d=this.rules.url.exec(n))){if(d[2]==="@")f=o(d[0]),u="mailto:"+f;else{do h=d[0],d[0]=this.rules._backpedal.exec(d[0])[0];while(h!==d[0]);f=o(d[0]),d[1]==="www."?u="http://"+f:u=f}n=n.substring(d[0].length),c+=this.renderer.link(u,null,f);continue}if(d=this.rules.text.exec(n)){n=n.substring(d[0].length),this.inRawBlock?c+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):o(d[0]):d[0]):c+=this.renderer.text(o(this.smartypants(d[0])));continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}return c}static escapes(n){return n&&n.replace(an.rules._escapes,"$1")}outputLink(n,c){const g=c.href,f=c.title?o(c.title):null;return n[0].charAt(0)!=="!"?this.renderer.link(g,f,this.output(n[1])):this.renderer.image(g,f,o(n[1]))}smartypants(n){return this.options.smartypants?n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):n}mangle(n){if(!this.options.mangle)return n;const c=n.length;let g="",f=0,u;for(;f<c;f++)u=n.charCodeAt(f),Math.random()>.5&&(u="x"+u.toString(16)),g+="&#"+u+";";return g}}},71092:(b,$,w)=>{const{defaults:_}=w(58644),{block:D}=w(59709),{rtrim:x,splitCells:S,escape:o}=w(90621);b.exports=class ll{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||_,this.rules=D.normal,this.options.pedantic?this.rules=D.pedantic:this.options.gfm&&(this.rules=D.gfm)}static get rules(){return D}static lex(n,c){return new ll(c).lex(n)}lex(n){return n=n.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.token(n,!0)}token(n,c){n=n.replace(/^ +$/gm,"");let g,f,u,E,d,h,v,k,A,R,O,V,Y,ee,re,ie;for(;n;){if((u=this.rules.newline.exec(n))&&(n=n.substring(u[0].length),u[0].length>1&&this.tokens.push({type:"space"})),u=this.rules.code.exec(n)){const ne=this.tokens[this.tokens.length-1];n=n.substring(u[0].length),ne&&ne.type==="paragraph"?ne.text+=`
`+u[0].trimRight():(u=u[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?u:x(u,`
`)}));continue}if(u=this.rules.fences.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"code",lang:u[2]?u[2].trim():u[2],text:u[3]||""});continue}if(u=this.rules.heading.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"heading",depth:u[1].length,text:u[2]});continue}if((u=this.rules.nptable.exec(n))&&(h={type:"table",header:S(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split(`
`):[]},h.header.length===h.align.length)){for(n=n.substring(u[0].length),O=0;O<h.align.length;O++)/^ *-+: *$/.test(h.align[O])?h.align[O]="right":/^ *:-+: *$/.test(h.align[O])?h.align[O]="center":/^ *:-+ *$/.test(h.align[O])?h.align[O]="left":h.align[O]=null;for(O=0;O<h.cells.length;O++)h.cells[O]=S(h.cells[O],h.header.length);this.tokens.push(h);continue}if(u=this.rules.hr.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"hr"});continue}if(u=this.rules.blockquote.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"blockquote_start"}),u=u[0].replace(/^ *> ?/gm,""),this.token(u,c),this.tokens.push({type:"blockquote_end"});continue}if(u=this.rules.list.exec(n)){for(n=n.substring(u[0].length),E=u[2],ee=E.length>1,v={type:"list_start",ordered:ee,start:ee?+E:"",loose:!1},this.tokens.push(v),u=u[0].match(this.rules.item),k=[],g=!1,Y=u.length,O=0;O<Y;O++)h=u[O],R=h.length,h=h.replace(/^ *([*+-]|\d+\.) */,""),~h.indexOf(`
 `)&&(R-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+R+"}","gm"),"")),O!==Y-1&&(d=D.bullet.exec(u[O+1])[0],(E.length>1?d.length===1:d.length>1||this.options.smartLists&&d!==E)&&(n=u.slice(O+1).join(`
`)+n,O=Y-1)),f=g||/\n\n(?!\s*$)/.test(h),O!==Y-1&&(g=h.charAt(h.length-1)===`
`,f||(f=g)),f&&(v.loose=!0),re=/^\[[ xX]\] /.test(h),ie=void 0,re&&(ie=h[1]!==" ",h=h.replace(/^\[[ xX]\] +/,"")),A={type:"list_item_start",task:re,checked:ie,loose:f},k.push(A),this.tokens.push(A),this.token(h,!1),this.tokens.push({type:"list_item_end"});if(v.loose)for(Y=k.length,O=0;O<Y;O++)k[O].loose=!0;this.tokens.push({type:"list_end"});continue}if(u=this.rules.html.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(u[1]==="pre"||u[1]==="script"||u[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):o(u[0]):u[0]});continue}if(c&&(u=this.rules.def.exec(n))){n=n.substring(u[0].length),u[3]&&(u[3]=u[3].substring(1,u[3].length-1)),V=u[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[V]||(this.tokens.links[V]={href:u[2],title:u[3]});continue}if((u=this.rules.table.exec(n))&&(h={type:"table",header:S(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split(`
`):[]},h.header.length===h.align.length)){for(n=n.substring(u[0].length),O=0;O<h.align.length;O++)/^ *-+: *$/.test(h.align[O])?h.align[O]="right":/^ *:-+: *$/.test(h.align[O])?h.align[O]="center":/^ *:-+ *$/.test(h.align[O])?h.align[O]="left":h.align[O]=null;for(O=0;O<h.cells.length;O++)h.cells[O]=S(h.cells[O].replace(/^ *\| *| *\| *$/g,""),h.header.length);this.tokens.push(h);continue}if(u=this.rules.lheading.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"heading",depth:u[2].charAt(0)==="="?1:2,text:u[1]});continue}if(c&&(u=this.rules.paragraph.exec(n))){n=n.substring(u[0].length),this.tokens.push({type:"paragraph",text:u[1].charAt(u[1].length-1)===`
`?u[1].slice(0,-1):u[1]});continue}if(u=this.rules.text.exec(n)){n=n.substring(u[0].length),this.tokens.push({type:"text",text:u[0]});continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}return this.tokens}}},79170:(b,$,w)=>{const _=w(59930),D=w(1846),x=w(17468),S=w(41477),{defaults:o}=w(58644),{merge:l,unescape:n}=w(90621);b.exports=class cl{constructor(g){this.tokens=[],this.token=null,this.options=g||o,this.options.renderer=this.options.renderer||new _,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new D}static parse(g,f){return new cl(f).parse(g)}parse(g){this.inline=new x(g.links,this.options),this.inlineText=new x(g.links,l({},this.options,{renderer:new S})),this.tokens=g.reverse();let f="";for(;this.next();)f+=this.tok();return f}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let g=this.token.text;for(;this.peek().type==="text";)g+=`
`+this.next().text;return this.inline.output(g)}tok(){let g="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,n(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let f="",u,E,d,h;for(d="",u=0;u<this.token.header.length;u++)d+=this.renderer.tablecell(this.inline.output(this.token.header[u]),{header:!0,align:this.token.align[u]});for(f+=this.renderer.tablerow(d),u=0;u<this.token.cells.length;u++){for(E=this.token.cells[u],d="",h=0;h<E.length;h++)d+=this.renderer.tablecell(this.inline.output(E[h]),{header:!1,align:this.token.align[h]});g+=this.renderer.tablerow(d)}return this.renderer.table(f,g)}case"blockquote_start":{for(g="";this.next().type!=="blockquote_end";)g+=this.tok();return this.renderer.blockquote(g)}case"list_start":{g="";const f=this.token.ordered,u=this.token.start;for(;this.next().type!=="list_end";)g+=this.tok();return this.renderer.list(g,f,u)}case"list_item_start":{g="";const f=this.token.loose,u=this.token.checked,E=this.token.task;if(this.token.task)if(f)if(this.peek().type==="text"){const d=this.peek();d.text=this.renderer.checkbox(u)+" "+d.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(u)});else g+=this.renderer.checkbox(u);for(;this.next().type!=="list_item_end";)g+=!f&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(g,E,u)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const f='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(f);else throw new Error(f)}}}}},59930:(b,$,w)=>{const{defaults:_}=w(58644),{cleanUrl:D,escape:x}=w(90621);b.exports=class{constructor(o){this.options=o||_}code(o,l,n){const c=(l||"").match(/\S*/)[0];if(this.options.highlight){const g=this.options.highlight(o,c);g!=null&&g!==o&&(n=!0,o=g)}return c?'<pre><code class="'+this.options.langPrefix+x(c,!0)+'">'+(n?o:x(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:x(o,!0))+"</code></pre>"}blockquote(o){return`<blockquote>
`+o+`</blockquote>
`}html(o){return o}heading(o,l,n,c){return this.options.headerIds?"<h"+l+' id="'+this.options.headerPrefix+c.slug(n)+'">'+o+"</h"+l+`>
`:"<h"+l+">"+o+"</h"+l+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(o,l,n){const c=l?"ol":"ul",g=l&&n!==1?' start="'+n+'"':"";return"<"+c+g+`>
`+o+"</"+c+`>
`}listitem(o){return"<li>"+o+`</li>
`}checkbox(o){return"<input "+(o?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(o){return"<p>"+o+`</p>
`}table(o,l){return l&&(l="<tbody>"+l+"</tbody>"),`<table>
<thead>
`+o+`</thead>
`+l+`</table>
`}tablerow(o){return`<tr>
`+o+`</tr>
`}tablecell(o,l){const n=l.header?"th":"td";return(l.align?"<"+n+' align="'+l.align+'">':"<"+n+">")+o+"</"+n+`>
`}strong(o){return"<strong>"+o+"</strong>"}em(o){return"<em>"+o+"</em>"}codespan(o){return"<code>"+o+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(o){return"<del>"+o+"</del>"}link(o,l,n){if(o=D(this.options.sanitize,this.options.baseUrl,o),o===null)return n;let c='<a href="'+x(o)+'"';return l&&(c+=' title="'+l+'"'),c+=">"+n+"</a>",c}image(o,l,n){if(o=D(this.options.sanitize,this.options.baseUrl,o),o===null)return n;let c='<img src="'+o+'" alt="'+n+'"';return l&&(c+=' title="'+l+'"'),c+=this.options.xhtml?"/>":">",c}text(o){return o}}},1846:b=>{b.exports=class{constructor(){this.seen={}}slug(w){let _=w.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(_)){const D=_;do this.seen[D]++,_=D+"-"+this.seen[D];while(this.seen.hasOwnProperty(_))}return this.seen[_]=0,_}}},41477:b=>{b.exports=class{strong(w){return w}em(w){return w}codespan(w){return w}del(w){return w}html(w){return w}text(w){return w}link(w,_,D){return""+D}image(w,_,D){return""+D}br(){return""}}},58644:b=>{function $(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function w(_){b.exports.defaults=_}b.exports={defaults:$(),getDefaults:$,changeDefaults:w}},90621:b=>{const $=/[&<>"']/,w=/[&<>"']/g,_=/[<>"']|&(?!#?\w+;)/,D=/[<>"']|&(?!#?\w+;)/g,x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=ie=>x[ie];function o(ie,ne){if(ne){if($.test(ie))return ie.replace(w,S)}else if(_.test(ie))return ie.replace(D,S);return ie}const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function n(ie){return ie.replace(l,(ne,ue)=>(ue=ue.toLowerCase(),ue==="colon"?":":ue.charAt(0)==="#"?ue.charAt(1)==="x"?String.fromCharCode(parseInt(ue.substring(2),16)):String.fromCharCode(+ue.substring(1)):""))}const c=/(^|[^\[])\^/g;function g(ie,ne){ie=ie.source||ie,ne=ne||"";const ue={replace:(W,T)=>(T=T.source||T,T=T.replace(c,"$1"),ie=ie.replace(W,T),ue),getRegex:()=>new RegExp(ie,ne)};return ue}const f=/[^\w:]/g,u=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function E(ie,ne,ue){if(ie){let W;try{W=decodeURIComponent(n(ue)).replace(f,"").toLowerCase()}catch(T){return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}ne&&!u.test(ue)&&(ue=A(ne,ue));try{ue=encodeURI(ue).replace(/%25/g,"%")}catch(W){return null}return ue}const d={},h=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/;function A(ie,ne){d[" "+ie]||(h.test(ie)?d[" "+ie]=ie+"/":d[" "+ie]=Y(ie,"/",!0)),ie=d[" "+ie];const ue=ie.indexOf(":")===-1;return ne.substring(0,2)==="//"?ue?ne:ie.replace(v,"$1")+ne:ne.charAt(0)==="/"?ue?ne:ie.replace(k,"$1")+ne:ie+ne}const R={exec:function(){}};function O(ie){let ne=1,ue,W;for(;ne<arguments.length;ne++){ue=arguments[ne];for(W in ue)Object.prototype.hasOwnProperty.call(ue,W)&&(ie[W]=ue[W])}return ie}function V(ie,ne){const ue=ie.replace(/\|/g,(L,C,s)=>{let m=!1,N=C;for(;--N>=0&&s[N]==="\\";)m=!m;return m?"|":" |"}),W=ue.split(/ \|/);let T=0;if(W.length>ne)W.splice(ne);else for(;W.length<ne;)W.push("");for(;T<W.length;T++)W[T]=W[T].trim().replace(/\\\|/g,"|");return W}function Y(ie,ne,ue){const W=ie.length;if(W===0)return"";let T=0;for(;T<W;){const L=ie.charAt(W-T-1);if(L===ne&&!ue)T++;else if(L!==ne&&ue)T++;else break}return ie.substr(0,W-T)}function ee(ie,ne){if(ie.indexOf(ne[1])===-1)return-1;const ue=ie.length;let W=0,T=0;for(;T<ue;T++)if(ie[T]==="\\")T++;else if(ie[T]===ne[0])W++;else if(ie[T]===ne[1]&&(W--,W<0))return T;return-1}function re(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}b.exports={escape:o,unescape:n,edit:g,cleanUrl:E,resolveUrl:A,noopTest:R,merge:O,splitCells:V,rtrim:Y,findClosingBracket:ee,checkSanitizeDeprecation:re}},87228:(b,$,w)=>{const _=w(71092),D=w(79170),x=w(59930),S=w(41477),o=w(17468),l=w(1846),{merge:n,checkSanitizeDeprecation:c,escape:g}=w(90621),{getDefaults:f,changeDefaults:u,defaults:E}=w(58644);function d(h,v,k){if(typeof h=="undefined"||h===null)throw new Error("marked(): input parameter is undefined or null");if(typeof h!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(h)+", string expected");if(k||typeof v=="function"){k||(k=v,v=null),v=n({},d.defaults,v||{}),c(v);const A=v.highlight;let R,O,V=0;try{R=_.lex(h,v)}catch(ee){return k(ee)}O=R.length;const Y=function(ee){if(ee)return v.highlight=A,k(ee);let re;try{re=D.parse(R,v)}catch(ie){ee=ie}return v.highlight=A,ee?k(ee):k(null,re)};if(!A||A.length<3||(delete v.highlight,!O))return Y();for(;V<R.length;V++)(function(ee){return ee.type!=="code"?--O||Y():A(ee.text,ee.lang,function(re,ie){if(re)return Y(re);if(ie==null||ie===ee.text)return--O||Y();ee.text=ie,ee.escaped=!0,--O||Y()})})(R[V]);return}try{return v=n({},d.defaults,v||{}),c(v),D.parse(_.lex(h,v),v)}catch(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,(v||d.defaults).silent)return"<p>An error occurred:</p><pre>"+g(A.message+"",!0)+"</pre>";throw A}}d.options=d.setOptions=function(h){return n(d.defaults,h),u(d.defaults),d},d.getDefaults=f,d.defaults=E,d.Parser=D,d.parser=D.parse,d.Renderer=x,d.TextRenderer=S,d.Lexer=_,d.lexer=_.lex,d.InlineLexer=o,d.inlineLexer=o.output,d.Slugger=l,d.parse=d,b.exports=d},59709:(b,$,w)=>{const{noopTest:_,edit:D,merge:x}=w(90621),S={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:_,table:_,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,S.def=D(S.def).replace("label",S._label).replace("title",S._title).getRegex(),S.bullet=/(?:[*+-]|\d{1,9}\.)/,S.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,S.item=D(S.item,"gm").replace(/bull/g,S.bullet).getRegex(),S.list=D(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex(),S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S._comment=/<!--(?!-?>)[\s\S]*?-->/,S.html=D(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S.paragraph=D(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",S._tag).getRegex(),S.blockquote=D(S.blockquote).replace("paragraph",S.paragraph).getRegex(),S.normal=x({},S),S.gfm=x({},S.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),S.gfm.nptable=D(S.gfm.nptable).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",S._tag).getRegex(),S.gfm.table=D(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",S._tag).getRegex(),S.pedantic=x({},S.normal,{html:D(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:_,paragraph:D(S.normal._paragraph).replace("hr",S.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};o._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,o.em=D(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=D(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=D(o.tag).replace("comment",S._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=D(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=D(o.reflink).replace("label",o._label).getRegex(),o.normal=x({},o),o.pedantic=x({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:D(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:D(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=x({},o.normal,{escape:D(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=D(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=x({},o.gfm,{br:D(o.br).replace("{2,}","*").getRegex(),text:D(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),b.exports={block:S,inline:o}},62318:(b,$,w)=>{"use strict";var _=w(35717),D=w(3349),x=w(89509).Buffer,S=new Array(16);function o(){D.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_(o,D),o.prototype._update=function(){for(var u=S,E=0;E<16;++E)u[E]=this._block.readInt32LE(E*4);var d=this._a,h=this._b,v=this._c,k=this._d;d=n(d,h,v,k,u[0],3614090360,7),k=n(k,d,h,v,u[1],3905402710,12),v=n(v,k,d,h,u[2],606105819,17),h=n(h,v,k,d,u[3],3250441966,22),d=n(d,h,v,k,u[4],4118548399,7),k=n(k,d,h,v,u[5],1200080426,12),v=n(v,k,d,h,u[6],2821735955,17),h=n(h,v,k,d,u[7],4249261313,22),d=n(d,h,v,k,u[8],1770035416,7),k=n(k,d,h,v,u[9],2336552879,12),v=n(v,k,d,h,u[10],4294925233,17),h=n(h,v,k,d,u[11],2304563134,22),d=n(d,h,v,k,u[12],1804603682,7),k=n(k,d,h,v,u[13],4254626195,12),v=n(v,k,d,h,u[14],2792965006,17),h=n(h,v,k,d,u[15],1236535329,22),d=c(d,h,v,k,u[1],4129170786,5),k=c(k,d,h,v,u[6],3225465664,9),v=c(v,k,d,h,u[11],643717713,14),h=c(h,v,k,d,u[0],3921069994,20),d=c(d,h,v,k,u[5],3593408605,5),k=c(k,d,h,v,u[10],38016083,9),v=c(v,k,d,h,u[15],3634488961,14),h=c(h,v,k,d,u[4],3889429448,20),d=c(d,h,v,k,u[9],568446438,5),k=c(k,d,h,v,u[14],3275163606,9),v=c(v,k,d,h,u[3],4107603335,14),h=c(h,v,k,d,u[8],1163531501,20),d=c(d,h,v,k,u[13],2850285829,5),k=c(k,d,h,v,u[2],4243563512,9),v=c(v,k,d,h,u[7],1735328473,14),h=c(h,v,k,d,u[12],2368359562,20),d=g(d,h,v,k,u[5],4294588738,4),k=g(k,d,h,v,u[8],2272392833,11),v=g(v,k,d,h,u[11],1839030562,16),h=g(h,v,k,d,u[14],4259657740,23),d=g(d,h,v,k,u[1],2763975236,4),k=g(k,d,h,v,u[4],1272893353,11),v=g(v,k,d,h,u[7],4139469664,16),h=g(h,v,k,d,u[10],3200236656,23),d=g(d,h,v,k,u[13],681279174,4),k=g(k,d,h,v,u[0],3936430074,11),v=g(v,k,d,h,u[3],3572445317,16),h=g(h,v,k,d,u[6],76029189,23),d=g(d,h,v,k,u[9],3654602809,4),k=g(k,d,h,v,u[12],3873151461,11),v=g(v,k,d,h,u[15],530742520,16),h=g(h,v,k,d,u[2],3299628645,23),d=f(d,h,v,k,u[0],4096336452,6),k=f(k,d,h,v,u[7],1126891415,10),v=f(v,k,d,h,u[14],2878612391,15),h=f(h,v,k,d,u[5],4237533241,21),d=f(d,h,v,k,u[12],1700485571,6),k=f(k,d,h,v,u[3],2399980690,10),v=f(v,k,d,h,u[10],4293915773,15),h=f(h,v,k,d,u[1],2240044497,21),d=f(d,h,v,k,u[8],1873313359,6),k=f(k,d,h,v,u[15],4264355552,10),v=f(v,k,d,h,u[6],2734768916,15),h=f(h,v,k,d,u[13],1309151649,21),d=f(d,h,v,k,u[4],4149444226,6),k=f(k,d,h,v,u[11],3174756917,10),v=f(v,k,d,h,u[2],718787259,15),h=f(h,v,k,d,u[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+h|0,this._c=this._c+v|0,this._d=this._d+k|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=x.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function l(u,E){return u<<E|u>>>32-E}function n(u,E,d,h,v,k,A){return l(u+(E&d|~E&h)+v+k|0,A)+E|0}function c(u,E,d,h,v,k,A){return l(u+(E&h|d&~h)+v+k|0,A)+E|0}function g(u,E,d,h,v,k,A){return l(u+(E^d^h)+v+k|0,A)+E|0}function f(u,E,d,h,v,k,A){return l(u+(d^(E|~h))+v+k|0,A)+E|0}b.exports=o},63047:(b,$,w)=>{var _=w(13550),D=w(29931);function x(S){this.rand=S||new D.Rand}b.exports=x,x.create=function(o){return new x(o)},x.prototype._randbelow=function(o){var l=o.bitLength(),n=Math.ceil(l/8);do var c=new _(this.rand.generate(n));while(c.cmp(o)>=0);return c},x.prototype._randrange=function(o,l){var n=l.sub(o);return o.add(this._randbelow(n))},x.prototype.test=function(o,l,n){var c=o.bitLength(),g=_.mont(o),f=new _(1).toRed(g);l||(l=Math.max(1,c/48|0));for(var u=o.subn(1),E=0;!u.testn(E);E++);for(var d=o.shrn(E),h=u.toRed(g),v=!0;l>0;l--){var k=this._randrange(new _(2),u);n&&n(k);var A=k.toRed(g).redPow(d);if(!(A.cmp(f)===0||A.cmp(h)===0)){for(var R=1;R<E;R++){if(A=A.redSqr(),A.cmp(f)===0)return!1;if(A.cmp(h)===0)break}if(R===E)return!1}}return v},x.prototype.getDivisor=function(o,l){var n=o.bitLength(),c=_.mont(o),g=new _(1).toRed(c);l||(l=Math.max(1,n/48|0));for(var f=o.subn(1),u=0;!f.testn(u);u++);for(var E=o.shrn(u),d=f.toRed(c);l>0;l--){var h=this._randrange(new _(2),f),v=o.gcd(h);if(v.cmpn(1)!==0)return v;var k=h.toRed(c).redPow(E);if(!(k.cmp(g)===0||k.cmp(d)===0)){for(var A=1;A<u;A++){if(k=k.redSqr(),k.cmp(g)===0)return k.fromRed().subn(1).gcd(o);if(k.cmp(d)===0)break}if(A===u)return k=k.redSqr(),k.fromRed().subn(1).gcd(o)}}return!1}},79746:b=>{b.exports=$;function $(w,_){if(!w)throw new Error(_||"Assertion failed")}$.equal=function(_,D,x){if(_!=D)throw new Error(x||"Assertion failed: "+_+" != "+D)}},34504:(b,$)=>{"use strict";var w=$;function _(S,o){if(Array.isArray(S))return S.slice();if(!S)return[];var l=[];if(typeof S!="string"){for(var n=0;n<S.length;n++)l[n]=S[n]|0;return l}if(o==="hex"){S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!=0&&(S="0"+S);for(var n=0;n<S.length;n+=2)l.push(parseInt(S[n]+S[n+1],16))}else for(var n=0;n<S.length;n++){var c=S.charCodeAt(n),g=c>>8,f=c&255;g?l.push(g,f):l.push(f)}return l}w.toArray=_;function D(S){return S.length===1?"0"+S:S}w.zero2=D;function x(S){for(var o="",l=0;l<S.length;l++)o+=D(S[l].toString(16));return o}w.toHex=x,w.encode=function(o,l){return l==="hex"?x(o):o}},30778:(b,$,w)=>{var _=w(52479);b.exports=_(D),b.exports.strict=_(x),D.proto=D(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return D(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return x(this)},configurable:!0})});function D(S){var o=function(){return o.called?o.value:(o.called=!0,o.value=S.apply(this,arguments))};return o.called=!1,o}function x(S){var o=function(){if(o.called)throw new Error(o.onceError);return o.called=!0,o.value=S.apply(this,arguments)},l=S.name||"Function wrapped with `once`";return o.onceError=l+" shouldn't be called more than once",o.called=!1,o}},873:b=>{"use strict";b.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},52818:(b,$,w)=>{"use strict";var _=w(39809);$.certificate=w(41934);var D=_.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$.RSAPrivateKey=D;var x=_.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$.RSAPublicKey=x;var S=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});$.PublicKey=S;var o=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=_.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});$.PrivateKey=l;var n=_.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$.EncryptedPrivateKey=n;var c=_.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$.DSAPrivateKey=c,$.DSAparam=_.define("DSAparam",function(){this.int()});var g=_.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});$.ECPrivateKey=g;var f=_.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});$.signature=_.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},41934:(b,$,w)=>{"use strict";var _=w(39809),D=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),x=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),S=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(S),this.key("subjectPublicKey").bitstr())}),l=_.define("RelativeDistinguishedName",function(){this.setof(x)}),n=_.define("RDNSequence",function(){this.seqof(l)}),c=_.define("Name",function(){this.choice({rdnSequence:this.use(n)})}),g=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(D),this.key("notAfter").use(D))}),f=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(S),this.key("issuer").use(c),this.key("validity").use(g),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),E=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(S),this.key("signatureValue").bitstr())});b.exports=E},77631:(b,$,w)=>{var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,D=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,x=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,S=w(13048),o=w(44696),l=w(89509).Buffer;b.exports=function(n,c){var g=n.toString(),f=g.match(_),u;if(f){var d="aes"+f[1],h=l.from(f[2],"hex"),v=l.from(f[3].replace(/[\r\n]/g,""),"base64"),k=S(c,h.slice(0,8),parseInt(f[1],10)).key,A=[],R=o.createDecipheriv(d,k,h);A.push(R.update(v)),A.push(R.final()),u=l.concat(A)}else{var E=g.match(x);u=l.from(E[2].replace(/[\r\n]/g,""),"base64")}var O=g.match(D)[1];return{tag:O,data:u}}},70980:(b,$,w)=>{var _=w(52818),D=w(873),x=w(77631),S=w(44696),o=w(25632),l=w(89509).Buffer;b.exports=n;function n(g){var f;typeof g=="object"&&!l.isBuffer(g)&&(f=g.passphrase,g=g.key),typeof g=="string"&&(g=l.from(g));var u=x(g,f),E=u.tag,d=u.data,h,v;switch(E){case"CERTIFICATE":v=_.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=_.PublicKey.decode(d,"der")),h=v.algorithm.algorithm.join("."),h){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=_.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":d=_.EncryptedPrivateKey.decode(d,"der"),d=c(d,f);case"PRIVATE KEY":switch(v=_.PrivateKey.decode(d,"der"),h=v.algorithm.algorithm.join("."),h){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:_.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=_.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=_.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+E)}}n.signature=_.signature;function c(g,f){var u=g.algorithm.decrypt.kde.kdeparams.salt,E=parseInt(g.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=D[g.algorithm.decrypt.cipher.algo.join(".")],h=g.algorithm.decrypt.cipher.iv,v=g.subjectPrivateKey,k=parseInt(d.split("-")[1],10)/8,A=o.pbkdf2Sync(f,u,E,k,"sha1"),R=S.createDecipheriv(d,A,h),O=[];return O.push(R.update(v)),O.push(R.final()),l.concat(O)}},26470:(b,$,w)=>{"use strict";var _=w(34155);function D(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function x(l,n){for(var c="",g=0,f=-1,u=0,E,d=0;d<=l.length;++d){if(d<l.length)E=l.charCodeAt(d);else{if(E===47)break;E=47}if(E===47){if(!(f===d-1||u===1))if(f!==d-1&&u===2){if(c.length<2||g!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var h=c.lastIndexOf("/");if(h!==c.length-1){h===-1?(c="",g=0):(c=c.slice(0,h),g=c.length-1-c.lastIndexOf("/")),f=d,u=0;continue}}else if(c.length===2||c.length===1){c="",g=0,f=d,u=0;continue}}n&&(c.length>0?c+="/..":c="..",g=2)}else c.length>0?c+="/"+l.slice(f+1,d):c=l.slice(f+1,d),g=d-f-1;f=d,u=0}else E===46&&u!==-1?++u:u=-1}return c}function S(l,n){var c=n.dir||n.root,g=n.base||(n.name||"")+(n.ext||"");return c?c===n.root?c+g:c+l+g:g}var o={resolve:function(){for(var n="",c=!1,g,f=arguments.length-1;f>=-1&&!c;f--){var u;f>=0?u=arguments[f]:(g===void 0&&(g=_.cwd()),u=g),D(u),u.length!==0&&(n=u+"/"+n,c=u.charCodeAt(0)===47)}return n=x(n,!c),c?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(D(n),n.length===0)return".";var c=n.charCodeAt(0)===47,g=n.charCodeAt(n.length-1)===47;return n=x(n,!c),n.length===0&&!c&&(n="."),n.length>0&&g&&(n+="/"),c?"/"+n:n},isAbsolute:function(n){return D(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,c=0;c<arguments.length;++c){var g=arguments[c];D(g),g.length>0&&(n===void 0?n=g:n+="/"+g)}return n===void 0?".":o.normalize(n)},relative:function(n,c){if(D(n),D(c),n===c||(n=o.resolve(n),c=o.resolve(c),n===c))return"";for(var g=1;g<n.length&&n.charCodeAt(g)===47;++g);for(var f=n.length,u=f-g,E=1;E<c.length&&c.charCodeAt(E)===47;++E);for(var d=c.length,h=d-E,v=u<h?u:h,k=-1,A=0;A<=v;++A){if(A===v){if(h>v){if(c.charCodeAt(E+A)===47)return c.slice(E+A+1);if(A===0)return c.slice(E+A)}else u>v&&(n.charCodeAt(g+A)===47?k=A:A===0&&(k=0));break}var R=n.charCodeAt(g+A),O=c.charCodeAt(E+A);if(R!==O)break;R===47&&(k=A)}var V="";for(A=g+k+1;A<=f;++A)(A===f||n.charCodeAt(A)===47)&&(V.length===0?V+="..":V+="/..");return V.length>0?V+c.slice(E+k):(E+=k,c.charCodeAt(E)===47&&++E,c.slice(E))},_makeLong:function(n){return n},dirname:function(n){if(D(n),n.length===0)return".";for(var c=n.charCodeAt(0),g=c===47,f=-1,u=!0,E=n.length-1;E>=1;--E)if(c=n.charCodeAt(E),c===47){if(!u){f=E;break}}else u=!1;return f===-1?g?"/":".":g&&f===1?"//":n.slice(0,f)},basename:function(n,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');D(n);var g=0,f=-1,u=!0,E;if(c!==void 0&&c.length>0&&c.length<=n.length){if(c.length===n.length&&c===n)return"";var d=c.length-1,h=-1;for(E=n.length-1;E>=0;--E){var v=n.charCodeAt(E);if(v===47){if(!u){g=E+1;break}}else h===-1&&(u=!1,h=E+1),d>=0&&(v===c.charCodeAt(d)?--d==-1&&(f=E):(d=-1,f=h))}return g===f?f=h:f===-1&&(f=n.length),n.slice(g,f)}else{for(E=n.length-1;E>=0;--E)if(n.charCodeAt(E)===47){if(!u){g=E+1;break}}else f===-1&&(u=!1,f=E+1);return f===-1?"":n.slice(g,f)}},extname:function(n){D(n);for(var c=-1,g=0,f=-1,u=!0,E=0,d=n.length-1;d>=0;--d){var h=n.charCodeAt(d);if(h===47){if(!u){g=d+1;break}continue}f===-1&&(u=!1,f=d+1),h===46?c===-1?c=d:E!==1&&(E=1):c!==-1&&(E=-1)}return c===-1||f===-1||E===0||E===1&&c===f-1&&c===g+1?"":n.slice(c,f)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return S("/",n)},parse:function(n){D(n);var c={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return c;var g=n.charCodeAt(0),f=g===47,u;f?(c.root="/",u=1):u=0;for(var E=-1,d=0,h=-1,v=!0,k=n.length-1,A=0;k>=u;--k){if(g=n.charCodeAt(k),g===47){if(!v){d=k+1;break}continue}h===-1&&(v=!1,h=k+1),g===46?E===-1?E=k:A!==1&&(A=1):E!==-1&&(A=-1)}return E===-1||h===-1||A===0||A===1&&E===h-1&&E===d+1?h!==-1&&(d===0&&f?c.base=c.name=n.slice(1,h):c.base=c.name=n.slice(d,h)):(d===0&&f?(c.name=n.slice(1,E),c.base=n.slice(1,h)):(c.name=n.slice(d,E),c.base=n.slice(d,h)),c.ext=n.slice(E,h)),d>0?c.dir=n.slice(0,d-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,b.exports=o},25632:(b,$,w)=>{$.pbkdf2=w(88638),$.pbkdf2Sync=w(91257)},88638:(b,$,w)=>{var _=w(89509).Buffer,D=w(77357),x=w(12368),S=w(91257),o=w(57777),l,n=w.g.crypto&&w.g.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function f(v){if(w.g.process&&!w.g.process.browser||!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(g[v]!==void 0)return g[v];l=l||_.alloc(8);var k=d(l,l,10,128,v).then(function(){return!0}).catch(function(){return!1});return g[v]=k,k}var u;function E(){return u||(w.g.process&&w.g.process.nextTick?u=w.g.process.nextTick:w.g.queueMicrotask?u=w.g.queueMicrotask:w.g.setImmediate?u=w.g.setImmediate:u=w.g.setTimeout,u)}function d(v,k,A,R,O){return n.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return n.deriveBits({name:"PBKDF2",salt:k,iterations:A,hash:{name:O}},V,R<<3)}).then(function(V){return _.from(V)})}function h(v,k){v.then(function(A){E()(function(){k(null,A)})},function(A){E()(function(){k(A)})})}b.exports=function(v,k,A,R,O,V){typeof O=="function"&&(V=O,O=void 0),O=O||"sha1";var Y=c[O.toLowerCase()];if(!Y||typeof w.g.Promise!="function"){E()(function(){var ee;try{ee=S(v,k,A,R,O)}catch(re){return V(re)}V(null,ee)});return}if(D(A,R),v=o(v,x,"Password"),k=o(k,x,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");h(f(Y).then(function(ee){return ee?d(v,k,A,R,Y):S(v,k,A,R,O)}),V)}},12368:(b,$,w)=>{var _=w(34155),D;if(w.g.process&&w.g.process.browser)D="utf-8";else if(w.g.process&&w.g.process.version){var x=parseInt(_.version.split(".")[0].slice(1),10);D=x>=6?"utf-8":"binary"}else D="utf-8";b.exports=D},77357:b=>{var $=Math.pow(2,30)-1;b.exports=function(w,_){if(typeof w!="number")throw new TypeError("Iterations not a number");if(w<0)throw new TypeError("Bad iterations");if(typeof _!="number")throw new TypeError("Key length not a number");if(_<0||_>$||_!==_)throw new TypeError("Bad key length")}},91257:(b,$,w)=>{var _=w(78028),D=w(79785),x=w(89072),S=w(89509).Buffer,o=w(77357),l=w(12368),n=w(57777),c=S.alloc(128),g={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(d,h,v){var k=u(d),A=d==="sha512"||d==="sha384"?128:64;h.length>A?h=k(h):h.length<A&&(h=S.concat([h,c],A));for(var R=S.allocUnsafe(A+g[d]),O=S.allocUnsafe(A+g[d]),V=0;V<A;V++)R[V]=h[V]^54,O[V]=h[V]^92;var Y=S.allocUnsafe(A+v+4);R.copy(Y,0,0,A),this.ipad1=Y,this.ipad2=R,this.opad=O,this.alg=d,this.blocksize=A,this.hash=k,this.size=g[d]}f.prototype.run=function(d,h){d.copy(h,this.blocksize);var v=this.hash(h);return v.copy(this.opad,this.blocksize),this.hash(this.opad)};function u(d){function h(k){return x(d).update(k).digest()}function v(k){return new D().update(k).digest()}return d==="rmd160"||d==="ripemd160"?v:d==="md5"?_:h}function E(d,h,v,k,A){o(v,k),d=n(d,l,"Password"),h=n(h,l,"Salt"),A=A||"sha1";var R=new f(A,d,h.length),O=S.allocUnsafe(k),V=S.allocUnsafe(h.length+4);h.copy(V,0,0,h.length);for(var Y=0,ee=g[A],re=Math.ceil(k/ee),ie=1;ie<=re;ie++){V.writeUInt32BE(ie,h.length);for(var ne=R.run(V,R.ipad1),ue=ne,W=1;W<v;W++){ue=R.run(ue,R.ipad2);for(var T=0;T<ee;T++)ne[T]^=ue[T]}ne.copy(O,Y),Y+=ee}return O}b.exports=E},57777:(b,$,w)=>{var _=w(89509).Buffer;b.exports=function(D,x,S){if(_.isBuffer(D))return D;if(typeof D=="string")return _.from(D,x);if(ArrayBuffer.isView(D))return _.from(D.buffer);throw new TypeError(S+" must be a string, a Buffer, a typed array or a DataView")}},34155:b=>{var $=b.exports={},w,_;function D(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?w=setTimeout:w=D}catch(h){w=D}try{typeof clearTimeout=="function"?_=clearTimeout:_=x}catch(h){_=x}})();function S(h){if(w===setTimeout)return setTimeout(h,0);if((w===D||!w)&&setTimeout)return w=setTimeout,setTimeout(h,0);try{return w(h,0)}catch(v){try{return w.call(null,h,0)}catch(k){return w.call(this,h,0)}}}function o(h){if(_===clearTimeout)return clearTimeout(h);if((_===x||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(h);try{return _(h)}catch(v){try{return _.call(null,h)}catch(k){return _.call(this,h)}}}var l=[],n=!1,c,g=-1;function f(){!n||!c||(n=!1,c.length?l=c.concat(l):g=-1,l.length&&u())}function u(){if(!n){var h=S(f);n=!0;for(var v=l.length;v;){for(c=l,l=[];++g<v;)c&&c[g].run();g=-1,v=l.length}c=null,n=!1,o(h)}}$.nextTick=function(h){var v=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)v[k-1]=arguments[k];l.push(new E(h,v)),l.length===1&&!n&&S(u)};function E(h,v){this.fun=h,this.array=v}E.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={};function d(){}$.on=d,$.addListener=d,$.once=d,$.off=d,$.removeListener=d,$.removeAllListeners=d,$.emit=d,$.prependListener=d,$.prependOnceListener=d,$.listeners=function(h){return[]},$.binding=function(h){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(h){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},7900:(b,$,w)=>{$.publicEncrypt=w(16559),$.privateDecrypt=w(26138),$.privateEncrypt=function(D,x){return $.publicEncrypt(D,x,!0)},$.publicDecrypt=function(D,x){return $.privateDecrypt(D,x,!0)}},99199:(b,$,w)=>{var _=w(23482),D=w(89509).Buffer;b.exports=function(S,o){for(var l=D.alloc(0),n=0,c;l.length<o;)c=x(n++),l=D.concat([l,_("sha1").update(S).update(c).digest()]);return l.slice(0,o)};function x(S){var o=D.allocUnsafe(4);return o.writeUInt32BE(S,0),o}},26138:(b,$,w)=>{var _=w(70980),D=w(99199),x=w(57859),S=w(13550),o=w(23663),l=w(23482),n=w(84818),c=w(89509).Buffer;b.exports=function(d,h,v){var k;d.padding?k=d.padding:v?k=1:k=4;var A=_(d),R=A.modulus.byteLength();if(h.length>R||new S(h).cmp(A.modulus)>=0)throw new Error("decryption error");var O;v?O=n(new S(h),A):O=o(h,A);var V=c.alloc(R-O.length);if(O=c.concat([V,O],R),k===4)return g(A,O);if(k===1)return f(A,O,v);if(k===3)return O;throw new Error("unknown padding")};function g(E,d){var h=E.modulus.byteLength(),v=l("sha1").update(c.alloc(0)).digest(),k=v.length;if(d[0]!==0)throw new Error("decryption error");var A=d.slice(1,k+1),R=d.slice(k+1),O=x(A,D(R,k)),V=x(R,D(O,h-k-1));if(u(v,V.slice(0,k)))throw new Error("decryption error");for(var Y=k;V[Y]===0;)Y++;if(V[Y++]!==1)throw new Error("decryption error");return V.slice(Y)}function f(E,d,h){for(var v=d.slice(0,2),k=2,A=0;d[k++]!==0;)if(k>=d.length){A++;break}var R=d.slice(2,k-1);if((v.toString("hex")!=="0002"&&!h||v.toString("hex")!=="0001"&&h)&&A++,R.length<8&&A++,A)throw new Error("decryption error");return d.slice(k)}function u(E,d){E=c.from(E),d=c.from(d);var h=0,v=E.length;E.length!==d.length&&(h++,v=Math.min(E.length,d.length));for(var k=-1;++k<v;)h+=E[k]^d[k];return h}},16559:(b,$,w)=>{var _=w(70980),D=w(61798),x=w(23482),S=w(99199),o=w(57859),l=w(13550),n=w(84818),c=w(23663),g=w(89509).Buffer;b.exports=function(h,v,k){var A;h.padding?A=h.padding:k?A=1:A=4;var R=_(h),O;if(A===4)O=f(R,v);else if(A===1)O=u(R,v,k);else if(A===3){if(O=new l(v),O.cmp(R.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return k?c(O,R):n(O,R)};function f(d,h){var v=d.modulus.byteLength(),k=h.length,A=x("sha1").update(g.alloc(0)).digest(),R=A.length,O=2*R;if(k>v-O-2)throw new Error("message too long");var V=g.alloc(v-k-O-2),Y=v-R-1,ee=D(R),re=o(g.concat([A,V,g.alloc(1,1),h],Y),S(ee,Y)),ie=o(ee,S(re,R));return new l(g.concat([g.alloc(1),ie,re],v))}function u(d,h,v){var k=h.length,A=d.modulus.byteLength();if(k>A-11)throw new Error("message too long");var R;return v?R=g.alloc(A-k-3,255):R=E(A-k-3),new l(g.concat([g.from([0,v?1:2]),R,g.alloc(1),h],A))}function E(d){for(var h=g.allocUnsafe(d),v=0,k=D(d*2),A=0,R;v<d;)A===k.length&&(k=D(d*2),A=0),R=k[A++],R&&(h[v++]=R);return h}},84818:(b,$,w)=>{var _=w(13550),D=w(89509).Buffer;function x(S,o){return D.from(S.toRed(_.mont(o.modulus)).redPow(new _(o.publicExponent)).fromRed().toArray())}b.exports=x},57859:b=>{b.exports=function(w,_){for(var D=w.length,x=-1;++x<D;)w[x]^=_[x];return w}},61798:(b,$,w)=>{"use strict";var _=w(34155),D=65536,x=4294967295;function S(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var o=w(89509).Buffer,l=w.g.crypto||w.g.msCrypto;l&&l.getRandomValues?b.exports=n:b.exports=S;function n(c,g){if(c>x)throw new RangeError("requested too many random bytes");var f=o.allocUnsafe(c);if(c>0)if(c>D)for(var u=0;u<c;u+=D)l.getRandomValues(f.slice(u,u+D));else l.getRandomValues(f);return typeof g=="function"?_.nextTick(function(){g(null,f)}):f}},77963:(b,$,w)=>{"use strict";var _=w(34155);function D(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var x=w(89509),S=w(61798),o=x.Buffer,l=x.kMaxLength,n=w.g.crypto||w.g.msCrypto,c=Math.pow(2,32)-1;function g(h,v){if(typeof h!="number"||h!==h)throw new TypeError("offset must be a number");if(h>c||h<0)throw new TypeError("offset must be a uint32");if(h>l||h>v)throw new RangeError("offset out of range")}function f(h,v,k){if(typeof h!="number"||h!==h)throw new TypeError("size must be a number");if(h>c||h<0)throw new TypeError("size must be a uint32");if(h+v>k||h>l)throw new RangeError("buffer too small")}n&&n.getRandomValues||!_.browser?($.randomFill=u,$.randomFillSync=d):($.randomFill=D,$.randomFillSync=D);function u(h,v,k,A){if(!o.isBuffer(h)&&!(h instanceof w.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")A=v,v=0,k=h.length;else if(typeof k=="function")A=k,k=h.length-v;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return g(v,h.length),f(k,v,h.length),E(h,v,k,A)}function E(h,v,k,A){if(_.browser){var R=h.buffer,O=new Uint8Array(R,v,k);if(n.getRandomValues(O),A){_.nextTick(function(){A(null,h)});return}return h}if(A){S(k,function(Y,ee){if(Y)return A(Y);ee.copy(h,v),A(null,h)});return}var V=S(k);return V.copy(h,v),h}function d(h,v,k){if(typeof v=="undefined"&&(v=0),!o.isBuffer(h)&&!(h instanceof w.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(v,h.length),k===void 0&&(k=h.length-v),f(k,v,h.length),E(h,v,k)}},79785:(b,$,w)=>{"use strict";var _=w(48764).Buffer,D=w(35717),x=w(3349),S=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],n=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function u(){x.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}D(u,x),u.prototype._update=function(){for(var R=S,O=0;O<16;++O)R[O]=this._block.readInt32LE(O*4);for(var V=this._a|0,Y=this._b|0,ee=this._c|0,re=this._d|0,ie=this._e|0,ne=this._a|0,ue=this._b|0,W=this._c|0,T=this._d|0,L=this._e|0,C=0;C<80;C+=1){var s,m;C<16?(s=d(V,Y,ee,re,ie,R[o[C]],g[0],n[C]),m=A(ne,ue,W,T,L,R[l[C]],f[0],c[C])):C<32?(s=h(V,Y,ee,re,ie,R[o[C]],g[1],n[C]),m=k(ne,ue,W,T,L,R[l[C]],f[1],c[C])):C<48?(s=v(V,Y,ee,re,ie,R[o[C]],g[2],n[C]),m=v(ne,ue,W,T,L,R[l[C]],f[2],c[C])):C<64?(s=k(V,Y,ee,re,ie,R[o[C]],g[3],n[C]),m=h(ne,ue,W,T,L,R[l[C]],f[3],c[C])):(s=A(V,Y,ee,re,ie,R[o[C]],g[4],n[C]),m=d(ne,ue,W,T,L,R[l[C]],f[4],c[C])),V=ie,ie=re,re=E(ee,10),ee=Y,Y=s,ne=L,L=T,T=E(W,10),W=ue,ue=m}var N=this._b+ee+T|0;this._b=this._c+re+L|0,this._c=this._d+ie+ne|0,this._d=this._e+V+ue|0,this._e=this._a+Y+W|0,this._a=N},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=_.alloc?_.alloc(20):new _(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R};function E(R,O){return R<<O|R>>>32-O}function d(R,O,V,Y,ee,re,ie,ne){return E(R+(O^V^Y)+re+ie|0,ne)+ee|0}function h(R,O,V,Y,ee,re,ie,ne){return E(R+(O&V|~O&Y)+re+ie|0,ne)+ee|0}function v(R,O,V,Y,ee,re,ie,ne){return E(R+((O|~V)^Y)+re+ie|0,ne)+ee|0}function k(R,O,V,Y,ee,re,ie,ne){return E(R+(O&Y|V&~Y)+re+ie|0,ne)+ee|0}function A(R,O,V,Y,ee,re,ie,ne){return E(R+(O^(V|~Y))+re+ie|0,ne)+ee|0}b.exports=u},89509:(b,$,w)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=w(48764),D=_.Buffer;function x(o,l){for(var n in o)l[n]=o[n]}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?b.exports=_:(x(_,$),$.Buffer=S);function S(o,l,n){return D(o,l,n)}S.prototype=Object.create(D.prototype),x(D,S),S.from=function(o,l,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return D(o,l,n)},S.alloc=function(o,l,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=D(o);return l!==void 0?typeof n=="string"?c.fill(l,n):c.fill(l):c.fill(0),c},S.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return D(o)},S.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(o)}},2399:(b,$,w)=>{"use strict";var _=w(34155),D=w(48764),x=D.Buffer,S={},o;for(o in D)!D.hasOwnProperty(o)||o==="SlowBuffer"||o==="Buffer"||(S[o]=D[o]);var l=S.Buffer={};for(o in x)!x.hasOwnProperty(o)||o==="allocUnsafe"||o==="allocUnsafeSlow"||(l[o]=x[o]);if(S.Buffer.prototype=x.prototype,(!l.from||l.from===Uint8Array.from)&&(l.from=function(n,c,g){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return x(n,c,g)}),l.alloc||(l.alloc=function(n,c,g){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var f=x(n);return!c||c.length===0?f.fill(0):typeof g=="string"?f.fill(c,g):f.fill(c),f}),!S.kStringMaxLength)try{S.kStringMaxLength=_.binding("buffer").kStringMaxLength}catch(n){}S.constants||(S.constants={MAX_LENGTH:S.kMaxLength},S.kStringMaxLength&&(S.constants.MAX_STRING_LENGTH=S.kStringMaxLength)),b.exports=S},24189:(b,$,w)=>{var _=w(89509).Buffer;function D(x,S){this._block=_.alloc(x),this._finalSize=S,this._blockSize=x,this._len=0}D.prototype.update=function(x,S){typeof x=="string"&&(S=S||"utf8",x=_.from(x,S));for(var o=this._block,l=this._blockSize,n=x.length,c=this._len,g=0;g<n;){for(var f=c%l,u=Math.min(n-g,l-f),E=0;E<u;E++)o[f+E]=x[g+E];c+=u,g+=u,c%l==0&&this._update(o)}return this._len+=n,this},D.prototype.digest=function(x){var S=this._len%this._blockSize;this._block[S]=128,this._block.fill(0,S+1),S>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=this._len*8;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var l=(o&4294967295)>>>0,n=(o-l)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var c=this._hash();return x?c.toString(x):c},D.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b.exports=D},89072:(b,$,w)=>{var _=b.exports=function(x){x=x.toLowerCase();var S=_[x];if(!S)throw new Error(x+" is not supported (we accept pull requests)");return new S};_.sha=w(74448),_.sha1=w(18336),_.sha224=w(48432),_.sha256=w(67499),_.sha384=w(51686),_.sha512=w(87816)},74448:(b,$,w)=>{var _=w(35717),D=w(24189),x=w(89509).Buffer,S=[1518500249,1859775393,2400959708|0,3395469782|0],o=new Array(80);function l(){this.init(),this._w=o,D.call(this,64,56)}_(l,D),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function n(f){return f<<5|f>>>27}function c(f){return f<<30|f>>>2}function g(f,u,E,d){return f===0?u&E|~u&d:f===2?u&E|u&d|E&d:u^E^d}l.prototype._update=function(f){for(var u=this._w,E=this._a|0,d=this._b|0,h=this._c|0,v=this._d|0,k=this._e|0,A=0;A<16;++A)u[A]=f.readInt32BE(A*4);for(;A<80;++A)u[A]=u[A-3]^u[A-8]^u[A-14]^u[A-16];for(var R=0;R<80;++R){var O=~~(R/20),V=n(E)+g(O,d,h,v)+k+u[R]+S[O]|0;k=v,v=h,h=c(d),d=E,E=V}this._a=E+this._a|0,this._b=d+this._b|0,this._c=h+this._c|0,this._d=v+this._d|0,this._e=k+this._e|0},l.prototype._hash=function(){var f=x.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},b.exports=l},18336:(b,$,w)=>{var _=w(35717),D=w(24189),x=w(89509).Buffer,S=[1518500249,1859775393,2400959708|0,3395469782|0],o=new Array(80);function l(){this.init(),this._w=o,D.call(this,64,56)}_(l,D),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function n(u){return u<<1|u>>>31}function c(u){return u<<5|u>>>27}function g(u){return u<<30|u>>>2}function f(u,E,d,h){return u===0?E&d|~E&h:u===2?E&d|E&h|d&h:E^d^h}l.prototype._update=function(u){for(var E=this._w,d=this._a|0,h=this._b|0,v=this._c|0,k=this._d|0,A=this._e|0,R=0;R<16;++R)E[R]=u.readInt32BE(R*4);for(;R<80;++R)E[R]=n(E[R-3]^E[R-8]^E[R-14]^E[R-16]);for(var O=0;O<80;++O){var V=~~(O/20),Y=c(d)+f(V,h,v,k)+A+E[O]+S[V]|0;A=k,k=v,v=g(h),h=d,d=Y}this._a=d+this._a|0,this._b=h+this._b|0,this._c=v+this._c|0,this._d=k+this._d|0,this._e=A+this._e|0},l.prototype._hash=function(){var u=x.allocUnsafe(20);return u.writeInt32BE(this._a|0,0),u.writeInt32BE(this._b|0,4),u.writeInt32BE(this._c|0,8),u.writeInt32BE(this._d|0,12),u.writeInt32BE(this._e|0,16),u},b.exports=l},48432:(b,$,w)=>{var _=w(35717),D=w(67499),x=w(24189),S=w(89509).Buffer,o=new Array(64);function l(){this.init(),this._w=o,x.call(this,64,56)}_(l,D),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var n=S.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n},b.exports=l},67499:(b,$,w)=>{var _=w(35717),D=w(24189),x=w(89509).Buffer,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function l(){this.init(),this._w=o,D.call(this,64,56)}_(l,D),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function n(d,h,v){return v^d&(h^v)}function c(d,h,v){return d&h|v&(d|h)}function g(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function f(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function u(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function E(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}l.prototype._update=function(d){for(var h=this._w,v=this._a|0,k=this._b|0,A=this._c|0,R=this._d|0,O=this._e|0,V=this._f|0,Y=this._g|0,ee=this._h|0,re=0;re<16;++re)h[re]=d.readInt32BE(re*4);for(;re<64;++re)h[re]=E(h[re-2])+h[re-7]+u(h[re-15])+h[re-16]|0;for(var ie=0;ie<64;++ie){var ne=ee+f(O)+n(O,V,Y)+S[ie]+h[ie]|0,ue=g(v)+c(v,k,A)|0;ee=Y,Y=V,V=O,O=R+ne|0,R=A,A=k,k=v,v=ne+ue|0}this._a=v+this._a|0,this._b=k+this._b|0,this._c=A+this._c|0,this._d=R+this._d|0,this._e=O+this._e|0,this._f=V+this._f|0,this._g=Y+this._g|0,this._h=ee+this._h|0},l.prototype._hash=function(){var d=x.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},b.exports=l},51686:(b,$,w)=>{var _=w(35717),D=w(87816),x=w(24189),S=w(89509).Buffer,o=new Array(160);function l(){this.init(),this._w=o,x.call(this,128,112)}_(l,D),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var n=S.allocUnsafe(48);function c(g,f,u){n.writeInt32BE(g,u),n.writeInt32BE(f,u+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),n},b.exports=l},87816:(b,$,w)=>{var _=w(35717),D=w(24189),x=w(89509).Buffer,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function l(){this.init(),this._w=o,D.call(this,128,112)}_(l,D),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function n(k,A,R){return R^k&(A^R)}function c(k,A,R){return k&A|R&(k|A)}function g(k,A){return(k>>>28|A<<4)^(A>>>2|k<<30)^(A>>>7|k<<25)}function f(k,A){return(k>>>14|A<<18)^(k>>>18|A<<14)^(A>>>9|k<<23)}function u(k,A){return(k>>>1|A<<31)^(k>>>8|A<<24)^k>>>7}function E(k,A){return(k>>>1|A<<31)^(k>>>8|A<<24)^(k>>>7|A<<25)}function d(k,A){return(k>>>19|A<<13)^(A>>>29|k<<3)^k>>>6}function h(k,A){return(k>>>19|A<<13)^(A>>>29|k<<3)^(k>>>6|A<<26)}function v(k,A){return k>>>0<A>>>0?1:0}l.prototype._update=function(k){for(var A=this._w,R=this._ah|0,O=this._bh|0,V=this._ch|0,Y=this._dh|0,ee=this._eh|0,re=this._fh|0,ie=this._gh|0,ne=this._hh|0,ue=this._al|0,W=this._bl|0,T=this._cl|0,L=this._dl|0,C=this._el|0,s=this._fl|0,m=this._gl|0,N=this._hl|0,I=0;I<32;I+=2)A[I]=k.readInt32BE(I*4),A[I+1]=k.readInt32BE(I*4+4);for(;I<160;I+=2){var F=A[I-15*2],P=A[I-15*2+1],j=u(F,P),G=E(P,F);F=A[I-2*2],P=A[I-2*2+1];var y=d(F,P),H=h(P,F),fe=A[I-7*2],ve=A[I-7*2+1],ye=A[I-16*2],Ee=A[I-16*2+1],J=G+ve|0,Z=j+fe+v(J,G)|0;J=J+H|0,Z=Z+y+v(J,H)|0,J=J+Ee|0,Z=Z+ye+v(J,Ee)|0,A[I]=Z,A[I+1]=J}for(var ce=0;ce<160;ce+=2){Z=A[ce],J=A[ce+1];var me=c(R,O,V),be=c(ue,W,T),q=g(R,ue),U=g(ue,R),oe=f(ee,C),ge=f(C,ee),Me=S[ce],he=S[ce+1],Te=n(ee,re,ie),Ae=n(C,s,m),Ce=N+ge|0,ut=ne+oe+v(Ce,N)|0;Ce=Ce+Ae|0,ut=ut+Te+v(Ce,Ae)|0,Ce=Ce+he|0,ut=ut+Me+v(Ce,he)|0,Ce=Ce+J|0,ut=ut+Z+v(Ce,J)|0;var qe=U+be|0,De=q+me+v(qe,U)|0;ne=ie,N=m,ie=re,m=s,re=ee,s=C,C=L+Ce|0,ee=Y+ut+v(C,L)|0,Y=V,L=T,V=O,T=W,O=R,W=ue,ue=Ce+qe|0,R=ut+De+v(ue,Ce)|0}this._al=this._al+ue|0,this._bl=this._bl+W|0,this._cl=this._cl+T|0,this._dl=this._dl+L|0,this._el=this._el+C|0,this._fl=this._fl+s|0,this._gl=this._gl+m|0,this._hl=this._hl+N|0,this._ah=this._ah+R+v(this._al,ue)|0,this._bh=this._bh+O+v(this._bl,W)|0,this._ch=this._ch+V+v(this._cl,T)|0,this._dh=this._dh+Y+v(this._dl,L)|0,this._eh=this._eh+ee+v(this._el,C)|0,this._fh=this._fh+re+v(this._fl,s)|0,this._gh=this._gh+ie+v(this._gl,m)|0,this._hh=this._hh+ne+v(this._hl,N)|0},l.prototype._hash=function(){var k=x.allocUnsafe(64);function A(R,O,V){k.writeInt32BE(R,V),k.writeInt32BE(O,V+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),k},b.exports=l},6200:(b,$,w)=>{"use strict";const _=w(89539),D=w(91003),x=/\s/,S=/\r|\n/,o=/^(Host|Match)$/i,l=1,n=2;function c(f,u){return u.hasOwnProperty(f.param)&&u[f.param]===f.value}class g extends Array{compute(u){const E={},d=(h,v)=>{h==="IdentityFile"?(E[h]||(E[h]=[])).push(v):E[h]==null&&(E[h]=v)};for(const h of this)h.type===l&&(h.param==="Host"?D(h.value,u)&&(d(h.param,h.value),h.config.filter(v=>v.type===l).forEach(v=>d(v.param,v.value))):h.param==="Match"||d(h.param,h.value));return E}find(u={}){if(typeof u=="function")return super.find(u);if(!(u&&("Host"in u||"Match"in u)))throw new Error("Can only find by Host or Match");return super.find(E=>c(E,u))}remove(u={}){if(!(u&&("Host"in u||"Match"in u)))throw new Error("Can only remove by Host or Match");const E=typeof u=="function"?super.findIndex(u):super.findIndex(d=>c(d,u));if(E>=0)return this.splice(E,1)}toString(){return this.constructor.stringify(this)}append(u){let E="  ";e:for(const v of this)if(o.test(v.param)){for(const k of v.config)if(k.before){E=k.before;break e}}if(this.length>0){let v=this[this.length-1];v.config&&(v=v.config[v.config.length-1]),v.after=`
`}let d=this,h=this;for(const v in u){const k={type:l,param:v,separator:" ",value:u[v],before:"",after:`
`};o.test(v)?(d=h,d.push(k),d=k.config=new g):(k.before=d===h?"":E,d.push(k))}return h}static stringify(u){let E="";const d=(v,k)=>Array.isArray(v)?v.map(A=>d(A,x.test(A))).join(" "):k?`"${v}"`:v,h=v=>{if(E+=v.before,v.type===n)E+=v.content;else if(v.type===l){const k=v.quoted||/IdentityFile/i.test(v.param)&&x.test(v.value),A=d(v.value,k);E+=`${v.param}${v.separator}${A}`}E+=v.after,v.config&&v.config.forEach(h)};return u.forEach(h),E}static get DIRECTIVE(){return l}static get COMMENT(){return n}static parse(u){let E=0,d=k(),h=new g,v=h;function k(){return u[E++]}function A(){let ue="";for(;x.test(d);)ue+=d,d=k();return ue}function R(){let ue="";for(;S.test(d);)ue+=d,d=k();return ue}function O(){let ue="";for(;d&&/[^ \t=]/.test(d);)ue+=d,d=k();return ue}function V(){let ue=A();return d==="="&&(ue+=d,d=k()),ue+A()}function Y(){let ue="",W=!1,T=!1;for(;d&&!S.test(d);)T?(ue+=d==='"'?d:`\\${d}`,T=!1):d==='"'&&(!ue||W)?W=!W:d==="\\"?T=!0:ue+=d,d=k();if(W||T)throw new Error(`Unexpected line break at ${ue}`);return ue.trim()}function ee(){const ue=n;let W="";for(;d&&!S.test(d);)W+=d,d=k();return{type:ue,content:W}}function re(){const ue=[];let W="",T=!1,L=!1;for(;d&&!S.test(d);)L?(W+=d==='"'?d:`\\${d}`,L=!1):d==='"'?T=!T:d==="\\"?L=!0:T?W+=d:/[ \t]/.test(d)?W&&(ue.push(W),W=""):W+=d,d=k();if(T||L)throw new Error(`Unexpected line break at ${ue.concat(W).join(" ")}`);return ue.push(W),ue.length>1?ue:ue[0]}function ie(){const ue=l,W=O(),T=W.toLowerCase()=="host",L={type:ue,param:W,separator:V(),quoted:!T&&d==='"',value:T?re():Y()};return L.quoted||delete L.quoted,L}function ne(){const ue=A(),W=d==="#"?ee():ie(),T=R();return W.before=ue,W.after=T,W}for(;d;){let ue=ne();ue.type===l&&o.test(ue.param)?(h=v,h.push(ue),h=ue.config=new g):h.push(ue)}return v}}g.find=_.deprecate((f,u)=>{const E=f.find(u);return E?[E,f.indexOf(E)]:null},"SSHConfig.find() is deprected. Use SSHConfig.prototype.find() instead."),b.exports=g},91003:b=>{"use strict";function $(_,D){return _=_.replace(/\./g,"\\.").replace(/\+/g,"\\+").replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+_+")$").test(D)}function w(_,D){const x=Array.isArray(_)?_:_.split(/,/);let S=!1;for(const o of x){if(o[0]=="!"&&$(o.slice(1),D))return!1;$(o,D)&&(S=!0)}return S}b.exports=w},42830:(b,$,w)=>{b.exports=x;var _=w(17187).EventEmitter,D=w(35717);D(x,_),x.Readable=w(56577),x.Writable=w(20323),x.Duplex=w(68656),x.Transform=w(94473),x.PassThrough=w(2366),x.finished=w(81086),x.pipeline=w(56472),x.Stream=x;function x(){_.call(this)}x.prototype.pipe=function(S,o){var l=this;function n(h){S.writable&&S.write(h)===!1&&l.pause&&l.pause()}l.on("data",n);function c(){l.readable&&l.resume&&l.resume()}S.on("drain",c),!S._isStdio&&(!o||o.end!==!1)&&(l.on("end",f),l.on("close",u));var g=!1;function f(){g||(g=!0,S.end())}function u(){g||(g=!0,typeof S.destroy=="function"&&S.destroy())}function E(h){if(d(),_.listenerCount(this,"error")===0)throw h}l.on("error",E),S.on("error",E);function d(){l.removeListener("data",n),S.removeListener("drain",c),l.removeListener("end",f),l.removeListener("close",u),l.removeListener("error",E),S.removeListener("error",E),l.removeListener("end",d),l.removeListener("close",d),S.removeListener("close",d)}return l.on("end",d),l.on("close",d),S.on("close",d),S.emit("pipe",l),S}},58106:b=>{"use strict";function $(l,n){l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.__proto__=n}var w={};function _(l,n,c){c||(c=Error);function g(u,E,d){return typeof n=="string"?n:n(u,E,d)}var f=function(u){$(E,u);function E(d,h,v){return u.call(this,g(d,h,v))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=l,w[l]=f}function D(l,n){if(Array.isArray(l)){var c=l.length;return l=l.map(function(g){return String(g)}),c>2?"one of ".concat(n," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(n," ").concat(l[0]," or ").concat(l[1]):"of ".concat(n," ").concat(l[0])}else return"of ".concat(n," ").concat(String(l))}function x(l,n,c){return l.substr(!c||c<0?0:+c,n.length)===n}function S(l,n,c){return(c===void 0||c>l.length)&&(c=l.length),l.substring(c-n.length,c)===n}function o(l,n,c){return typeof c!="number"&&(c=0),c+n.length>l.length?!1:l.indexOf(n,c)!==-1}_("ERR_INVALID_OPT_VALUE",function(l,n){return'The value "'+n+'" is invalid for option "'+l+'"'},TypeError),_("ERR_INVALID_ARG_TYPE",function(l,n,c){var g;typeof n=="string"&&x(n,"not ")?(g="must not be",n=n.replace(/^not /,"")):g="must be";var f;if(S(l," argument"))f="The ".concat(l," ").concat(g," ").concat(D(n,"type"));else{var u=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(u," ").concat(g," ").concat(D(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_("ERR_STREAM_WRITE_AFTER_END","write after end"),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=w},68656:(b,$,w)=>{"use strict";var _=w(34155),D=Object.keys||function(u){var E=[];for(var d in u)E.push(d);return E};b.exports=c;var x=w(56577),S=w(20323);w(35717)(c,x);for(var o=D(S.prototype),l=0;l<o.length;l++){var n=o[l];c.prototype[n]||(c.prototype[n]=S.prototype[n])}function c(u){if(!(this instanceof c))return new c(u);x.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||_.nextTick(f,this)}function f(u){u.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},2366:(b,$,w)=>{"use strict";b.exports=D;var _=w(94473);w(35717)(D,_);function D(x){if(!(this instanceof D))return new D(x);_.call(this,x)}D.prototype._transform=function(x,S,o){o(null,x)}},56577:(b,$,w)=>{"use strict";var _=w(34155);b.exports=T;var D;T.ReadableState=W;var x=w(17187).EventEmitter,S=function(U,oe){return U.listeners(oe).length},o=w(83194),l=w(48764).Buffer,n=w.g.Uint8Array||function(){};function c(q){return l.from(q)}function g(q){return l.isBuffer(q)||q instanceof n}var f=w(40964),u;f&&f.debuglog?u=f.debuglog("stream"):u=function(){};var E=w(39686),d=w(71029),h=w(30094),v=h.getHighWaterMark,k=w(58106).q,A=k.ERR_INVALID_ARG_TYPE,R=k.ERR_STREAM_PUSH_AFTER_EOF,O=k.ERR_METHOD_NOT_IMPLEMENTED,V=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,ee,re;w(35717)(T,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,U,oe){if(typeof q.prependListener=="function")return q.prependListener(U,oe);!q._events||!q._events[U]?q.on(U,oe):Array.isArray(q._events[U])?q._events[U].unshift(oe):q._events[U]=[oe,q._events[U]]}function W(q,U,oe){D=D||w(68656),q=q||{},typeof oe!="boolean"&&(oe=U instanceof D),this.objectMode=!!q.objectMode,oe&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=v(this,q,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(Y||(Y=w(54729).s),this.decoder=new Y(q.encoding),this.encoding=q.encoding)}function T(q){if(D=D||w(68656),!(this instanceof T))return new T(q);var U=this instanceof D;this._readableState=new W(q,this,U),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){!this._readableState||(this._readableState.destroyed=U)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(q,U){U(q)},T.prototype.push=function(q,U){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof q=="string"&&(U=U||oe.defaultEncoding,U!==oe.encoding&&(q=l.from(q,U),U=""),ge=!0),L(this,q,U,!1,ge)},T.prototype.unshift=function(q){return L(this,q,null,!0,!1)};function L(q,U,oe,ge,Me){u("readableAddChunk",U);var he=q._readableState;if(U===null)he.reading=!1,F(q,he);else{var Te;if(Me||(Te=s(he,U)),Te)ie(q,Te);else if(he.objectMode||U&&U.length>0)if(typeof U!="string"&&!he.objectMode&&Object.getPrototypeOf(U)!==l.prototype&&(U=c(U)),ge)he.endEmitted?ie(q,new V):C(q,he,U,!0);else if(he.ended)ie(q,new R);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!oe?(U=he.decoder.write(U),he.objectMode||U.length!==0?C(q,he,U,!1):G(q,he)):C(q,he,U,!1)}else ge||(he.reading=!1,G(q,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function C(q,U,oe,ge){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,q.emit("data",oe)):(U.length+=U.objectMode?1:oe.length,ge?U.buffer.unshift(oe):U.buffer.push(oe),U.needReadable&&P(q)),G(q,U)}function s(q,U){var oe;return!g(U)&&typeof U!="string"&&U!==void 0&&!q.objectMode&&(oe=new A("chunk",["string","Buffer","Uint8Array"],U)),oe}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(q){Y||(Y=w(54729).s);var U=new Y(q);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=U.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var m=1073741824;function N(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,U){return q<=0||U.length===0&&U.ended?0:U.objectMode?1:q!==q?U.flowing&&U.length?U.buffer.head.data.length:U.length:(q>U.highWaterMark&&(U.highWaterMark=N(q)),q<=U.length?q:U.ended?U.length:(U.needReadable=!0,0))}T.prototype.read=function(q){u("read",q),q=parseInt(q,10);var U=this._readableState,oe=q;if(q!==0&&(U.emittedReadable=!1),q===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return u("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?ce(this):P(this),null;if(q=I(q,U),q===0&&U.ended)return U.length===0&&ce(this),null;var ge=U.needReadable;u("need readable",ge),(U.length===0||U.length-q<U.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),U.ended||U.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(q=I(oe,U)));var Me;return q>0?Me=Z(q,U):Me=null,Me===null?(U.needReadable=U.length<=U.highWaterMark,q=0):(U.length-=q,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),oe!==q&&U.ended&&ce(this)),Me!==null&&this.emit("data",Me),Me};function F(q,U){if(u("onEofChunk"),!U.ended){if(U.decoder){var oe=U.decoder.end();oe&&oe.length&&(U.buffer.push(oe),U.length+=U.objectMode?1:oe.length)}U.ended=!0,U.sync?P(q):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,j(q)))}}function P(q){var U=q._readableState;u("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(u("emitReadable",U.flowing),U.emittedReadable=!0,_.nextTick(j,q))}function j(q){var U=q._readableState;u("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(q.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,J(q)}function G(q,U){U.readingMore||(U.readingMore=!0,_.nextTick(y,q,U))}function y(q,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var oe=U.length;if(u("maybeReadMore read 0"),q.read(0),oe===U.length)break}U.readingMore=!1}T.prototype._read=function(q){ie(this,new O("_read()"))},T.prototype.pipe=function(q,U){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=q;break;case 1:ge.pipes=[ge.pipes,q];break;default:ge.pipes.push(q);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,U);var Me=(!U||U.end!==!1)&&q!==_.stdout&&q!==_.stderr,he=Me?Ae:X;ge.endEmitted?_.nextTick(he):oe.once("end",he),q.on("unpipe",Te);function Te(le,pe){u("onunpipe"),le===oe&&pe&&pe.hasUnpiped===!1&&(pe.hasUnpiped=!0,qe())}function Ae(){u("onend"),q.end()}var Ce=H(oe);q.on("drain",Ce);var ut=!1;function qe(){u("cleanup"),q.removeListener("close",se),q.removeListener("finish",Q),q.removeListener("drain",Ce),q.removeListener("error",lt),q.removeListener("unpipe",Te),oe.removeListener("end",Ae),oe.removeListener("end",X),oe.removeListener("data",De),ut=!0,ge.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ce()}oe.on("data",De);function De(le){u("ondata");var pe=q.write(le);u("dest.write",pe),pe===!1&&((ge.pipesCount===1&&ge.pipes===q||ge.pipesCount>1&&be(ge.pipes,q)!==-1)&&!ut&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function lt(le){u("onerror",le),X(),q.removeListener("error",lt),S(q,"error")===0&&ie(q,le)}ue(q,"error",lt);function se(){q.removeListener("finish",Q),X()}q.once("close",se);function Q(){u("onfinish"),q.removeListener("close",se),X()}q.once("finish",Q);function X(){u("unpipe"),oe.unpipe(q)}return q.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),q};function H(q){return function(){var oe=q._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(q,"data")&&(oe.flowing=!0,J(q))}}T.prototype.unpipe=function(q){var U=this._readableState,oe={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return q&&q!==U.pipes?this:(q||(q=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,q&&q.emit("unpipe",this,oe),this);if(!q){var ge=U.pipes,Me=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var he=0;he<Me;he++)ge[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Te=be(U.pipes,q);return Te===-1?this:(U.pipes.splice(Te,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),q.emit("unpipe",this,oe),this)},T.prototype.on=function(q,U){var oe=o.prototype.on.call(this,q,U),ge=this._readableState;return q==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):q==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?P(this):ge.reading||_.nextTick(ve,this)),oe},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(q,U){var oe=o.prototype.removeListener.call(this,q,U);return q==="readable"&&_.nextTick(fe,this),oe},T.prototype.removeAllListeners=function(q){var U=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&_.nextTick(fe,this),U};function fe(q){var U=q._readableState;U.readableListening=q.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ve(q){u("readable nexttick read 0"),q.read(0)}T.prototype.resume=function(){var q=this._readableState;return q.flowing||(u("resume"),q.flowing=!q.readableListening,ye(this,q)),q.paused=!1,this};function ye(q,U){U.resumeScheduled||(U.resumeScheduled=!0,_.nextTick(Ee,q,U))}function Ee(q,U){u("resume",U.reading),U.reading||q.read(0),U.resumeScheduled=!1,q.emit("resume"),J(q),U.flowing&&!U.reading&&q.read(0)}T.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var U=q._readableState;for(u("flow",U.flowing);U.flowing&&q.read()!==null;);}T.prototype.wrap=function(q){var U=this,oe=this._readableState,ge=!1;q.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Te=oe.decoder.end();Te&&Te.length&&U.push(Te)}U.push(null)}),q.on("data",function(Te){if(u("wrapped data"),oe.decoder&&(Te=oe.decoder.write(Te)),!(oe.objectMode&&Te==null)&&!(!oe.objectMode&&(!Te||!Te.length))){var Ae=U.push(Te);Ae||(ge=!0,q.pause())}});for(var Me in q)this[Me]===void 0&&typeof q[Me]=="function"&&(this[Me]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Me));for(var he=0;he<ne.length;he++)q.on(ne[he],this.emit.bind(this,ne[he]));return this._read=function(Te){u("wrapped _read",Te),ge&&(ge=!1,q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return ee===void 0&&(ee=w(20828)),ee(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),T._fromList=Z,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(q,U){if(U.length===0)return null;var oe;return U.objectMode?oe=U.buffer.shift():!q||q>=U.length?(U.decoder?oe=U.buffer.join(""):U.buffer.length===1?oe=U.buffer.first():oe=U.buffer.concat(U.length),U.buffer.clear()):oe=U.buffer.consume(q,U.decoder),oe}function ce(q){var U=q._readableState;u("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,_.nextTick(me,U,q))}function me(q,U){if(u("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,U.readable=!1,U.emit("end"),q.autoDestroy)){var oe=U._writableState;(!oe||oe.autoDestroy&&oe.finished)&&U.destroy()}}typeof Symbol=="function"&&(T.from=function(q,U){return re===void 0&&(re=w(31265)),re(T,q,U)});function be(q,U){for(var oe=0,ge=q.length;oe<ge;oe++)if(q[oe]===U)return oe;return-1}},94473:(b,$,w)=>{"use strict";b.exports=c;var _=w(58106).q,D=_.ERR_METHOD_NOT_IMPLEMENTED,x=_.ERR_MULTIPLE_CALLBACK,S=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=_.ERR_TRANSFORM_WITH_LENGTH_0,l=w(68656);w(35717)(c,l);function n(u,E){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(h===null)return this.emit("error",new x);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),h(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(u){if(!(this instanceof c))return new c(u);l.call(this,u),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",g)}function g(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(u,E,d)}):f(this,null,null)}c.prototype.push=function(u,E){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,E)},c.prototype._transform=function(u,E,d){d(new D("_transform()"))},c.prototype._write=function(u,E,d){var h=this._transformState;if(h.writecb=d,h.writechunk=u,h.writeencoding=E,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(u){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(u,E){l.prototype._destroy.call(this,u,function(d){E(d)})};function f(u,E,d){if(E)return u.emit("error",E);if(d!=null&&u.push(d),u._writableState.length)throw new o;if(u._transformState.transforming)throw new S;return u.push(null)}},20323:(b,$,w)=>{"use strict";var _=w(34155);b.exports=W;function D(J,Z,ce){this.chunk=J,this.encoding=Z,this.callback=ce,this.next=null}function x(J){var Z=this;this.next=null,this.entry=null,this.finish=function(){Ee(Z,J)}}var S;W.WritableState=ne;var o={deprecate:w(94927)},l=w(83194),n=w(48764).Buffer,c=w.g.Uint8Array||function(){};function g(J){return n.from(J)}function f(J){return n.isBuffer(J)||J instanceof c}var u=w(71029),E=w(30094),d=E.getHighWaterMark,h=w(58106).q,v=h.ERR_INVALID_ARG_TYPE,k=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,R=h.ERR_STREAM_CANNOT_PIPE,O=h.ERR_STREAM_DESTROYED,V=h.ERR_STREAM_NULL_VALUES,Y=h.ERR_STREAM_WRITE_AFTER_END,ee=h.ERR_UNKNOWN_ENCODING,re=u.errorOrDestroy;w(35717)(W,l);function ie(){}function ne(J,Z,ce){S=S||w(68656),J=J||{},typeof ce!="boolean"&&(ce=Z instanceof S),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=d(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(be){F(Z,be)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}ne.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,ce=[];Z;)ce.push(Z),Z=Z.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Z){return ue.call(this,Z)?!0:this!==W?!1:Z&&Z._writableState instanceof ne}})):ue=function(Z){return Z instanceof this};function W(J){S=S||w(68656);var Z=this instanceof S;if(!Z&&!ue.call(W,this))return new W(J);this._writableState=new ne(J,this,Z),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}W.prototype.pipe=function(){re(this,new R)};function T(J,Z){var ce=new Y;re(J,ce),_.nextTick(Z,ce)}function L(J,Z,ce,me){var be;return ce===null?be=new V:typeof ce!="string"&&!Z.objectMode&&(be=new v("chunk",["string","Buffer"],ce)),be?(re(J,be),_.nextTick(me,be),!1):!0}W.prototype.write=function(J,Z,ce){var me=this._writableState,be=!1,q=!me.objectMode&&f(J);return q&&!n.isBuffer(J)&&(J=g(J)),typeof Z=="function"&&(ce=Z,Z=null),q?Z="buffer":Z||(Z=me.defaultEncoding),typeof ce!="function"&&(ce=ie),me.ending?T(this,ce):(q||L(this,me,J,ce))&&(me.pendingcb++,be=s(this,me,q,J,Z,ce)),be},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&G(this,J))},W.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new ee(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,Z,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof Z=="string"&&(Z=n.from(Z,ce)),Z}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(J,Z,ce,me,be,q){if(!ce){var U=C(Z,me,be);me!==U&&(ce=!0,be="buffer",me=U)}var oe=Z.objectMode?1:me.length;Z.length+=oe;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var Me=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:me,encoding:be,isBuf:ce,callback:q,next:null},Me?Me.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else m(J,Z,!1,oe,me,be,q);return ge}function m(J,Z,ce,me,be,q,U){Z.writelen=me,Z.writecb=U,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new O("write")):ce?J._writev(be,Z.onwrite):J._write(be,q,Z.onwrite),Z.sync=!1}function N(J,Z,ce,me,be){--Z.pendingcb,ce?(_.nextTick(be,me),_.nextTick(ve,J,Z),J._writableState.errorEmitted=!0,re(J,me)):(be(me),J._writableState.errorEmitted=!0,re(J,me),ve(J,Z))}function I(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,Z){var ce=J._writableState,me=ce.sync,be=ce.writecb;if(typeof be!="function")throw new A;if(I(ce),Z)N(J,ce,me,Z,be);else{var q=y(ce)||J.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(J,ce),me?_.nextTick(P,J,ce,q,be):P(J,ce,q,be)}}function P(J,Z,ce,me){ce||j(J,Z),Z.pendingcb--,me(),ve(J,Z)}function j(J,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,J.emit("drain"))}function G(J,Z){Z.bufferProcessing=!0;var ce=Z.bufferedRequest;if(J._writev&&ce&&ce.next){var me=Z.bufferedRequestCount,be=new Array(me),q=Z.corkedRequestsFree;q.entry=ce;for(var U=0,oe=!0;ce;)be[U]=ce,ce.isBuf||(oe=!1),ce=ce.next,U+=1;be.allBuffers=oe,m(J,Z,!0,Z.length,be,"",q.finish),Z.pendingcb++,Z.lastBufferedRequest=null,q.next?(Z.corkedRequestsFree=q.next,q.next=null):Z.corkedRequestsFree=new x(Z),Z.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,Me=ce.encoding,he=ce.callback,Te=Z.objectMode?1:ge.length;if(m(J,Z,!1,Te,ge,Me,he),ce=ce.next,Z.bufferedRequestCount--,Z.writing)break}ce===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ce,Z.bufferProcessing=!1}W.prototype._write=function(J,Z,ce){ce(new k("_write()"))},W.prototype._writev=null,W.prototype.end=function(J,Z,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,Z=null):typeof Z=="function"&&(ce=Z,Z=null),J!=null&&this.write(J,Z),me.corked&&(me.corked=1,this.uncork()),me.ending||ye(this,me,ce),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function H(J,Z){J._final(function(ce){Z.pendingcb--,ce&&re(J,ce),Z.prefinished=!0,J.emit("prefinish"),ve(J,Z)})}function fe(J,Z){!Z.prefinished&&!Z.finalCalled&&(typeof J._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,_.nextTick(H,J,Z)):(Z.prefinished=!0,J.emit("prefinish")))}function ve(J,Z){var ce=y(Z);if(ce&&(fe(J,Z),Z.pendingcb===0&&(Z.finished=!0,J.emit("finish"),Z.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function ye(J,Z,ce){Z.ending=!0,ve(J,Z),ce&&(Z.finished?_.nextTick(ce):J.once("finish",ce)),Z.ended=!0,J.writable=!1}function Ee(J,Z,ce){var me=J.entry;for(J.entry=null;me;){var be=me.callback;Z.pendingcb--,be(ce),me=me.next}Z.corkedRequestsFree.next=J}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){!this._writableState||(this._writableState.destroyed=Z)}}),W.prototype.destroy=u.destroy,W.prototype._undestroy=u.undestroy,W.prototype._destroy=function(J,Z){Z(J)}},20828:(b,$,w)=>{"use strict";var _=w(34155),D;function x(O,V,Y){return V in O?Object.defineProperty(O,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):O[V]=Y,O}var S=w(81086),o=Symbol("lastResolve"),l=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),g=Symbol("lastPromise"),f=Symbol("handlePromise"),u=Symbol("stream");function E(O,V){return{value:O,done:V}}function d(O){var V=O[o];if(V!==null){var Y=O[u].read();Y!==null&&(O[g]=null,O[o]=null,O[l]=null,V(E(Y,!1)))}}function h(O){_.nextTick(d,O)}function v(O,V){return function(Y,ee){O.then(function(){if(V[c]){Y(E(void 0,!0));return}V[f](Y,ee)},ee)}}var k=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((D={get stream(){return this[u]},next:function(){var V=this,Y=this[n];if(Y!==null)return Promise.reject(Y);if(this[c])return Promise.resolve(E(void 0,!0));if(this[u].destroyed)return new Promise(function(ne,ue){_.nextTick(function(){V[n]?ue(V[n]):ne(E(void 0,!0))})});var ee=this[g],re;if(ee)re=new Promise(v(ee,this));else{var ie=this[u].read();if(ie!==null)return Promise.resolve(E(ie,!1));re=new Promise(this[f])}return this[g]=re,re}},x(D,Symbol.asyncIterator,function(){return this}),x(D,"return",function(){var V=this;return new Promise(function(Y,ee){V[u].destroy(null,function(re){if(re){ee(re);return}Y(E(void 0,!0))})})}),D),k),R=function(V){var Y,ee=Object.create(A,(Y={},x(Y,u,{value:V,writable:!0}),x(Y,o,{value:null,writable:!0}),x(Y,l,{value:null,writable:!0}),x(Y,n,{value:null,writable:!0}),x(Y,c,{value:V._readableState.endEmitted,writable:!0}),x(Y,f,{value:function(ie,ne){var ue=ee[u].read();ue?(ee[g]=null,ee[o]=null,ee[l]=null,ie(E(ue,!1))):(ee[o]=ie,ee[l]=ne)},writable:!0}),Y));return ee[g]=null,S(V,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=ee[l];ie!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ie(re)),ee[n]=re;return}var ne=ee[o];ne!==null&&(ee[g]=null,ee[o]=null,ee[l]=null,ne(E(void 0,!0))),ee[c]=!0}),V.on("readable",h.bind(null,ee)),ee};b.exports=R},39686:(b,$,w)=>{"use strict";function _(d,h){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(d);h&&(k=k.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),v.push.apply(v,k)}return v}function D(d){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?_(Object(v),!0).forEach(function(k){x(d,k,v[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):_(Object(v)).forEach(function(k){Object.defineProperty(d,k,Object.getOwnPropertyDescriptor(v,k))})}return d}function x(d,h,v){return h in d?Object.defineProperty(d,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[h]=v,d}function S(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function o(d,h){for(var v=0;v<h.length;v++){var k=h[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(d,k.key,k)}}function l(d,h,v){return h&&o(d.prototype,h),v&&o(d,v),d}var n=w(48764),c=n.Buffer,g=w(69862),f=g.inspect,u=f&&f.custom||"inspect";function E(d,h,v){c.prototype.copy.call(d,h,v)}b.exports=function(){function d(){S(this,d),this.head=null,this.tail=null,this.length=0}return l(d,[{key:"push",value:function(v){var k={data:v,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(v){var k={data:v,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var k=this.head,A=""+k.data;k=k.next;)A+=v+k.data;return A}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var k=c.allocUnsafe(v>>>0),A=this.head,R=0;A;)E(A.data,k,R),R+=A.data.length,A=A.next;return k}},{key:"consume",value:function(v,k){var A;return v<this.head.data.length?(A=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?A=this.shift():A=k?this._getString(v):this._getBuffer(v),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var k=this.head,A=1,R=k.data;for(v-=R.length;k=k.next;){var O=k.data,V=v>O.length?O.length:v;if(V===O.length?R+=O:R+=O.slice(0,v),v-=V,v===0){V===O.length?(++A,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=O.slice(V));break}++A}return this.length-=A,R}},{key:"_getBuffer",value:function(v){var k=c.allocUnsafe(v),A=this.head,R=1;for(A.data.copy(k),v-=A.data.length;A=A.next;){var O=A.data,V=v>O.length?O.length:v;if(O.copy(k,k.length-v,0,V),v-=V,v===0){V===O.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=O.slice(V));break}++R}return this.length-=R,k}},{key:u,value:function(v,k){return f(this,D({},k,{depth:0,customInspect:!1}))}}]),d}()},71029:(b,$,w)=>{"use strict";var _=w(34155);function D(c,g){var f=this,u=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return u||E?(g?g(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(l,this,c)):_.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!g&&d?f._writableState?f._writableState.errorEmitted?_.nextTick(S,f):(f._writableState.errorEmitted=!0,_.nextTick(x,f,d)):_.nextTick(x,f,d):g?(_.nextTick(S,f),g(d)):_.nextTick(S,f)}),this)}function x(c,g){l(c,g),S(c)}function S(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,g){c.emit("error",g)}function n(c,g){var f=c._readableState,u=c._writableState;f&&f.autoDestroy||u&&u.autoDestroy?c.destroy(g):c.emit("error",g)}b.exports={destroy:D,undestroy:o,errorOrDestroy:n}},81086:(b,$,w)=>{"use strict";var _=w(58106).q.ERR_STREAM_PREMATURE_CLOSE;function D(l){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,g=new Array(c),f=0;f<c;f++)g[f]=arguments[f];l.apply(this,g)}}}function x(){}function S(l){return l.setHeader&&typeof l.abort=="function"}function o(l,n,c){if(typeof n=="function")return o(l,null,n);n||(n={}),c=D(c||x);var g=n.readable||n.readable!==!1&&l.readable,f=n.writable||n.writable!==!1&&l.writable,u=function(){l.writable||d()},E=l._writableState&&l._writableState.finished,d=function(){f=!1,E=!0,g||c.call(l)},h=l._readableState&&l._readableState.endEmitted,v=function(){g=!1,h=!0,f||c.call(l)},k=function(V){c.call(l,V)},A=function(){var V;if(g&&!h)return(!l._readableState||!l._readableState.ended)&&(V=new _),c.call(l,V);if(f&&!E)return(!l._writableState||!l._writableState.ended)&&(V=new _),c.call(l,V)},R=function(){l.req.on("finish",d)};return S(l)?(l.on("complete",d),l.on("abort",A),l.req?R():l.on("request",R)):f&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",d),n.error!==!1&&l.on("error",k),l.on("close",A),function(){l.removeListener("complete",d),l.removeListener("abort",A),l.removeListener("request",R),l.req&&l.req.removeListener("finish",d),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",d),l.removeListener("end",v),l.removeListener("error",k),l.removeListener("close",A)}}b.exports=o},31265:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},56472:(b,$,w)=>{"use strict";var _;function D(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}var x=w(58106).q,S=x.ERR_MISSING_ARGS,o=x.ERR_STREAM_DESTROYED;function l(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,h,v,k){k=D(k);var A=!1;d.on("close",function(){A=!0}),_===void 0&&(_=w(81086)),_(d,{readable:h,writable:v},function(O){if(O)return k(O);A=!0,k()});var R=!1;return function(O){if(!A&&!R){if(R=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();k(O||new o("pipe"))}}}function g(d){d()}function f(d,h){return d.pipe(h)}function u(d){return!d.length||typeof d[d.length-1]!="function"?l:d.pop()}function E(){for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];var k=u(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new S("streams");var A,R=h.map(function(O,V){var Y=V<h.length-1,ee=V>0;return c(O,Y,ee,function(re){A||(A=re),re&&R.forEach(g),!Y&&(R.forEach(g),k(A))})});return h.reduce(f)}b.exports=E},30094:(b,$,w)=>{"use strict";var _=w(58106).q.ERR_INVALID_OPT_VALUE;function D(S,o,l){return S.highWaterMark!=null?S.highWaterMark:o?S[l]:null}function x(S,o,l,n){var c=D(o,n,l);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var g=n?l:"highWaterMark";throw new _(g,c)}return Math.floor(c)}return S.objectMode?16:16*1024}b.exports={getHighWaterMark:x}},83194:(b,$,w)=>{b.exports=w(17187).EventEmitter},54729:(b,$,w)=>{"use strict";var _=w(89509).Buffer,D=_.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}function S(R){var O=x(R);if(typeof O!="string"&&(_.isEncoding===D||!D(R)))throw new Error("Unknown encoding: "+R);return O||R}$.s=o;function o(R){this.encoding=S(R);var O;switch(this.encoding){case"utf16le":this.text=E,this.end=d,O=4;break;case"utf8":this.fillLast=g,O=4;break;case"base64":this.text=h,this.end=v,O=3;break;default:this.write=k,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(O)}o.prototype.write=function(R){if(R.length===0)return"";var O,V;if(this.lastNeed){if(O=this.fillLast(R),O===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<R.length?O?O+this.text(R,V):this.text(R,V):O||""},o.prototype.end=u,o.prototype.text=f,o.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function l(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function n(R,O,V){var Y=O.length-1;if(Y<V)return 0;var ee=l(O[Y]);return ee>=0?(ee>0&&(R.lastNeed=ee-1),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(R.lastNeed=ee-2),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(ee===2?ee=0:R.lastNeed=ee-3),ee):0))}function c(R,O,V){if((O[0]&192)!=128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&O.length>1){if((O[1]&192)!=128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&O.length>2&&(O[2]&192)!=128)return R.lastNeed=2,"\uFFFD"}}function g(R){var O=this.lastTotal-this.lastNeed,V=c(this,R,O);if(V!==void 0)return V;if(this.lastNeed<=R.length)return R.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,O,0,R.length),this.lastNeed-=R.length}function f(R,O){var V=n(this,R,O);if(!this.lastNeed)return R.toString("utf8",O);this.lastTotal=V;var Y=R.length-(V-this.lastNeed);return R.copy(this.lastChar,0,Y),R.toString("utf8",O,Y)}function u(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+"\uFFFD":O}function E(R,O){if((R.length-O)%2==0){var V=R.toString("utf16le",O);if(V){var Y=V.charCodeAt(V.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",O,R.length-1)}function d(R){var O=R&&R.length?this.write(R):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,V)}return O}function h(R,O){var V=(R.length-O)%3;return V===0?R.toString("base64",O):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",O,R.length-V))}function v(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(R){return R.toString(this.encoding)}function A(R){return R&&R.length?this.write(R):""}},32553:(b,$,w)=>{"use strict";var _=w(40396).Buffer,D=_.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}function S(R){var O=x(R);if(typeof O!="string"&&(_.isEncoding===D||!D(R)))throw new Error("Unknown encoding: "+R);return O||R}$.s=o;function o(R){this.encoding=S(R);var O;switch(this.encoding){case"utf16le":this.text=E,this.end=d,O=4;break;case"utf8":this.fillLast=g,O=4;break;case"base64":this.text=h,this.end=v,O=3;break;default:this.write=k,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(O)}o.prototype.write=function(R){if(R.length===0)return"";var O,V;if(this.lastNeed){if(O=this.fillLast(R),O===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<R.length?O?O+this.text(R,V):this.text(R,V):O||""},o.prototype.end=u,o.prototype.text=f,o.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function l(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function n(R,O,V){var Y=O.length-1;if(Y<V)return 0;var ee=l(O[Y]);return ee>=0?(ee>0&&(R.lastNeed=ee-1),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(R.lastNeed=ee-2),ee):--Y<V||ee===-2?0:(ee=l(O[Y]),ee>=0?(ee>0&&(ee===2?ee=0:R.lastNeed=ee-3),ee):0))}function c(R,O,V){if((O[0]&192)!=128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&O.length>1){if((O[1]&192)!=128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&O.length>2&&(O[2]&192)!=128)return R.lastNeed=2,"\uFFFD"}}function g(R){var O=this.lastTotal-this.lastNeed,V=c(this,R,O);if(V!==void 0)return V;if(this.lastNeed<=R.length)return R.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,O,0,R.length),this.lastNeed-=R.length}function f(R,O){var V=n(this,R,O);if(!this.lastNeed)return R.toString("utf8",O);this.lastTotal=V;var Y=R.length-(V-this.lastNeed);return R.copy(this.lastChar,0,Y),R.toString("utf8",O,Y)}function u(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+"\uFFFD":O}function E(R,O){if((R.length-O)%2==0){var V=R.toString("utf16le",O);if(V){var Y=V.charCodeAt(V.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",O,R.length-1)}function d(R){var O=R&&R.length?this.write(R):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,V)}return O}function h(R,O){var V=(R.length-O)%3;return V===0?R.toString("base64",O):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",O,R.length-V))}function v(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(R){return R.toString(this.encoding)}function A(R){return R&&R.length?this.write(R):""}},40396:(b,$,w)=>{var _=w(48764),D=_.Buffer;function x(o,l){for(var n in o)l[n]=o[n]}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?b.exports=_:(x(_,$),$.Buffer=S);function S(o,l,n){return D(o,l,n)}x(D,S),S.from=function(o,l,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return D(o,l,n)},S.alloc=function(o,l,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=D(o);return l!==void 0?typeof n=="string"?c.fill(l,n):c.fill(l):c.fill(0),c},S.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return D(o)},S.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(o)}},67121:(b,$,w)=>{"use strict";w.d($,{Z:()=>S});function _(o){var l,n=o.Symbol;return typeof n=="function"?n.observable?l=n.observable:(l=n("observable"),n.observable=l):l="@@observable",l}b=w.hmd(b);var D;typeof self!="undefined"?D=self:typeof window!="undefined"?D=window:typeof w.g!="undefined"?D=w.g:D=b;var x=_(D);const S=x},14802:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=w(26363);$.ExperimentationService=_.ExperimentationService},26363:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(34067),D=w(44234),x=w(15975);class S extends x.ExperimentationServiceAutoPolling{constructor(l){super(l.telemetry,l.filterProviders||[],l.refetchInterval!=null?l.refetchInterval:0,l.featuresTelemetryPropertyName,l.assignmentContextTelemetryPropertyName,l.telemetryEventName,l.storageKey,l.keyValueStorage);this.options=l,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new _.TasApiFeatureProvider(new D.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}$.ExperimentationService=S,S.REFRESH_RATE_IN_MINUTES=30},15975:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(77987),D=w(73334);class x extends _.ExperimentationServiceBase{constructor(o,l,n,c,g,f,u,E){super(o,c,g,f,u,E);if(this.telemetry=o,this.filterProviders=l,this.refreshRateMs=n,this.featuresTelemetryPropertyName=c,this.assignmentContextTelemetryPropertyName=g,this.telemetryEventName=f,this.storageKey=u,this.storage=E,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new D.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(o=!1){if(this.pollingService){this.pollingService.StopPolling();let l=await super.getFeaturesAsync(o);return this.pollingService.StartPolling(),l}else return await super.getFeaturesAsync(o)}}$.ExperimentationServiceAutoPolling=x},77987:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(17002);class D{constructor(S,o,l,n,c,g){this.telemetry=S,this.featuresTelemetryPropertyName=o,this.assignmentContextTelemetryPropertyName=l,this.telemetryEventName=n,this.storageKey=c,this.storage=g,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(g=new _.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(S){this._features=S,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(S=!1){if(this.fetchPromise!=null)return await this.fetchPromise,this.features;if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async l=>await l.getFeatures()));let o=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(o,S),this.features}updateFeatures(S,o=!1){let l={features:[],assignmentContext:"",configs:[]};for(let n of S){for(let c of n.features)l.features.includes(c)||l.features.push(c);for(let c of n.configs){const g=l.configs.find(f=>f.Id===c.Id);g?g.Parameters=Object.assign(Object.assign({},g.Parameters),c.Parameters):l.configs.push(c)}l.assignmentContext+=n.assignmentContext}(o||!this.featuresConsumed)&&(this.features=l),this.storage&&this.storage.setValue(this.storageKey,l)}async loadCachedFeatureData(){let S;this.storage&&(S=await this.storage.getValue(this.storageKey),S!==void 0&&S.configs===void 0&&(S.configs=[])),this.features.features.length===0&&(this.features=S||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(S){return this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isCachedFlightEnabled(S){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isFlightEnabledAsync(S){const o=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(S),o.features.includes(S)}getTreatmentVariable(S,o){var l;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${S}.${o}`),(l=this.features.configs.find(c=>c.Id===S))===null||l===void 0?void 0:l.Parameters[o]}async getTreatmentVariableAsync(S,o){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(S,o)}PostEventToTelemetry(S){this.cachedTelemetryEvents.includes(S)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",S]])),this.cachedTelemetryEvents.push(S))}invokeInit(){this.init()}addFeatureProvider(...S){if(!(S==null||this.featureProviders==null))for(let o of S)this.featureProviders.push(o)}}$.ExperimentationServiceBase=D},60069:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});class w{constructor(D){this.telemetry=D,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let D=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,D}}$.BaseFeatureProvider=w},94e3:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(60069);class D extends _.BaseFeatureProvider{constructor(S,o){super(S);this.telemetry=S,this.filterProviders=o,this.cachedTelemetryEvents=[]}getFilters(){let S=new Map;for(let o of this.filterProviders){let l=o.getFilters();for(let n of l.keys()){let c=l.get(n);S.set(n,c)}}return S}PostEventToTelemetry(S){if(this.cachedTelemetryEvents.includes(S))return;const o=JSON.stringify(S);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",o]])),this.cachedTelemetryEvents.push(S)}}$.FilteredFeatureProvider=D},34067:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(94e3);class D extends _.FilteredFeatureProvider{constructor(S,o,l){super(o,l);this.httpClient=S,this.telemetry=o,this.filterProviders=l}async fetch(){let S=this.getFilters(),o={};for(let f of S.keys()){const u=S.get(f);o[f]=u}let l=await this.httpClient.get({headers:o});S.keys.length>0&&this.PostEventToTelemetry(o);let n=l.data,c=n.Configs,g=[];for(let f of c)if(!!f.Parameters)for(let u of Object.keys(f.Parameters)){const E=u+(f.Parameters[u]?"":"cf");g.includes(E)||g.push(E)}return{features:g,assignmentContext:n.AssignmentContext,configs:c}}}$.TasApiFeatureProvider=D},44234:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(9669);class D{constructor(S){this.endpoint=S}get(S){return _.default.get(this.endpoint,Object.assign(Object.assign({},S),{proxy:!1}))}}$.AxiosHttpClient=D},17002:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});class w{constructor(){this.storage=new Map}async getValue(D,x){return this.storage.has(D)?await Promise.resolve(this.storage.get(D)):await Promise.resolve(x||void 0)}setValue(D,x){this.storage.set(D,x)}}$.MemoryKeyValueStorage=w},73334:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});class w{constructor(D){this.fetchInterval=D}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(D){this.onTick=D}StartPolling(D=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(D&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}$.PollingService=w},94927:(b,$,w)=>{b.exports=_;function _(x,S){if(D("noDeprecation"))return x;var o=!1;function l(){if(!o){if(D("throwDeprecation"))throw new Error(S);D("traceDeprecation")?console.trace(S):console.warn(S),o=!0}return x.apply(this,arguments)}return l}function D(x){try{if(!w.g.localStorage)return!1}catch(o){return!1}var S=w.g.localStorage[x];return S==null?!1:String(S).toLowerCase()==="true"}},20384:b=>{b.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},55955:(b,$,w)=>{"use strict";var _=w(82584),D=w(48662),x=w(86430),S=w(85692);function o(he){return he.call.bind(he)}var l=typeof BigInt!="undefined",n=typeof Symbol!="undefined",c=o(Object.prototype.toString),g=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),u=o(Boolean.prototype.valueOf);if(l)var E=o(BigInt.prototype.valueOf);if(n)var d=o(Symbol.prototype.valueOf);function h(he,Te){if(typeof he!="object")return!1;try{return Te(he),!0}catch(Ae){return!1}}$.isArgumentsObject=_,$.isGeneratorFunction=D,$.isTypedArray=S;function v(he){return typeof Promise!="undefined"&&he instanceof Promise||he!==null&&typeof he=="object"&&typeof he.then=="function"&&typeof he.catch=="function"}$.isPromise=v;function k(he){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(he):S(he)||y(he)}$.isArrayBufferView=k;function A(he){return x(he)==="Uint8Array"}$.isUint8Array=A;function R(he){return x(he)==="Uint8ClampedArray"}$.isUint8ClampedArray=R;function O(he){return x(he)==="Uint16Array"}$.isUint16Array=O;function V(he){return x(he)==="Uint32Array"}$.isUint32Array=V;function Y(he){return x(he)==="Int8Array"}$.isInt8Array=Y;function ee(he){return x(he)==="Int16Array"}$.isInt16Array=ee;function re(he){return x(he)==="Int32Array"}$.isInt32Array=re;function ie(he){return x(he)==="Float32Array"}$.isFloat32Array=ie;function ne(he){return x(he)==="Float64Array"}$.isFloat64Array=ne;function ue(he){return x(he)==="BigInt64Array"}$.isBigInt64Array=ue;function W(he){return x(he)==="BigUint64Array"}$.isBigUint64Array=W;function T(he){return c(he)==="[object Map]"}T.working=typeof Map!="undefined"&&T(new Map);function L(he){return typeof Map=="undefined"?!1:T.working?T(he):he instanceof Map}$.isMap=L;function C(he){return c(he)==="[object Set]"}C.working=typeof Set!="undefined"&&C(new Set);function s(he){return typeof Set=="undefined"?!1:C.working?C(he):he instanceof Set}$.isSet=s;function m(he){return c(he)==="[object WeakMap]"}m.working=typeof WeakMap!="undefined"&&m(new WeakMap);function N(he){return typeof WeakMap=="undefined"?!1:m.working?m(he):he instanceof WeakMap}$.isWeakMap=N;function I(he){return c(he)==="[object WeakSet]"}I.working=typeof WeakSet!="undefined"&&I(new WeakSet);function F(he){return I(he)}$.isWeakSet=F;function P(he){return c(he)==="[object ArrayBuffer]"}P.working=typeof ArrayBuffer!="undefined"&&P(new ArrayBuffer);function j(he){return typeof ArrayBuffer=="undefined"?!1:P.working?P(he):he instanceof ArrayBuffer}$.isArrayBuffer=j;function G(he){return c(he)==="[object DataView]"}G.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&G(new DataView(new ArrayBuffer(1),0,1));function y(he){return typeof DataView=="undefined"?!1:G.working?G(he):he instanceof DataView}$.isDataView=y;var H=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function fe(he){return c(he)==="[object SharedArrayBuffer]"}function ve(he){return typeof H=="undefined"?!1:(typeof fe.working=="undefined"&&(fe.working=fe(new H)),fe.working?fe(he):he instanceof H)}$.isSharedArrayBuffer=ve;function ye(he){return c(he)==="[object AsyncFunction]"}$.isAsyncFunction=ye;function Ee(he){return c(he)==="[object Map Iterator]"}$.isMapIterator=Ee;function J(he){return c(he)==="[object Set Iterator]"}$.isSetIterator=J;function Z(he){return c(he)==="[object Generator]"}$.isGeneratorObject=Z;function ce(he){return c(he)==="[object WebAssembly.Module]"}$.isWebAssemblyCompiledModule=ce;function me(he){return h(he,g)}$.isNumberObject=me;function be(he){return h(he,f)}$.isStringObject=be;function q(he){return h(he,u)}$.isBooleanObject=q;function U(he){return l&&h(he,E)}$.isBigIntObject=U;function oe(he){return n&&h(he,d)}$.isSymbolObject=oe;function ge(he){return me(he)||be(he)||q(he)||U(he)||oe(he)}$.isBoxedPrimitive=ge;function Me(he){return typeof Uint8Array!="undefined"&&(j(he)||ve(he))}$.isAnyArrayBuffer=Me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(he){Object.defineProperty($,he,{enumerable:!1,value:function(){throw new Error(he+" is not supported in userland")}})})},89539:(b,$,w)=>{var _=w(34155),D=Object.getOwnPropertyDescriptors||function(H){for(var fe=Object.keys(H),ve={},ye=0;ye<fe.length;ye++)ve[fe[ye]]=Object.getOwnPropertyDescriptor(H,fe[ye]);return ve},x=/%[sdj%]/g;$.format=function(y){if(!ee(y)){for(var H=[],fe=0;fe<arguments.length;fe++)H.push(n(arguments[fe]));return H.join(" ")}for(var fe=1,ve=arguments,ye=ve.length,Ee=String(y).replace(x,function(Z){if(Z==="%%")return"%";if(fe>=ye)return Z;switch(Z){case"%s":return String(ve[fe++]);case"%d":return Number(ve[fe++]);case"%j":try{return JSON.stringify(ve[fe++])}catch(ce){return"[Circular]"}default:return Z}}),J=ve[fe];fe<ye;J=ve[++fe])O(J)||!ue(J)?Ee+=" "+J:Ee+=" "+n(J);return Ee},$.deprecate=function(y,H){if(typeof _!="undefined"&&_.noDeprecation===!0)return y;if(typeof _=="undefined")return function(){return $.deprecate(y,H).apply(this,arguments)};var fe=!1;function ve(){if(!fe){if(_.throwDeprecation)throw new Error(H);_.traceDeprecation?console.trace(H):console.error(H),fe=!0}return y.apply(this,arguments)}return ve};var S={},o=/^$/;if(_.env.NODE_DEBUG){var l=_.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+l+"$","i")}$.debuglog=function(y){if(y=y.toUpperCase(),!S[y])if(o.test(y)){var H=_.pid;S[y]=function(){var fe=$.format.apply($,arguments);console.error("%s %d: %s",y,H,fe)}}else S[y]=function(){};return S[y]};function n(y,H){var fe={seen:[],stylize:g};return arguments.length>=3&&(fe.depth=arguments[2]),arguments.length>=4&&(fe.colors=arguments[3]),R(H)?fe.showHidden=H:H&&$._extend(fe,H),ie(fe.showHidden)&&(fe.showHidden=!1),ie(fe.depth)&&(fe.depth=2),ie(fe.colors)&&(fe.colors=!1),ie(fe.customInspect)&&(fe.customInspect=!0),fe.colors&&(fe.stylize=c),u(fe,y,fe.depth)}$.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(y,H){var fe=n.styles[H];return fe?"["+n.colors[fe][0]+"m"+y+"["+n.colors[fe][1]+"m":y}function g(y,H){return y}function f(y){var H={};return y.forEach(function(fe,ve){H[fe]=!0}),H}function u(y,H,fe){if(y.customInspect&&H&&L(H.inspect)&&H.inspect!==$.inspect&&!(H.constructor&&H.constructor.prototype===H)){var ve=H.inspect(fe,y);return ee(ve)||(ve=u(y,ve,fe)),ve}var ye=E(y,H);if(ye)return ye;var Ee=Object.keys(H),J=f(Ee);if(y.showHidden&&(Ee=Object.getOwnPropertyNames(H)),T(H)&&(Ee.indexOf("message")>=0||Ee.indexOf("description")>=0))return d(H);if(Ee.length===0){if(L(H)){var Z=H.name?": "+H.name:"";return y.stylize("[Function"+Z+"]","special")}if(ne(H))return y.stylize(RegExp.prototype.toString.call(H),"regexp");if(W(H))return y.stylize(Date.prototype.toString.call(H),"date");if(T(H))return d(H)}var ce="",me=!1,be=["{","}"];if(A(H)&&(me=!0,be=["[","]"]),L(H)){var q=H.name?": "+H.name:"";ce=" [Function"+q+"]"}if(ne(H)&&(ce=" "+RegExp.prototype.toString.call(H)),W(H)&&(ce=" "+Date.prototype.toUTCString.call(H)),T(H)&&(ce=" "+d(H)),Ee.length===0&&(!me||H.length==0))return be[0]+ce+be[1];if(fe<0)return ne(H)?y.stylize(RegExp.prototype.toString.call(H),"regexp"):y.stylize("[Object]","special");y.seen.push(H);var U;return me?U=h(y,H,fe,J,Ee):U=Ee.map(function(oe){return v(y,H,fe,J,oe,me)}),y.seen.pop(),k(U,ce,be)}function E(y,H){if(ie(H))return y.stylize("undefined","undefined");if(ee(H)){var fe="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return y.stylize(fe,"string")}if(Y(H))return y.stylize(""+H,"number");if(R(H))return y.stylize(""+H,"boolean");if(O(H))return y.stylize("null","null")}function d(y){return"["+Error.prototype.toString.call(y)+"]"}function h(y,H,fe,ve,ye){for(var Ee=[],J=0,Z=H.length;J<Z;++J)F(H,String(J))?Ee.push(v(y,H,fe,ve,String(J),!0)):Ee.push("");return ye.forEach(function(ce){ce.match(/^\d+$/)||Ee.push(v(y,H,fe,ve,ce,!0))}),Ee}function v(y,H,fe,ve,ye,Ee){var J,Z,ce;if(ce=Object.getOwnPropertyDescriptor(H,ye)||{value:H[ye]},ce.get?ce.set?Z=y.stylize("[Getter/Setter]","special"):Z=y.stylize("[Getter]","special"):ce.set&&(Z=y.stylize("[Setter]","special")),F(ve,ye)||(J="["+ye+"]"),Z||(y.seen.indexOf(ce.value)<0?(O(fe)?Z=u(y,ce.value,null):Z=u(y,ce.value,fe-1),Z.indexOf(`
`)>-1&&(Ee?Z=Z.split(`
`).map(function(me){return"  "+me}).join(`
`).substr(2):Z=`
`+Z.split(`
`).map(function(me){return"   "+me}).join(`
`))):Z=y.stylize("[Circular]","special")),ie(J)){if(Ee&&ye.match(/^\d+$/))return Z;J=JSON.stringify(""+ye),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=y.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=y.stylize(J,"string"))}return J+": "+Z}function k(y,H,fe){var ve=0,ye=y.reduce(function(Ee,J){return ve++,J.indexOf(`
`)>=0&&ve++,Ee+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ye>60?fe[0]+(H===""?"":H+`
 `)+" "+y.join(`,
  `)+" "+fe[1]:fe[0]+H+" "+y.join(", ")+" "+fe[1]}$.types=w(55955);function A(y){return Array.isArray(y)}$.isArray=A;function R(y){return typeof y=="boolean"}$.isBoolean=R;function O(y){return y===null}$.isNull=O;function V(y){return y==null}$.isNullOrUndefined=V;function Y(y){return typeof y=="number"}$.isNumber=Y;function ee(y){return typeof y=="string"}$.isString=ee;function re(y){return typeof y=="symbol"}$.isSymbol=re;function ie(y){return y===void 0}$.isUndefined=ie;function ne(y){return ue(y)&&s(y)==="[object RegExp]"}$.isRegExp=ne,$.types.isRegExp=ne;function ue(y){return typeof y=="object"&&y!==null}$.isObject=ue;function W(y){return ue(y)&&s(y)==="[object Date]"}$.isDate=W,$.types.isDate=W;function T(y){return ue(y)&&(s(y)==="[object Error]"||y instanceof Error)}$.isError=T,$.types.isNativeError=T;function L(y){return typeof y=="function"}$.isFunction=L;function C(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||typeof y=="undefined"}$.isPrimitive=C,$.isBuffer=w(20384);function s(y){return Object.prototype.toString.call(y)}function m(y){return y<10?"0"+y.toString(10):y.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var y=new Date,H=[m(y.getHours()),m(y.getMinutes()),m(y.getSeconds())].join(":");return[y.getDate(),N[y.getMonth()],H].join(" ")}$.log=function(){console.log("%s - %s",I(),$.format.apply($,arguments))},$.inherits=w(35717),$._extend=function(y,H){if(!H||!ue(H))return y;for(var fe=Object.keys(H),ve=fe.length;ve--;)y[fe[ve]]=H[fe[ve]];return y};function F(y,H){return Object.prototype.hasOwnProperty.call(y,H)}var P=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;$.promisify=function(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');if(P&&H[P]){var fe=H[P];if(typeof fe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fe,P,{value:fe,enumerable:!1,writable:!1,configurable:!0}),fe}function fe(){for(var ve,ye,Ee=new Promise(function(ce,me){ve=ce,ye=me}),J=[],Z=0;Z<arguments.length;Z++)J.push(arguments[Z]);J.push(function(ce,me){ce?ye(ce):ve(me)});try{H.apply(this,J)}catch(ce){ye(ce)}return Ee}return Object.setPrototypeOf(fe,Object.getPrototypeOf(H)),P&&Object.defineProperty(fe,P,{value:fe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fe,D(H))},$.promisify.custom=P;function j(y,H){if(!y){var fe=new Error("Promise was rejected with a falsy value");fe.reason=y,y=fe}return H(y)}function G(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');function H(){for(var fe=[],ve=0;ve<arguments.length;ve++)fe.push(arguments[ve]);var ye=fe.pop();if(typeof ye!="function")throw new TypeError("The last argument must be of type Function");var Ee=this,J=function(){return ye.apply(Ee,arguments)};y.apply(this,fe).then(function(Z){_.nextTick(J.bind(null,null,Z))},function(Z){_.nextTick(j.bind(null,Z,J))})}return Object.setPrototypeOf(H,Object.getPrototypeOf(y)),Object.defineProperties(H,D(y)),H}$.callbackify=G},59035:(b,$,w)=>{"use strict";var _;_={value:!0};var D=w(15654);$.X7=D.getExperimentationService,_=D.getExperimentationServiceAsync;var x=w(22560);$.aU=x.TargetPopulation},55708:(b,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});class w{constructor(D){this.mementoGlobalStorage=D}async getValue(D,x){return await this.mementoGlobalStorage.get(D)||x}setValue(D,x){this.mementoGlobalStorage.update(D,x)}}$.MementoKeyValueStorage=w},22560:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(37549);class D{constructor(l,n,c){this.extensionName=l,this.extensionVersion=n,this.targetPopulation=c}static trimVersionSuffix(l){const n=/\-[a-zA-Z0-9]+$/;return l.split(n)[0]}getFilterValue(l){switch(l){case x.ApplicationVersion:return D.trimVersionSuffix(_.version);case x.Build:return _.env.appName;case x.ClientId:return _.env.machineId;case x.ExtensionName:return this.extensionName;case x.ExtensionVersion:return D.trimVersionSuffix(this.extensionVersion);case x.Language:return _.env.language;case x.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let l=new Map,n=Object.values(x);for(let c of n)l.set(c,this.getFilterValue(c));return l}}$.VSCodeFilterProvider=D;var x;(function(o){o.Market="X-MSEdge-Market",o.CorpNet="X-FD-Corpnet",o.ApplicationVersion="X-VSCode-AppVersion",o.Build="X-VSCode-Build",o.ClientId="X-MSEdge-ClientId",o.ExtensionName="X-VSCode-ExtensionName",o.ExtensionVersion="X-VSCode-ExtensionVersion",o.Language="X-VSCode-Language",o.TargetPopulation="X-VSCode-TargetPopulation"})(x=$.Filters||($.Filters={}));var S;(function(o){o.Team="team",o.Internal="internal",o.Insiders="insider",o.Public="public"})(S=$.TargetPopulation||($.TargetPopulation={}))},15654:(b,$,w)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});const _=w(22560),D=w(14802),x=w(55708),S="https://default.exp-tas.com/vscode/ab",o="query-expfeature",l="VSCode.ABExp.Features",n="abexp.assignmentcontext",c="VSCode.ABExp.FeatureData",g=1e3*60*30;function f(E,d,h,v,k,...A){if(!k)throw new Error("Memento storage was not provided.");const O=[new _.VSCodeFilterProvider(E,d,h),...A],V=new x.MementoKeyValueStorage(k);return new D.ExperimentationService({filterProviders:O,telemetry:v,storageKey:c,keyValueStorage:V,featuresTelemetryPropertyName:l,assignmentContextTelemetryPropertyName:n,telemetryEventName:o,endpoint:S,refetchInterval:g})}$.getExperimentationService=f;async function u(E,d,h,v,k,...A){const R=f(E,d,h,v,k,...A);return await R.initializePromise,R}$.getExperimentationServiceAsync=u},86430:(b,$,w)=>{"use strict";var _=w(49804),D=w(16314),x=w(21924),S=x("Object.prototype.toString"),o=w(41405)(),l=o&&typeof Symbol.toStringTag=="symbol",n=D(),c=x("String.prototype.slice"),g={},f=w(94079),u=Object.getPrototypeOf;l&&f&&u&&_(n,function(h){if(typeof w.g[h]=="function"){var v=new w.g[h];if(!(Symbol.toStringTag in v))throw new EvalError("this engine has support for Symbol.toStringTag, but "+h+" does not have the property! Please report this.");var k=u(v),A=f(k,Symbol.toStringTag);if(!A){var R=u(k);A=f(R,Symbol.toStringTag)}g[h]=A.get}});var E=function(v){var k=!1;return _(g,function(A,R){if(!k)try{var O=A.call(v);O===R&&(k=O)}catch(V){}}),k},d=w(85692);b.exports=function(v){return d(v)?l?E(v):c(S(v),8,-1):!1}},52479:b=>{b.exports=$;function $(w,_){if(w&&_)return $(w)(_);if(typeof w!="function")throw new TypeError("need wrapper function");return Object.keys(w).forEach(function(x){D[x]=w[x]}),D;function D(){for(var x=new Array(arguments.length),S=0;S<x.length;S++)x[S]=arguments[S];var o=w.apply(this,x),l=x[x.length-1];return typeof o=="function"&&o!==l&&Object.keys(l).forEach(function(n){o[n]=l[n]}),o}}},49602:b=>{"use strict";b.exports=function($){$.prototype[Symbol.iterator]=function*(){for(let w=this.head;w;w=w.next)yield w.value}}},34411:(b,$,w)=>{"use strict";b.exports=_,_.Node=o,_.create=_;function _(l){var n=this;if(n instanceof _||(n=new _),n.tail=null,n.head=null,n.length=0,l&&typeof l.forEach=="function")l.forEach(function(f){n.push(f)});else if(arguments.length>0)for(var c=0,g=arguments.length;c<g;c++)n.push(arguments[c]);return n}_.prototype.removeNode=function(l){if(l.list!==this)throw new Error("removing node which does not belong to this list");var n=l.next,c=l.prev;return n&&(n.prev=c),c&&(c.next=n),l===this.head&&(this.head=n),l===this.tail&&(this.tail=c),l.list.length--,l.next=null,l.prev=null,l.list=null,n},_.prototype.unshiftNode=function(l){if(l!==this.head){l.list&&l.list.removeNode(l);var n=this.head;l.list=this,l.next=n,n&&(n.prev=l),this.head=l,this.tail||(this.tail=l),this.length++}},_.prototype.pushNode=function(l){if(l!==this.tail){l.list&&l.list.removeNode(l);var n=this.tail;l.list=this,l.prev=n,n&&(n.next=l),this.tail=l,this.head||(this.head=l),this.length++}},_.prototype.push=function(){for(var l=0,n=arguments.length;l<n;l++)x(this,arguments[l]);return this.length},_.prototype.unshift=function(){for(var l=0,n=arguments.length;l<n;l++)S(this,arguments[l]);return this.length},_.prototype.pop=function(){if(!!this.tail){var l=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,l}},_.prototype.shift=function(){if(!!this.head){var l=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,l}},_.prototype.forEach=function(l,n){n=n||this;for(var c=this.head,g=0;c!==null;g++)l.call(n,c.value,g,this),c=c.next},_.prototype.forEachReverse=function(l,n){n=n||this;for(var c=this.tail,g=this.length-1;c!==null;g--)l.call(n,c.value,g,this),c=c.prev},_.prototype.get=function(l){for(var n=0,c=this.head;c!==null&&n<l;n++)c=c.next;if(n===l&&c!==null)return c.value},_.prototype.getReverse=function(l){for(var n=0,c=this.tail;c!==null&&n<l;n++)c=c.prev;if(n===l&&c!==null)return c.value},_.prototype.map=function(l,n){n=n||this;for(var c=new _,g=this.head;g!==null;)c.push(l.call(n,g.value,this)),g=g.next;return c},_.prototype.mapReverse=function(l,n){n=n||this;for(var c=new _,g=this.tail;g!==null;)c.push(l.call(n,g.value,this)),g=g.prev;return c},_.prototype.reduce=function(l,n){var c,g=this.head;if(arguments.length>1)c=n;else if(this.head)g=this.head.next,c=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;g!==null;f++)c=l(c,g.value,f),g=g.next;return c},_.prototype.reduceReverse=function(l,n){var c,g=this.tail;if(arguments.length>1)c=n;else if(this.tail)g=this.tail.prev,c=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;g!==null;f--)c=l(c,g.value,f),g=g.prev;return c},_.prototype.toArray=function(){for(var l=new Array(this.length),n=0,c=this.head;c!==null;n++)l[n]=c.value,c=c.next;return l},_.prototype.toArrayReverse=function(){for(var l=new Array(this.length),n=0,c=this.tail;c!==null;n++)l[n]=c.value,c=c.prev;return l},_.prototype.slice=function(l,n){n=n||this.length,n<0&&(n+=this.length),l=l||0,l<0&&(l+=this.length);var c=new _;if(n<l||n<0)return c;l<0&&(l=0),n>this.length&&(n=this.length);for(var g=0,f=this.head;f!==null&&g<l;g++)f=f.next;for(;f!==null&&g<n;g++,f=f.next)c.push(f.value);return c},_.prototype.sliceReverse=function(l,n){n=n||this.length,n<0&&(n+=this.length),l=l||0,l<0&&(l+=this.length);var c=new _;if(n<l||n<0)return c;l<0&&(l=0),n>this.length&&(n=this.length);for(var g=this.length,f=this.tail;f!==null&&g>n;g--)f=f.prev;for(;f!==null&&g>l;g--,f=f.prev)c.push(f.value);return c},_.prototype.splice=function(l,n,...c){l>this.length&&(l=this.length-1),l<0&&(l=this.length+l);for(var g=0,f=this.head;f!==null&&g<l;g++)f=f.next;for(var u=[],g=0;f&&g<n;g++)u.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var g=0;g<c.length;g++)f=D(this,f,c[g]);return u},_.prototype.reverse=function(){for(var l=this.head,n=this.tail,c=l;c!==null;c=c.prev){var g=c.prev;c.prev=c.next,c.next=g}return this.head=n,this.tail=l,this};function D(l,n,c){var g=n===l.head?new o(c,null,n,l):new o(c,n,n.next,l);return g.next===null&&(l.tail=g),g.prev===null&&(l.head=g),l.length++,g}function x(l,n){l.tail=new o(n,l.tail,null,l),l.head||(l.head=l.tail),l.length++}function S(l,n){l.head=new o(n,null,l.head,l),l.tail||(l.tail=l.head),l.length++}function o(l,n,c,g){if(!(this instanceof o))return new o(l,n,c,g);this.list=g,this.value=l,n?(n.next=this,this.prev=n):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}try{w(49602)(_)}catch(l){}},49329:(b,$,w)=>{b.exports=w(60516).Observable},60516:(b,$)=>{"use strict";var w;w={value:!0},$.Observable=void 0;function _(re,ie){if(!(re instanceof ie))throw new TypeError("Cannot call a class as a function")}function D(re,ie){for(var ne=0;ne<ie.length;ne++){var ue=ie[ne];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(re,ue.key,ue)}}function x(re,ie,ne){return ie&&D(re.prototype,ie),ne&&D(re,ne),re}var S=function(){return typeof Symbol=="function"},o=function(re){return S()&&Boolean(Symbol[re])},l=function(re){return o(re)?Symbol[re]:"@@"+re};S()&&!o("observable")&&(Symbol.observable=Symbol("observable"));var n=l("iterator"),c=l("observable"),g=l("species");function f(re,ie){var ne=re[ie];if(ne!=null){if(typeof ne!="function")throw new TypeError(ne+" is not a function");return ne}}function u(re){var ie=re.constructor;return ie!==void 0&&(ie=ie[g],ie===null&&(ie=void 0)),ie!==void 0?ie:ee}function E(re){return re instanceof ee}function d(re){d.log?d.log(re):setTimeout(function(){throw re})}function h(re){Promise.resolve().then(function(){try{re()}catch(ie){d(ie)}})}function v(re){var ie=re._cleanup;if(ie!==void 0&&(re._cleanup=void 0,!!ie))try{if(typeof ie=="function")ie();else{var ne=f(ie,"unsubscribe");ne&&ne.call(ie)}}catch(ue){d(ue)}}function k(re){re._observer=void 0,re._queue=void 0,re._state="closed"}function A(re){var ie=re._queue;if(!!ie){re._queue=void 0,re._state="ready";for(var ne=0;ne<ie.length&&(R(re,ie[ne].type,ie[ne].value),re._state!=="closed");++ne);}}function R(re,ie,ne){re._state="running";var ue=re._observer;try{var W=f(ue,ie);switch(ie){case"next":W&&W.call(ue,ne);break;case"error":if(k(re),W)W.call(ue,ne);else throw ne;break;case"complete":k(re),W&&W.call(ue);break}}catch(T){d(T)}re._state==="closed"?v(re):re._state==="running"&&(re._state="ready")}function O(re,ie,ne){if(re._state!=="closed"){if(re._state==="buffering"){re._queue.push({type:ie,value:ne});return}if(re._state!=="ready"){re._state="buffering",re._queue=[{type:ie,value:ne}],h(function(){return A(re)});return}R(re,ie,ne)}}var V=function(){function re(ie,ne){_(this,re),this._cleanup=void 0,this._observer=ie,this._queue=void 0,this._state="initializing";var ue=new Y(this);try{this._cleanup=ne.call(void 0,ue)}catch(W){ue.error(W)}this._state==="initializing"&&(this._state="ready")}return x(re,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(k(this),v(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),re}(),Y=function(){function re(ie){_(this,re),this._subscription=ie}return x(re,[{key:"next",value:function(ne){O(this._subscription,"next",ne)}},{key:"error",value:function(ne){O(this._subscription,"error",ne)}},{key:"complete",value:function(){O(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),re}(),ee=function(){function re(ie){if(_(this,re),!(this instanceof re))throw new TypeError("Observable cannot be called as a function");if(typeof ie!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=ie}return x(re,[{key:"subscribe",value:function(ne){return(typeof ne!="object"||ne===null)&&(ne={next:ne,error:arguments[1],complete:arguments[2]}),new V(ne,this._subscriber)}},{key:"forEach",value:function(ne){var ue=this;return new Promise(function(W,T){if(typeof ne!="function"){T(new TypeError(ne+" is not a function"));return}function L(){C.unsubscribe(),W()}var C=ue.subscribe({next:function(s){try{ne(s,L)}catch(m){T(m),C.unsubscribe()}},error:T,complete:W})})}},{key:"map",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var W=u(this);return new W(function(T){return ue.subscribe({next:function(L){try{L=ne(L)}catch(C){return T.error(C)}T.next(L)},error:function(L){T.error(L)},complete:function(){T.complete()}})})}},{key:"filter",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var W=u(this);return new W(function(T){return ue.subscribe({next:function(L){try{if(!ne(L))return}catch(C){return T.error(C)}T.next(L)},error:function(L){T.error(L)},complete:function(){T.complete()}})})}},{key:"reduce",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var W=u(this),T=arguments.length>1,L=!1,C=arguments[1],s=C;return new W(function(m){return ue.subscribe({next:function(N){var I=!L;if(L=!0,!I||T)try{s=ne(s,N)}catch(F){return m.error(F)}else s=N},error:function(N){m.error(N)},complete:function(){if(!L&&!T)return m.error(new TypeError("Cannot reduce an empty sequence"));m.next(s),m.complete()}})})}},{key:"concat",value:function(){for(var ne=this,ue=arguments.length,W=new Array(ue),T=0;T<ue;T++)W[T]=arguments[T];var L=u(this);return new L(function(C){var s,m=0;function N(I){s=I.subscribe({next:function(F){C.next(F)},error:function(F){C.error(F)},complete:function(){m===W.length?(s=void 0,C.complete()):N(L.from(W[m++]))}})}return N(ne),function(){s&&(s.unsubscribe(),s=void 0)}})}},{key:"flatMap",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var W=u(this);return new W(function(T){var L=[],C=ue.subscribe({next:function(m){if(ne)try{m=ne(m)}catch(I){return T.error(I)}var N=W.from(m).subscribe({next:function(I){T.next(I)},error:function(I){T.error(I)},complete:function(){var I=L.indexOf(N);I>=0&&L.splice(I,1),s()}});L.push(N)},error:function(m){T.error(m)},complete:function(){s()}});function s(){C.closed&&L.length===0&&T.complete()}return function(){L.forEach(function(m){return m.unsubscribe()}),C.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(ne){var ue=typeof this=="function"?this:re;if(ne==null)throw new TypeError(ne+" is not an object");var W=f(ne,c);if(W){var T=W.call(ne);if(Object(T)!==T)throw new TypeError(T+" is not an object");return E(T)&&T.constructor===ue?T:new ue(function(L){return T.subscribe(L)})}if(o("iterator")&&(W=f(ne,n),W))return new ue(function(L){h(function(){if(!L.closed){var C=!0,s=!1,m=void 0;try{for(var N=W.call(ne)[Symbol.iterator](),I;!(C=(I=N.next()).done);C=!0){var F=I.value;if(L.next(F),L.closed)return}}catch(P){s=!0,m=P}finally{try{!C&&N.return!=null&&N.return()}finally{if(s)throw m}}L.complete()}})});if(Array.isArray(ne))return new ue(function(L){h(function(){if(!L.closed){for(var C=0;C<ne.length;++C)if(L.next(ne[C]),L.closed)return;L.complete()}})});throw new TypeError(ne+" is not observable")}},{key:"of",value:function(){for(var ne=arguments.length,ue=new Array(ne),W=0;W<ne;W++)ue[W]=arguments[W];var T=typeof this=="function"?this:re;return new T(function(L){h(function(){if(!L.closed){for(var C=0;C<ue.length;++C)if(L.next(ue[C]),L.closed)return;L.complete()}})})}},{key:g,get:function(){return this}}]),re}();$.Observable=ee,S()&&Object.defineProperty(ee,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0})},73730:(b,$)=>{"use strict";var w;w={value:!0};let _=function(){function D(x,S,o){}return D.prototype.updateUserOptIn=function(x){},D.prototype.createAppInsightsClient=function(x){},D.prototype.getCommonProperties=function(){},D.prototype.sendTelemetryEvent=function(x,S,o){},D.prototype.dispose=function(){},D.TELEMETRY_CONFIG_ID="telemetry",D.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",D}();$.Z=_},37549:b=>{"use strict";b.exports=require("vscode")},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},96419:()=>{},56353:()=>{},69386:()=>{},31616:()=>{},69862:()=>{},40964:()=>{},61336:()=>{}},pa={};function nt(b){var $=pa[b];if($!==void 0)return $.exports;var w=pa[b]={id:b,loaded:!1,exports:{}};return dl[b].call(w.exports,w,w.exports,nt),w.loaded=!0,w.exports}(()=>{nt.n=b=>{var $=b&&b.__esModule?()=>b.default:()=>b;return nt.d($,{a:$}),$}})(),(()=>{nt.d=(b,$)=>{for(var w in $)nt.o($,w)&&!nt.o(b,w)&&Object.defineProperty(b,w,{enumerable:!0,get:$[w]})}})(),(()=>{nt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(b){if(typeof window=="object")return window}}()})(),(()=>{nt.hmd=b=>(b=Object.create(b),b.children||(b.children=[]),Object.defineProperty(b,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+b.id)}}),b)})(),(()=>{nt.o=(b,$)=>Object.prototype.hasOwnProperty.call(b,$)})(),(()=>{nt.r=b=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}})(),(()=>{nt.nmd=b=>(b.paths=[],b.children||(b.children=[]),b)})();var Gn={};(()=>{"use strict";nt.r(Gn),nt.d(Gn,{activate:()=>wm,deactivate:()=>Sm});var b=nt(37549),$=nt(73730),w=Object.defineProperty,_=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),D;(function(t){t[t.Info=0]="Info",t[t.Debug=1]="Debug",t[t.Off=2]="Off"})(D||(D={}));const x="githubPullRequests",S="logLevel";class o{constructor(){_(this,"_outputChannel"),_(this,"_logLevel"),_(this,"_disposable"),this._outputChannel=b.window.createOutputChannel("GitHub Pull Request"),this._disposable=b.workspace.onDidChangeConfiguration(()=>{this.getLogLevel()}),this.getLogLevel()}appendLine(e,r){switch(this._logLevel){case 2:return;case 1:const a=`${new Date().getTime()/1e3}s`,p=r?`${r}> ${e}`:`${e}`;this._outputChannel.appendLine(`[Debug ${a}] ${p}`);return;case 0:default:this._outputChannel.appendLine("[Info] "+(r?`${r}> ${e}`:`${e}`));return}}debug(e,r){this._logLevel===1&&this.appendLine(e,r)}dispose(){this._disposable&&this._disposable.dispose()}getLogLevel(){switch(b.workspace.getConfiguration(x).get(S)){case"debug":this._logLevel=1;break;case"off":this._logLevel=2;break;case"info":default:this._logLevel=0;break}}}const n=new o;var c=nt(26470),g=nt(27484),f=nt.n(g),u=nt(84110),E=nt.n(u),d=nt(70660),h=nt.n(d),v=Object.defineProperty,k=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);f().extend(E(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),f().extend(h()),f().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function A(t,e){const r=Object.create(null);return t.filter(i=>{const a=e(i);return r[a]?!1:(r[a]=!0,!0)})}function R(t){return t.forEach(e=>e.dispose()),[]}function O(t){return{dispose:t}}function V(t){return O(()=>R(t))}function Y(...t){return(e,r=null,i)=>{const a=V(t.map(p=>p(M=>e.call(r,M))));return i&&i.push(a),a}}function ee(t,e){return(r,i=null,a)=>t(p=>e(p)&&r.call(i,p),null,a)}function re(t){return(e,r=null,i)=>{const a=t(p=>(a.dispose(),e.call(r,p)),null,i);return a}}function ie(t){return/^[a-zA-Z]:\\/.test(t)}function ne(t,e){return t===e?!0:(t.charAt(t.length-1)!==sep&&(t+=sep),ie(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),e.startsWith(t))}function ue(t,e){return t.reduce((r,i)=>{const a=e(i);return r[a]=[...r[a]||[],i],r},Object.create(null))}function W(t){return!!t.errors}function T(t){let e=!0;if(!!t.errors&&Array.isArray(t.errors)){for(const r of t.errors)if(!r.field||!r.value||!r.code){e=!1;break}}else e=!1;return e}function L(t){if(!(t instanceof Error))return typeof t=="string"?t:t.gitErrorCode?`${t.message}. Please check git output for more details`:t.stderr?`${t.stderr}. Please check git output for more details`:"Error";let e=t.message,r;if(t.message==="Validation Failed"&&T(t))r=t.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.code})`).join(", ");else if(W(t)&&t.errors)return t.errors.map(i=>typeof i=="string"?i:i.message).join(", ");return r&&(e=`${e}: ${r}`),e}const C=(t,e)=>e(t);async function s(t,e=C){let r;return new Promise((i,a)=>r=t(p=>{try{Promise.resolve(e(p,i,a)).catch(a)}catch(M){a(M)}})).then(i=>(r.dispose(),i),i=>{throw r.dispose(),i})}function m(t){const e=dayjs(t),r=Date.now();return e.diff(r,"month"),e.diff(r,"month")<1?e.fromNow():e.diff(r,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}var N;(function(t){t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.A=65]="A",t[t.Z=90]="Z",t[t.Backslash=92]="Backslash",t[t.a=97]="a",t[t.z=122]="z"})(N||(N={}));function I(t,e){return t<e?-1:t>e?1:0}function F(t,e,r=0,i=t.length,a=0,p=e.length){for(;r<i&&a<p;r++,a++){const z=t.charCodeAt(r),K=e.charCodeAt(a);if(z<K)return-1;if(z>K)return 1}const M=i-r,B=p-a;return M<B?-1:M>B?1:0}function P(t,e){return j(t,e,0,t.length,0,e.length)}function j(t,e,r=0,i=t.length,a=0,p=e.length){for(;r<i&&a<p;r++,a++){let z=t.charCodeAt(r),K=e.charCodeAt(a);if(z===K)continue;const te=z-K;if(!(te===32&&y(K))&&!(te===-32&&y(z)))return G(z)&&G(K)?te:F(t.toLowerCase(),e.toLowerCase(),r,i,a,p)}const M=i-r,B=p-a;return M<B?-1:M>B?1:0}function G(t){return t>=97&&t<=122}function y(t){return t>=65&&t<=90}class H{constructor(){k(this,"_value",""),k(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const r=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return r-i}value(){return this._value[this._pos]}}class fe{constructor(e=!0){this._caseSensitive=e,k(this,"_value"),k(this,"_from"),k(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?F(e,this._value,0,e.length,this._from,this._to):j(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ve{constructor(e=!0,r=!0){this._splitOnBackslash=e,this._caseSensitive=r,k(this,"_value"),k(this,"_from"),k(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const r=this._value.charCodeAt(this._to);if(r===47||this._splitOnBackslash&&r===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?F(e,this._value,0,e.length,this._from,this._to):j(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var ye;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(ye||(ye={}));class Ee{constructor(e){this._ignorePathCasing=e,k(this,"_pathIterator"),k(this,"_value"),k(this,"_states",[]),k(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new ve(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return P(e,this._value.scheme);if(this._states[this._stateIdx]===2)return P(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return I(e,this._value.query);if(this._states[this._stateIdx]===5)return I(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class J{constructor(){k(this,"segment"),k(this,"value"),k(this,"key"),k(this,"left"),k(this,"mid"),k(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class Z{constructor(e){k(this,"_iter"),k(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new Z(new Ee(e))}static forPaths(){return new Z(new ve)}static forStrings(){return new Z(new H)}static forConfigKeys(){return new Z(new fe)}clear(){this._root=void 0}set(e,r){const i=this._iter.reset(e);let a;for(this._root||(this._root=new J,this._root.segment=i.value()),a=this._root;;){const M=i.cmp(a.segment);if(M>0)a.left||(a.left=new J,a.left.segment=i.value()),a=a.left;else if(M<0)a.right||(a.right=new J,a.right.segment=i.value()),a=a.right;else if(i.hasNext())i.next(),a.mid||(a.mid=new J,a.mid.segment=i.value()),a=a.mid;else break}const p=a.value;return a.value=r,a.key=e,p}get(e){var r;return(r=this._getNode(e))==null?void 0:r.value}_getNode(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const a=r.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else break}return i}has(e){const r=this._getNode(e);return!((r==null?void 0:r.value)===void 0&&(r==null?void 0:r.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,r){const i=this._iter.reset(e),a=[];let p=this._root;for(;p;){const M=i.cmp(p.segment);if(M>0)a.push([1,p]),p=p.left;else if(M<0)a.push([-1,p]),p=p.right;else if(i.hasNext())i.next(),a.push([0,p]),p=p.mid;else{for(r?(p.left=void 0,p.mid=void 0,p.right=void 0):p.value=void 0;a.length>0&&p.isEmpty();){let[B,z]=a.pop();switch(B){case 1:z.left=void 0;break;case 0:z.mid=void 0;break;case-1:z.right=void 0;break}p=z}break}}}findSubstr(e){const r=this._iter.reset(e);let i=this._root,a;for(;i;){const p=r.cmp(i.segment);if(p>0)i=i.left;else if(p<0)i=i.right;else if(r.hasNext())r.next(),a=i.value||a,i=i.mid;else break}return i&&i.value||a}findSuperstr(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const a=r.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[r,i]of this)e(i,r)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}var ce=Object.defineProperty,me=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),be;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(be||(be={}));var q;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply"})(q||(q={}));const U=class{constructor(){me(this,"_providers",new Map),me(this,"_onDidOpenRepository",new b.EventEmitter),me(this,"onDidOpenRepository",this._onDidOpenRepository.event),me(this,"_onDidCloseRepository",new b.EventEmitter),me(this,"onDidCloseRepository",this._onDidCloseRepository.event),me(this,"_onDidChangeState",new b.EventEmitter),me(this,"onDidChangeState",this._onDidChangeState.event),me(this,"_onDidPublish",new b.EventEmitter),me(this,"onDidPublish",this._onDidPublish.event),me(this,"_disposables"),this._disposables=[]}get repositories(){const t=[];return this._providers.forEach(({repositories:e})=>{e&&t.push(...e)}),t}get state(){if(this._providers.size!==0){for(const[,{state:t}]of this._providers)if(t!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const t=Array.from(this._providers.values()).reduce((e,r)=>e+r.repositories.length,0);b.commands.executeCommand("setContext","gitHubOpenRepositoryCount",t)}registerGitProvider(t){n.appendLine("Registering git provider");const e=this._nextHandle();return this._providers.set(e,t),this._disposables.push(t.onDidCloseRepository(r=>this._onDidCloseRepository.fire(r))),this._disposables.push(t.onDidOpenRepository(r=>{n.appendLine(`Repository ${r.rootUri} has been opened`),this._updateReposContext(),this._onDidOpenRepository.fire(r)})),t.onDidChangeState&&this._disposables.push(t.onDidChangeState(r=>this._onDidChangeState.fire(r))),t.onDidPublish&&this._disposables.push(t.onDidPublish(r=>this._onDidPublish.fire(r))),this._updateReposContext(),t.repositories.forEach(r=>{this._onDidOpenRepository.fire(r)}),{dispose:()=>{const r=t==null?void 0:t.repositories;r&&r.length>0&&r.forEach(i=>this._onDidCloseRepository.fire(i)),this._providers.delete(e)}}}getGitProvider(t){const e=Z.forUris();return this._providers.forEach(r=>{const i=r.repositories;if(i&&i.length>0)for(const a of i)e.set(a.rootUri,r)}),e.findSubstr(t)}_nextHandle(){return U._handlePool++}dispose(){this._disposables.forEach(t=>t.dispose())}};let oe=U;me(oe,"_handlePool",0);const ge=new Map;function Me(t,e){ge.set(t,e)}function he(t){ge.delete(t)}function Te(t){for(const e of ge.values())if(e.hasCommentThread(t))return e;n.appendLine(`Unable to find handler for comment thread ${t.gitHubThreadId}`)}var Ae=Object.defineProperty,Ce=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);let ut;class qe extends b.Disposable{constructor(e){super(()=>this.disposables.forEach(r=>r.dispose()));this._storageUri=e,Ce(this,"SUBPATH","temp"),Ce(this,"disposables",[])}get path(){return b.Uri.joinPath(this._storageUri,this.SUBPATH)}addDisposable(e){if(this.disposables.length>30){const r=this.disposables.shift();r==null||r.dispose()}this.disposables.push(e)}async writeState(e,r,i){let a=this.path;const p=b.workspace.workspaceFolders&&b.workspace.workspaceFolders.length>0?b.workspace.workspaceFolders[0].name:void 0;p&&(a=b.Uri.joinPath(a,p)),e&&(a=b.Uri.joinPath(a,e)),await b.workspace.fs.createDirectory(a);const M=b.Uri.joinPath(a,r);await b.workspace.fs.writeFile(M,i);const B={dispose:()=>b.workspace.fs.delete(M,{recursive:!0})};return this.addDisposable(B),M}static async init(e){if(e.globalStorageUri&&!ut){ut=new qe(e.globalStorageUri);try{await b.workspace.fs.delete(ut.path,{recursive:!0})}catch(r){n.appendLine(`TemporaryState> Error in initialization: ${r.message}`)}try{await b.workspace.fs.createDirectory(ut.path)}catch(r){n.appendLine(`TemporaryState> Error in initialization: ${r.message}`)}return e.subscriptions.push(ut),ut}}static async write(e,r,i){if(!!ut)return ut.writeState(e,r,i)}}function De(t){return JSON.parse(t)}function lt(t){try{return JSON.parse(t.query)}catch(e){}}function se(t){try{return JSON.parse(t.query)}catch(e){}}const Q=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],X=b.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function le(t,e){try{const{commit:r,baseCommit:i,headCommit:a,isBase:p,path:M}=JSON.parse(t.query),B=t.scheme==="review"?r:p?i:a,{object:z}=await e.getObjectDetails(B,t.fsPath),{mimetype:K}=await e.detectObjectType(z);if(K==="text/plain")return;if(Q.indexOf(K)>-1){const te=await e.buffer(B,t.fsPath);return qe.write(c.dirname(M),c.basename(M),te)}}catch(r){return}}function pe(t,e,r,i,a,p,M){const B={path:e||t.path,ref:r,commit:i,base:p.base,isOutdated:a,rootPath:M.path};let z=t.path;return p.replaceFileExtension&&(z=`${z}.git`),t.with({scheme:"review",path:z,query:JSON.stringify(B)})}function ke(t,e,r,i){const a={prNumber:e,fileName:r,status:i};return t.with({scheme:"filechange",query:JSON.stringify(a)})}function we(t){try{return t.query?JSON.parse(t.query):void 0}catch(e){}}function Ne(t,e,r,i,a,p,M){const B={baseCommit:r,headCommit:i,isBase:p,fileName:a,prNumber:e.number,status:M,remoteName:e.githubRepository.remote.remoteName},z=t.path;return t.with({scheme:"pr",path:z,query:JSON.stringify(B)})}var ft;(function(t){t.file="file"})(ft||(ft={}));function Ie(t,e){return t.scheme===ft.file?c.resolve(t.fsPath,e):c.posix.resolve(t.path,e)}class Be extends b.EventEmitter{handleUri(e){this.fire(e)}}const dt=new Be,Ve="GitHub.vscode-pull-request-github",je="git",hr="ghpr",ze="initialize",We="statechange",$t="github:focusedReview";var Qe=nt(48764),Je=nt(64063),Er=nt.n(Je),Le;(function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"})(Le||(Le={}));var He;(function(t){t.DISMISSED="DISMISSED",t.VIEWED="VIEWED",t.UNVIEWED="UNVIEWED"})(He||(He={}));var it;(function(t){t[t.ADD=0]="ADD",t[t.COPY=1]="COPY",t[t.DELETE=2]="DELETE",t[t.MODIFY=3]="MODIFY",t[t.RENAME=4]="RENAME",t[t.TYPE=5]="TYPE",t[t.UNKNOWN=6]="UNKNOWN",t[t.UNMERGED=7]="UNMERGED"})(it||(it={}));class Ke{constructor(e,r,i,a,p,M,B,z){this.baseCommit=e,this.status=r,this.fileName=i,this.previousFileName=a,this.patch=p,this.diffHunks=M,this.isPartial=B,this.blobUrl=z}}class Ye{constructor(e,r,i,a,p){this.baseCommit=e,this.blobUrl=r,this.status=i,this.fileName=a,this.previousFileName=p}}var Rr=Object.defineProperty,Ze=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Rr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),Ge;(function(t){t[t.Context=0]="Context",t[t.Add=1]="Add",t[t.Delete=2]="Delete",t[t.Control=3]="Control"})(Ge||(Ge={}));class pr{constructor(e,r,i,a,p,M=!0){this.type=e,this.oldLineNumber=r,this.newLineNumber=i,this.positionInHunk=a,this._raw=p,this.endwithLineBreak=M}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function Xe(t){switch(t[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class et{constructor(e,r,i,a,p){this.oldLineNumber=e,this.oldLength=r,this.newLineNumber=i,this.newLength=a,this.positionInHunk=p,Ze(this,"diffLines",[])}}const mr=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function tt(t){let e=0,r=0;for(;(r=t.indexOf("\r",r))!==-1;)r++,e++;return e}function*rt(t){let e=0;for(;e!==-1&&e<t.length;){const r=e;e=t.indexOf(`
`,e);let a=(e!==-1?e:t.length)-r;e!==-1&&(e>0&&t[e-1]==="\r"&&a--,e++),yield t.substr(r,a)}}function*Ht(t){const e=rt(t);let r=e.next(),i,a=-1,p=-1,M=-1;for(;!r.done;){const B=r.value;if(mr.test(B)){i&&(yield i,i=void 0),a===-1&&(a=0);const z=mr.exec(B),K=p=Number(z[1]),te=Number(z[3])||1,ae=M=Number(z[5]),de=Number(z[7])||1;i=new et(K,te,ae,de,a),i.diffLines.push(new pr(3,-1,-1,a,B))}else if(i){const z=Xe(B);if(z===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new pr(z,z!==1?p:-1,z!==2?M:-1,a,B));const K=1+tt(B);switch(z){case 0:p+=K,M+=K;break;case 2:p+=K;break;case 1:M+=K;break}}}a!==-1&&++a,r=e.next()}i&&(yield i)}function at(t){const e=Ht(t);let r=e.next();const i=[],a=[];for(;!r.done;){const p=r.value;i.push(p);for(let M=0;M<p.diffLines.length;M++){const B=p.diffLines[M];if(!(B.type===2||B.type===3))if(B.type===1)a.push(B.text);else{const z=B.text;a.push(z)}}r=e.next()}return i}function ot(t,e){const r=t.split(/\r?\n/),i=Ht(e);let a=i.next();const p=[],M=[];let B=0;for(;!a.done;){const z=a.value;p.push(z);const K=z.oldLineNumber;for(let te=B+1;te<K;te++)M.push(r[te-1]);B=K+z.oldLength-1;for(let te=0;te<z.diffLines.length;te++){const ae=z.diffLines[te];if(!(ae.type===2||ae.type===3))if(ae.type===1)M.push(ae.text);else{const de=ae.text;M.push(de)}}a=i.next()}if(B<r.length)for(let z=B+1;z<=r.length;z++)M.push(r[z-1]);return M.join(`
`)}function Gt(t){switch(t){case"removed":return it.DELETE;case"added":return it.ADD;case"renamed":return it.RENAME;case"modified":return it.MODIFY;default:return it.UNKNOWN}}async function Vt(t,e,r){const i=[];for(let a=0;a<t.length;a++){const p=t[a],M=Gt(p.status);if(!p.patch){i.push(new Ye(r,p.blob_url,M,p.filename,p.previous_filename));continue}let B=!1;switch(M){case it.DELETE:case it.MODIFY:try{await e.getObjectDetails(r,p.filename),B=!0}catch(te){}break;case it.RENAME:try{await e.getObjectDetails(r,p.previous_filename),B=!0}catch(te){}break}const z=at(p.patch),K=!B&&M!==it.ADD;i.push(new Ke(r,M,p.filename,p.previous_filename,p.patch,z,K,p.blob_url))}return i}var er=nt(6200),tr=Object.defineProperty,Kt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const rr=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,ir=/^([a-z-]+):\/\//,nr=t=>{const e=ir.exec(t);if(e){const[M,B]=e;if(B==="ssh")t=t.slice(M.length);else return}const r=rr.exec(t);if(!r)return;const[,i,a,p]=r;return{User:i,Host:a,path:p}},sr=(t,e=jt.current)=>{const r=nr(t);return r&&e(r)};function Yt(t){return{...t,Hostname:t.Host}}function ar(...t){const e=t.filter(r=>!!r);return r=>e.reduce((i,a)=>({...i,...a(i)}),r)}function or(t){const e=(0,er.parse)(t);return r=>e.compute(r.Host)}const Jt=class{static fromConfig(t){return ar(Yt,or(t))}};let jt=Jt;Kt(jt,"default",Yt),Kt(jt,"current",Jt.default);var ur=Object.defineProperty,At=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),Mr;(function(t){t[t.Local=0]="Local",t[t.HTTP=1]="HTTP",t[t.SSH=2]="SSH",t[t.GIT=3]="GIT",t[t.OTHER=4]="OTHER"})(Mr||(Mr={}));class Bt{constructor(e){if(At(this,"type",4),At(this,"host",""),At(this,"owner",""),At(this,"repositoryName",""),At(this,"url"),!this.parseSshProtocol(e))try{this.url=b.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(r){n.appendLine(`Failed to parse '${e}'`),b.window.showWarningMessage(`Unable to parse remote '${e}'. Please check that it is correctly formatted.`)}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const r=sr(e);if(!r)return!1;const{Hostname:i,HostName:a,path:p}=r;return this.host=a||i,this.owner=this.getOwnerName(p)||"",this.repositoryName=this.getRepositoryName(p)||"",this.type=2,!0}getHostName(e){const r=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return r&&r.length>=2?r[1].toLocaleLowerCase()==="www.github.com"?"github.com":r[1]:""}getRepositoryName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.lastIndexOf("/"),a=r.substr(i+1);if(!(a===""||a==="/"))return a.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return b.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(r){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const r=this.normalizeUri();if(!r)return!1;const i=e.normalizeUri();return i?r.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}}var Ir=Object.defineProperty,fl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ir(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ma{constructor(e,r,i,a){this.ref=e,this.label=r,this.sha=i,fl(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Bt(a)}}var Tt;(function(t){t[t.Committed=0]="Committed",t[t.Mentioned=1]="Mentioned",t[t.Subscribed=2]="Subscribed",t[t.Commented=3]="Commented",t[t.Reviewed=4]="Reviewed",t[t.Labeled=5]="Labeled",t[t.Milestoned=6]="Milestoned",t[t.Assigned=7]="Assigned",t[t.HeadRefDeleted=8]="HeadRefDeleted",t[t.Merged=9]="Merged",t[t.Other=10]="Other"})(Tt||(Tt={}));function Vn(t){return t.event===4}function hl(t){return t.event===0}function pl(t){return t.event===3}function km(t){return t.event===9}function Em(t){return t.event===7}function Rm(t){return t.event===8}function ml(t){return!!t.conclusion}var Pt;(function(t){t[t.Query=0]="Query",t[t.All=1]="All",t[t.LocalPullRequest=2]="LocalPullRequest"})(Pt||(Pt={}));var Dr;(function(t){t.Approve="APPROVE",t.RequestChanges="REQUEST_CHANGES",t.Comment="COMMENT"})(Dr||(Dr={}));var wt;(function(t){t[t.Open=0]="Open",t[t.Merged=1]="Merged",t[t.Closed=2]="Closed"})(wt||(wt={}));var Hr;(function(t){t[t.Mergeable=0]="Mergeable",t[t.NotMergeable=1]="NotMergeable",t[t.Unknown=2]="Unknown"})(Hr||(Hr={}));var vl=nt(55835),gl=Object.defineProperty,bl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?gl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const va=class{static initialize(t){va.icons={reactions:{THUMBS_UP:t.asAbsolutePath(c.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:t.asAbsolutePath(c.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:t.asAbsolutePath(c.join("resources","icons","reactions","confused.png")),EYES:t.asAbsolutePath(c.join("resources","icons","reactions","eyes.png")),HEART:t.asAbsolutePath(c.join("resources","icons","reactions","heart.png")),HOORAY:t.asAbsolutePath(c.join("resources","icons","reactions","hooray.png")),LAUGH:t.asAbsolutePath(c.join("resources","icons","reactions","laugh.png")),ROCKET:t.asAbsolutePath(c.join("resources","icons","reactions","rocket.png"))}}}};let xr=va;bl(xr,"icons");var Ai=nt(34155);function on(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Ai=="object"&&"version"in Ai?`Node.js/${Ai.version.substr(1)} (${Ai.platform}; ${Ai.arch})`:"<environment undetectable>"}var yl=nt(85186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function ga(t){return Object.prototype.toString.call(t)==="[object Object]"}function ba(t){var e,r;return ga(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(ga(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function wl(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function ya(t,e){const r=Object.assign({},t);return Object.keys(e).forEach(i=>{ba(e[i])?i in t?r[i]=ya(t[i],e[i]):Object.assign(r,{[i]:e[i]}):Object.assign(r,{[i]:e[i]})}),r}function wa(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function jn(t,e,r){if(typeof e=="string"){let[a,p]=e.split(" ");r=Object.assign(p?{method:a,url:p}:{url:a},r)}else r=Object.assign({},e);r.headers=wl(r.headers),wa(r),wa(r.headers);const i=ya(t||{},r);return t&&t.mediaType.previews.length&&(i.mediaType.previews=t.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(a=>a.replace(/-preview/,"")),i}function _l(t,e){const r=/\?/.test(t)?"&":"?",i=Object.keys(e);return i.length===0?t:t+r+i.map(a=>a==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(e[a])}`).join("&")}const Sl=/\{[^}]+\}/g;function kl(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function El(t){const e=t.match(Sl);return e?e.map(kl).reduce((r,i)=>r.concat(i),[]):[]}function _a(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,i)=>(r[i]=t[i],r),{})}function Sa(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ui(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ii(t,e,r){return e=t==="+"||t==="#"?Sa(e):ui(e),r?ui(r)+"="+e:e}function li(t){return t!=null}function zn(t){return t===";"||t==="&"||t==="?"}function Rl(t,e,r,i){var a=t[r],p=[];if(li(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),i&&i!=="*"&&(a=a.substring(0,parseInt(i,10))),p.push(Ii(e,a,zn(e)?r:""));else if(i==="*")Array.isArray(a)?a.filter(li).forEach(function(M){p.push(Ii(e,M,zn(e)?r:""))}):Object.keys(a).forEach(function(M){li(a[M])&&p.push(Ii(e,a[M],M))});else{const M=[];Array.isArray(a)?a.filter(li).forEach(function(B){M.push(Ii(e,B))}):Object.keys(a).forEach(function(B){li(a[B])&&(M.push(ui(B)),M.push(Ii(e,a[B].toString())))}),zn(e)?p.push(ui(r)+"="+M.join(",")):M.length!==0&&p.push(M.join(","))}else e===";"?li(a)&&p.push(ui(r)):a===""&&(e==="&"||e==="?")?p.push(ui(r)+"="):a===""&&p.push("");return p}function Ml(t){return{expand:xl.bind(null,t)}}function xl(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,a,p){if(a){let B="";const z=[];if(r.indexOf(a.charAt(0))!==-1&&(B=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(K){var te=/([^:\*]*)(?::(\d+)|(\*))?/.exec(K);z.push(Rl(e,B,te[1],te[2]||te[3]))}),B&&B!=="+"){var M=",";return B==="?"?M="&":B!=="#"&&(M=B),(z.length!==0?B:"")+z.join(M)}else return z.join(",")}else return Sa(p)})}function ka(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},t.headers),a,p=_a(t,["method","baseUrl","url","headers","request","mediaType"]);const M=El(r);r=Ml(r).expand(p),/^http/.test(r)||(r=t.baseUrl+r);const B=Object.keys(t).filter(te=>M.includes(te)).concat("baseUrl"),z=_a(p,B);if(!/application\/octet-stream/i.test(i.accept)&&(t.mediaType.format&&(i.accept=i.accept.split(/,/).map(te=>te.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const te=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=te.concat(t.mediaType.previews).map(ae=>{const de=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${ae}-preview${de}`}).join(",")}return["GET","HEAD"].includes(e)?r=_l(r,z):"data"in z?a=z.data:Object.keys(z).length?a=z:i["content-length"]=0,!i["content-type"]&&typeof a!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof a=="undefined"&&(a=""),Object.assign({method:e,url:r,headers:i},typeof a!="undefined"?{body:a}:null,t.request?{request:t.request}:null)}function Tl(t,e,r){return ka(jn(t,e,r))}function Ea(t,e){const r=jn(t,e),i=Tl.bind(null,r);return Object.assign(i,{DEFAULTS:r,defaults:Ea.bind(null,r),merge:jn.bind(null,r),parse:ka})}const Cl=`octokit-endpoint.js/6.0.11 ${on()}`,Nl=Ea(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Cl},mediaType:{format:"",previews:[]}});var Pl=nt(54098),Wn=nt.n(Pl);class Al extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var Il=nt(30778),Dl=nt.n(Il);const Fl=Dl()(t=>console.warn(t));class Di extends Error{constructor(e,r,i){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,Object.defineProperty(this,"code",{get(){return Fl(new Al("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),this.headers=i.headers||{};const a=Object.assign({},i.request);i.request.headers.authorization&&(a.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a}}const Ol="5.4.14";function Bl(t){return t.arrayBuffer()}function Ra(t){(ba(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e={},r,i;return(t.request&&t.request.fetch||Wn())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(p=>{i=p.url,r=p.status;for(const B of p.headers)e[B[0]]=B[1];if(r===204||r===205)return;if(t.method==="HEAD"){if(r<400)return;throw new Di(p.statusText,r,{headers:e,request:t})}if(r===304)throw new Di("Not modified",r,{headers:e,request:t});if(r>=400)return p.text().then(B=>{const z=new Di(B,r,{headers:e,request:t});try{let K=JSON.parse(z.message);Object.assign(z,K);let te=K.errors;z.message=z.message+": "+te.map(JSON.stringify).join(", ")}catch(K){}throw z});const M=p.headers.get("content-type");return/application\/json/.test(M)?p.json():!M||/^text\/|charset=utf-8$/.test(M)?p.text():Bl(p)}).then(p=>({status:r,url:i,headers:e,data:p})).catch(p=>{throw p instanceof Di?p:new Di(p.message,500,{headers:e,request:t})})}function Qn(t,e){const r=t.defaults(e);return Object.assign(function(a,p){const M=r.merge(a,p);if(!M.request||!M.request.hook)return Ra(r.parse(M));const B=(z,K)=>Ra(r.parse(r.merge(z,K)));return Object.assign(B,{endpoint:r,defaults:Qn.bind(null,r)}),M.request.hook(B,M)},{endpoint:r,defaults:Qn.bind(null,r)})}const un=Qn(Nl,{headers:{"user-agent":`octokit-request.js/${Ol} ${on()}`}}),Ll="4.6.1";class Ul extends Error{constructor(e,r){const i=r.data.errors[0].message;super(i);Object.assign(this,r.data),Object.assign(this,{headers:r.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const ql=["method","baseUrl","url","headers","request","query","mediaType"],$l=["query","method","url"],Ma=/\/api\/v3\/?$/;function Hl(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const M in r)if(!!$l.includes(M))return Promise.reject(new Error(`[@octokit/graphql] "${M}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},r):e,a=Object.keys(i).reduce((M,B)=>ql.includes(B)?(M[B]=i[B],M):(M.variables||(M.variables={}),M.variables[B]=i[B],M),{}),p=i.baseUrl||t.endpoint.DEFAULTS.baseUrl;return Ma.test(p)&&(a.url=p.replace(Ma,"/api/graphql")),t(a).then(M=>{if(M.data.errors){const B={};for(const z of Object.keys(M.headers))B[z]=M.headers[z];throw new Ul(a,{headers:B,data:M.data})}return M.data.data})}function Kn(t,e){const r=t.defaults(e);return Object.assign((a,p)=>Hl(r,a,p),{defaults:Kn.bind(null,r),endpoint:un.endpoint})}const Tm=Kn(un,{headers:{"user-agent":`octokit-graphql.js/${Ll} ${on()}`},method:"POST",url:"/graphql"});function Gl(t){return Kn(t,{method:"POST",url:"/graphql"})}async function Vl(t){const e=t.split(/\./).length===3?"app":/^v\d+\./.test(t)?"installation":"oauth";return{type:"token",token:t,tokenType:e}}function jl(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function zl(t,e,r,i){const a=e.endpoint.merge(r,i);return a.headers.authorization=jl(t),e(a)}const Wl=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Vl.bind(null,e),{hook:zl.bind(null,e)})},xa="3.3.1";class Yn{constructor(e={}){const r=new yl.Collection,i={baseUrl:un.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=[e.userAgent,`octokit-core.js/${xa} ${on()}`].filter(Boolean).join(" "),e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=un.defaults(i),this.graphql=Gl(this.request).defaults(i),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){const{authStrategy:p,...M}=e,B=p(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:M},e.auth));r.wrap("request",B.hook),this.auth=B}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const p=Wl(e.auth);r.wrap("request",p.hook),this.auth=p}this.constructor.plugins.forEach(p=>{Object.assign(this,p(this,e))})}static defaults(e){return class extends this{constructor(...i){const a=i[0]||{};if(typeof e=="function"){super(e(a));return}super(Object.assign({},e,a,a.userAgent&&e.userAgent?{userAgent:`${a.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const i=this.plugins;return r=class extends this{},r.plugins=i.concat(e.filter(p=>!i.includes(p))),r}}Yn.VERSION=xa,Yn.plugins=[];const Ql="1.0.3";function Ta(t){t.hook.wrap("request",(e,r)=>{t.log.debug("request",r);const i=Date.now(),a=t.request.endpoint.parse(r),p=a.url.replace(r.baseUrl,"");return e(r).then(M=>(t.log.info(`${a.method} ${p} - ${M.status} in ${Date.now()-i}ms`),M)).catch(M=>{throw t.log.info(`${a.method} ${p} - ${M.status} in ${Date.now()-i}ms`),M})})}Ta.VERSION=Ql;const Kl="2.13.2";function Yl(t){if(!("total_count"in t.data&&!("url"in t.data)))return t;const r=t.data.incomplete_results,i=t.data.repository_selection,a=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const p=Object.keys(t.data)[0],M=t.data[p];return t.data=M,typeof r!="undefined"&&(t.data.incomplete_results=r),typeof i!="undefined"&&(t.data.repository_selection=i),t.data.total_count=a,t}function Jn(t,e,r){const i=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),a=typeof e=="function"?e:t.request,p=i.method,M=i.headers;let B=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!B)return{done:!0};const z=await a({method:p,url:B,headers:M}),K=Yl(z);return B=((K.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:K}}})}}function Ca(t,e,r,i){return typeof r=="function"&&(i=r,r=void 0),Na(t,[],Jn(t,e,r)[Symbol.asyncIterator](),i)}function Na(t,e,r,i){return r.next().then(a=>{if(a.done)return e;let p=!1;function M(){p=!0}return e=e.concat(i?i(a.value,M):a.value.data),p?e:Na(t,e,r,i)})}const Cm=Object.assign(Ca,{iterator:Jn}),Jl=null;function Nm(t){return typeof t=="string"?Jl.includes(t):!1}function Pa(t){return{paginate:Object.assign(Ca.bind(null,t),{iterator:Jn.bind(null,t)})}}Pa.VERSION=Kl;const Zl={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Xl="4.12.0";function ec(t,e){const r={};for(const[i,a]of Object.entries(e))for(const[p,M]of Object.entries(a)){const[B,z,K]=M,[te,ae]=B.split(/ /),de=Object.assign({method:te,url:ae},z);r[i]||(r[i]={});const _e=r[i];if(K){_e[p]=tc(t,i,p,de,K);continue}_e[p]=t.request.defaults(de)}return r}function tc(t,e,r,i,a){const p=t.request.defaults(i);function M(...B){let z=p.endpoint.merge(...B);if(a.mapToData)return z=Object.assign({},z,{data:z[a.mapToData],[a.mapToData]:void 0}),p(z);if(a.renamed){const[K,te]=a.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${K}.${te}()`)}if(a.deprecated&&t.log.warn(a.deprecated),a.renamedParameters){const K=p.endpoint.merge(...B);for(const[te,ae]of Object.entries(a.renamedParameters))te in K&&(t.log.warn(`"${te}" parameter is deprecated for "octokit.${e}.${r}()". Use "${ae}" instead`),ae in K||(K[ae]=K[te]),delete K[te]);return p(K)}return p(...B)}return Object.assign(M,p)}function Aa(t){return ec(t,Zl)}Aa.VERSION=Xl;const rc="18.2.0",ic=Yn.plugin(Ta,Aa,Pa).defaults({userAgent:`octokit-rest.js/${rc}`});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zn=function(t,e){return Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Zn(t,e)};function Fr(t,e){Zn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fe=function(){return Fe=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&(e[p]=r[p])}return e},Fe.apply(this,arguments)};function Ia(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function Pm(t,e,r,i){var a=arguments.length,p=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(t,e,r,i);else for(var B=t.length-1;B>=0;B--)(M=t[B])&&(p=(a<3?M(p):a>3?M(e,r,p):M(e,r))||p);return a>3&&p&&Object.defineProperty(e,r,p),p}function Am(t,e){return function(r,i){e(r,i,t)}}function Im(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Gr(t,e,r,i){function a(p){return p instanceof r?p:new r(function(M){M(p)})}return new(r||(r=Promise))(function(p,M){function B(te){try{K(i.next(te))}catch(ae){M(ae)}}function z(te){try{K(i.throw(te))}catch(ae){M(ae)}}function K(te){te.done?p(te.value):a(te.value).then(B,z)}K((i=i.apply(t,e||[])).next())})}function Vr(t,e){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},i,a,p,M;return M={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function B(K){return function(te){return z([K,te])}}function z(K){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(p=K[0]&2?a.return:K[0]?a.throw||((p=a.return)&&p.call(a),0):a.next)&&!(p=p.call(a,K[1])).done)return p;switch(a=0,p&&(K=[K[0]&2,p.value]),K[0]){case 0:case 1:p=K;break;case 4:return r.label++,{value:K[1],done:!1};case 5:r.label++,a=K[1],K=[0];continue;case 7:K=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(K[0]===6||K[0]===2)){r=0;continue}if(K[0]===3&&(!p||K[1]>p[0]&&K[1]<p[3])){r.label=K[1];break}if(K[0]===6&&r.label<p[1]){r.label=p[1],p=K;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(K);break}p[2]&&r.ops.pop(),r.trys.pop();continue}K=e.call(t,r)}catch(te){K=[6,te],a=0}finally{i=p=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}}function Dm(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}function Fm(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Da(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,p=[],M;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)p.push(a.value)}catch(B){M={error:B}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(M)throw M.error}}return p}function Om(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nc(arguments[e]));return t}function Xn(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var p=arguments[e],M=0,B=p.length;M<B;M++,a++)i[a]=p[M];return i}function ln(t){return this instanceof ln?(this.v=t,this):new ln(t)}function Bm(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,p=[];return a={},M("next"),M("throw"),M("return"),a[Symbol.asyncIterator]=function(){return this},a;function M(de){i[de]&&(a[de]=function(_e){return new Promise(function(Se,Re){p.push([de,_e,Se,Re])>1||B(de,_e)})})}function B(de,_e){try{z(i[de](_e))}catch(Se){ae(p[0][3],Se)}}function z(de){de.value instanceof ln?Promise.resolve(de.value.v).then(K,te):ae(p[0][2],de)}function K(de){B("next",de)}function te(de){B("throw",de)}function ae(de,_e){de(_e),p.shift(),p.length&&B(p[0][0],p[0][1])}}function Lm(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,p){e[a]=t[a]?function(M){return(r=!r)?{value:ln(t[a](M)),done:a==="return"}:p?p(M):M}:p}}function Um(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Da=="function"?Da(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(p){r[p]=t[p]&&function(M){return new Promise(function(B,z){M=t[p](M),a(B,z,M.done,M.value)})}}function a(p,M,B,z){Promise.resolve(z).then(function(K){p({value:K,done:B})},M)}}function qm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function $m(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Hm(t){return t&&t.__esModule?t:{default:t}}function Gm(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Vm(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Or=nt(80285),Fa=nt(34155),es="Invariant Violation",Oa=Object.setPrototypeOf,sc=Oa===void 0?function(t,e){return t.__proto__=e,t}:Oa,It=function(t){Fr(e,t);function e(r){r===void 0&&(r=es);var i=t.call(this,typeof r=="number"?es+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return i.framesToPop=1,i.name=es,sc(i,e.prototype),i}return e}(Error);function ht(t,e){if(!t)throw new It(e)}function Ba(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=Ba("warn"),t.error=Ba("error")})(ht||(ht={}));var La={env:{}};if(typeof Fa=="object")La=Fa;else try{Function("stub","process = stub")(La)}catch(t){}var jm=null;const zm=null;var ac=nt(35035),oc=nt.n(ac),Ua=Object.prototype,qa=Ua.toString,uc=Ua.hasOwnProperty,ts=new Map;function vr(t,e){try{return rs(t,e)}finally{ts.clear()}}function rs(t,e){if(t===e)return!0;var r=qa.call(t),i=qa.call(e);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if($a(t,e))return!0;var a=Object.keys(t),p=Object.keys(e),M=a.length;if(M!==p.length)return!1;for(var B=0;B<M;++B)if(!uc.call(e,a[B]))return!1;for(var B=0;B<M;++B){var z=a[B];if(!rs(t[z],e[z]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if($a(t,e))return!0;for(var K=t.entries(),te=r==="[object Map]";;){var ae=K.next();if(ae.done)break;var de=ae.value,_e=de[0],Se=de[1];if(!e.has(_e)||te&&!rs(Se,e.get(_e)))return!1}return!0}}return!1}function $a(t,e){var r=ts.get(t);if(r){if(r.has(e))return!0}else ts.set(t,r=new Set);return r.add(e),!1}const Wm=null;var lc=nt(34155);function Qm(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function Km(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function cc(t){return t.kind==="StringValue"}function dc(t){return t.kind==="BooleanValue"}function fc(t){return t.kind==="IntValue"}function hc(t){return t.kind==="FloatValue"}function pc(t){return t.kind==="Variable"}function mc(t){return t.kind==="ObjectValue"}function vc(t){return t.kind==="ListValue"}function gc(t){return t.kind==="EnumValue"}function bc(t){return t.kind==="NullValue"}function ci(t,e,r,i){if(fc(r)||hc(r))t[e.value]=Number(r.value);else if(dc(r)||cc(r))t[e.value]=r.value;else if(mc(r)){var a={};r.fields.map(function(M){return ci(a,M.name,M.value,i)}),t[e.value]=a}else if(pc(r)){var p=(i||{})[r.name.value];t[e.value]=p}else if(vc(r))t[e.value]=r.values.map(function(M){var B={};return ci(B,e,M,i),B[e.value]});else if(gc(r))t[e.value]=r.value;else if(bc(r))t[e.value]=null;else throw new It(17)}function yc(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(a){r[a.name.value]={},a.arguments&&a.arguments.forEach(function(p){var M=p.name,B=p.value;return ci(r[a.name.value],M,B,e)})}));var i=null;return t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(a){var p=a.name,M=a.value;return ci(i,p,M,e)})),Ha(t.name.value,i,r)}var wc=["connection","include","skip","client","rest","export"];function Ha(t,e,r){if(r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var i=r.connection.filter?r.connection.filter:[];i.sort();var a=e,p={};return i.forEach(function(z){p[z]=a[z]}),r.connection.key+"("+JSON.stringify(p)+")"}else return r.connection.key;var M=t;if(e){var B=oc()(e);M+="("+B+")"}return r&&Object.keys(r).forEach(function(z){wc.indexOf(z)===-1&&(r[z]&&Object.keys(r[z]).length?M+="@"+z+"("+JSON.stringify(r[z])+")":M+="@"+z)}),M}function is(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(i){var a=i.name,p=i.value;return ci(r,a,p,e)}),r}return null}function Fi(t){return t.alias?t.alias.value:t.name.value}function jr(t){return t.kind==="Field"}function cn(t){return t.kind==="InlineFragment"}function dn(t){return t&&t.type==="id"&&typeof t.generated=="boolean"}function fn(t,e){return e===void 0&&(e=!1),Fe({type:"id",generated:e},typeof t=="string"?{id:t,typename:void 0}:t)}function _c(t){return t!=null&&typeof t=="object"&&t.type==="json"}function Sc(t){throw new InvariantError(18)}function Ga(t,e){switch(e===void 0&&(e=Sc),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map(function(M){return Ga(M,e)});case"ObjectValue":{for(var r={},i=0,a=t.fields;i<a.length;i++){var p=a[i];r[p.name.value]=Ga(p.value,e)}return r}default:return t.value}}function kc(t,e){if(t.directives&&t.directives.length){var r={};return t.directives.forEach(function(i){r[i.name.value]=is(i,e)}),r}return null}function ns(t,e){return e===void 0&&(e={}),xc(t.directives).every(function(r){var i=r.directive,a=r.ifArgument,p=!1;return a.value.kind==="Variable"?(p=e[a.value.name.value],ht(p!==void 0,13)):p=a.value.value,i.name.value==="skip"?!p:p})}function Ec(t){var e=[];return(0,Or.visit)(t,{Directive:function(r){e.push(r.name.value)}}),e}function hn(t,e){return Ec(e).some(function(r){return t.indexOf(r)>-1})}function Rc(t){return t&&hn(["client"],t)&&hn(["export"],t)}function Mc(t){var e=t.name.value;return e==="skip"||e==="include"}function xc(t){return t?t.filter(Mc).map(function(e){var r=e.arguments,i=e.name.value;ht(r&&r.length===1,14);var a=r[0];ht(a.name&&a.name.value==="if",15);var p=a.value;return ht(p&&(p.kind==="Variable"||p.kind==="BooleanValue"),16),{directive:e,ifArgument:a}}):[]}function Va(t,e){var r=e,i=[];t.definitions.forEach(function(p){if(p.kind==="OperationDefinition")throw new It(11);p.kind==="FragmentDefinition"&&i.push(p)}),typeof r=="undefined"&&(ht(i.length===1,12),r=i[0].name.value);var a=Fe(Fe({},t),{definitions:Xn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions)});return a}function ss(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(a){t[a]=i[a]})}),t}function Ym(t){Jr(t);var e=t.definitions.filter(function(r){return r.kind==="OperationDefinition"&&r.operation==="mutation"})[0];return invariant(e,1),e}function Jr(t){ht(t&&t.kind==="Document",2);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw new It(3);return r});return ht(e.length<=1,4),t}function di(t){return Jr(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Jm(t){var e=di(t);return invariant(e,5),e}function as(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function pn(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Tc(t){var e=di(t);return ht(e&&e.operation==="query",6),e}function Cc(t){ht(t.kind==="Document",7),ht(t.definitions.length<=1,8);var e=t.definitions[0];return ht(e.kind==="FragmentDefinition",9),e}function os(t){Jr(t);for(var e,r=0,i=t.definitions;r<i.length;r++){var a=i[r];if(a.kind==="OperationDefinition"){var p=a.operation;if(p==="query"||p==="mutation"||p==="subscription")return a}a.kind==="FragmentDefinition"&&!e&&(e=a)}if(e)return e;throw new It(10)}function mn(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function us(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter(function(r){var i=r.defaultValue;return i}).map(function(r){var i=r.variable,a=r.defaultValue,p={};return ci(p,i.name,a),p});return ss.apply(void 0,Xn([{}],e))}return{}}function Zm(t){var e=new Set;if(t.variableDefinitions)for(var r=0,i=t.variableDefinitions;r<i.length;r++){var a=i[r];e.add(a.variable.name.value)}return e}function ja(t,e,r){var i=0;return t.forEach(function(a,p){e.call(this,a,p,t)&&(t[i++]=a)},r),t.length=i,t}var Nc={kind:"Field",name:{kind:"Name",value:"__typename"}};function za(t,e){return t.selectionSet.selections.every(function(r){return r.kind==="FragmentSpread"&&za(e[r.name.value],e)})}function vn(t){return za(di(t)||Cc(t),mn(pn(t)))?null:t}function ls(t){return function(r){return t.some(function(i){return i.name&&i.name===r.name.value||i.test&&i.test(r)})}}function Wa(t,e){var r=Object.create(null),i=[],a=Object.create(null),p=[],M=vn((0,Or.visit)(e,{Variable:{enter:function(B,z,K){K.kind!=="VariableDefinition"&&(r[B.name.value]=!0)}},Field:{enter:function(B){if(t&&B.directives){var z=t.some(function(K){return K.remove});if(z&&B.directives&&B.directives.some(ls(t)))return B.arguments&&B.arguments.forEach(function(K){K.value.kind==="Variable"&&i.push({name:K.value.name.value})}),B.selectionSet&&Ya(B.selectionSet).forEach(function(K){p.push({name:K.name.value})}),null}}},FragmentSpread:{enter:function(B){a[B.name.value]=!0}},Directive:{enter:function(B){if(ls(t)(B))return null}}}));return M&&ja(i,function(B){return!r[B.name]}).length&&(M=Fc(i,M)),M&&ja(p,function(B){return!a[B.name]}).length&&(M=Oc(p,M)),M}function Pc(t){return(0,Or.visit)(Jr(t),{SelectionSet:{enter:function(e,r,i){if(!(i&&i.kind==="OperationDefinition")){var a=e.selections;if(!!a){var p=a.some(function(B){return jr(B)&&(B.name.value==="__typename"||B.name.value.lastIndexOf("__",0)===0)});if(!p){var M=i;if(!(jr(M)&&M.directives&&M.directives.some(function(B){return B.name.value==="export"})))return Fe(Fe({},e),{selections:Xn(a,[Nc])})}}}}}})}var Ac={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"})),e}};function Ic(t){return Wa([Ac],Jr(t))}function Qa(t,e,r){return r===void 0&&(r=!0),e&&e.selections&&e.selections.some(function(i){return Ka(t,i,r)})}function Ka(t,e,r){return r===void 0&&(r=!0),jr(e)?e.directives?e.directives.some(ls(t))||r&&Qa(t,e.selectionSet,r):!1:!0}function Xm(t,e){Jr(e);var r;return vn(visit(e,{SelectionSet:{enter:function(i,a,p,M){var B=M.join("-");if(!r||B===r||!B.startsWith(r))if(i.selections){var z=i.selections.filter(function(K){return Ka(t,K)});return Qa(t,i,!1)&&(r=B),__assign(__assign({},i),{selections:z})}else return null}}}))}function Dc(t){return function(r){return t.some(function(i){return r.value&&r.value.kind==="Variable"&&r.value.name&&(i.name===r.value.name.value||i.test&&i.test(r))})}}function Fc(t,e){var r=Dc(t);return vn((0,Or.visit)(e,{OperationDefinition:{enter:function(i){return Fe(Fe({},i),{variableDefinitions:i.variableDefinitions.filter(function(a){return!t.some(function(p){return p.name===a.variable.name.value})})})}},Field:{enter:function(i){var a=t.some(function(M){return M.remove});if(a){var p=0;if(i.arguments.forEach(function(M){r(M)&&(p+=1)}),p===1)return null}}},Argument:{enter:function(i){if(r(i))return null}}}))}function Oc(t,e){function r(i){if(t.some(function(a){return a.name===i.name.value}))return null}return vn((0,Or.visit)(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function Ya(t){var e=[];return t.selections.forEach(function(r){(jr(r)||cn(r))&&r.selectionSet?Ya(r.selectionSet).forEach(function(i){return e.push(i)}):r.kind==="FragmentSpread"&&e.push(r)}),e}function Bc(t){var e=os(t),r=e.operation;if(r==="query")return t;var i=(0,Or.visit)(t,{OperationDefinition:{enter:function(a){return Fe(Fe({},a),{operation:"query"})}}});return i}function Lc(t){Jr(t);var e=Wa([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e&&(e=(0,Or.visit)(e,{FragmentDefinition:{enter:function(r){if(r.selectionSet){var i=r.selectionSet.selections.every(function(a){return jr(a)&&a.name.value==="__typename"});if(i)return null}}}})),e}var cs=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),Uc=Object.prototype.toString;function qc(t){return ds(t,new Map)}function ds(t,e){switch(Uc.call(t)){case"[object Array]":{if(e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(a,p){r[p]=ds(a,e)}),r}case"[object Object]":{if(e.has(t))return e.get(t);var i=Object.create(Object.getPrototypeOf(t));return e.set(t,i),Object.keys(t).forEach(function(a){i[a]=ds(t[a],e)}),i}default:return t}}function $c(){return typeof lc!="undefined"?"production":"development"}function fs(t){return $c()===t}function Ja(){return fs("production")===!0}function Hc(){return fs("development")===!0}function hs(){return fs("test")===!0}function ps(t){try{return t()}catch(e){console.error&&console.error(e)}}function Zr(t){return t.errors&&t.errors.length}function Za(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&Za(t[e])}),t}function e0(t){if(Hc()||hs()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Za(t)}return t}var Gc=Object.prototype.hasOwnProperty;function Xa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ms(t)}function ms(t){var e=t[0]||{},r=t.length;if(r>1){var i=[];e=vs(e,i);for(var a=1;a<r;++a)e=to(e,t[a],i)}return e}function eo(t){return t!==null&&typeof t=="object"}function to(t,e,r){return eo(e)&&eo(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=vs(t,r)),Object.keys(e).forEach(function(i){var a=e[i];if(Gc.call(t,i)){var p=t[i];a!==p&&(t[i]=to(vs(p,r),a,r))}else t[i]=a}),t):e}function vs(t,e){return t!==null&&typeof t=="object"&&e.indexOf(t)<0&&(Array.isArray(t)?t=t.slice(0):t=Fe({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var ro=Object.create({});function t0(t,e){e===void 0&&(e="warn"),!Ja()&&!ro[t]&&(hs()||(ro[t]=!0),e==="error"?console.error(t):console.warn(t))}function r0(t){return JSON.parse(JSON.stringify(t))}var Vc=nt(49329),jc=nt.n(Vc),zc=jc();const zt=zc;function Wc(t){for(var e=["query","operationName","variables","extensions","context"],r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];if(e.indexOf(a)<0)throw new It(2)}return t}var i0=function(t){Fr(e,t);function e(r,i){var a=t.call(this,r)||this;return a.link=i,a}return e}(Error);function gn(t){return t.request.length<=1}function n0(t){var e=!1;return new Promise(function(r,i){t.subscribe({next:function(a){e||(e=!0,r(a))},error:i})})}var s0=null;function a0(t){return new Observable(function(e){t.then(function(r){e.next(r),e.complete()}).catch(e.error.bind(e))})}function io(t){return new zt(function(e){e.error(t)})}function Qc(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?as(e.query):""),e}function Kc(t,e){var r=Fe({},t),i=function(p){typeof p=="function"?r=Fe({},r,p(r)):r=Fe({},r,p)},a=function(){return Fe({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:a}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Yc(e)}}),e}function Yc(t){var e=t.query,r=t.variables,i=t.operationName;return JSON.stringify([i,e,r])}function no(t,e){return e?e(t):zt.of()}function Oi(t){return typeof t=="function"?new gr(t):t}function so(){return new gr(function(){return zt.of()})}function Jc(t){return t.length===0?so():t.map(Oi).reduce(function(e,r){return e.concat(r)})}function ao(t,e,r){var i=Oi(e),a=Oi(r||new gr(no));return gn(i)&&gn(a)?new gr(function(p){return t(p)?i.request(p)||zt.of():a.request(p)||zt.of()}):new gr(function(p,M){return t(p)?i.request(p,M)||zt.of():a.request(p,M)||zt.of()})}var Zc=function(t,e){var r=Oi(t);if(gn(r))return r;var i=Oi(e);return gn(i)?new gr(function(a){return r.request(a,function(p){return i.request(p)||zt.of()})||zt.of()}):new gr(function(a,p){return r.request(a,function(M){return i.request(M,p)||zt.of()})||zt.of()})},gr=function(){function t(e){e&&(this.request=e)}return t.prototype.split=function(e,r,i){return this.concat(ao(e,r,i||new t(no)))},t.prototype.concat=function(e){return Zc(this,e)},t.prototype.request=function(e,r){throw new It(1)},t.empty=so,t.from=Jc,t.split=ao,t.execute=bn,t}();function bn(t,e){return t.request(Kc(e.context,Qc(Wc(e))))||zt.of()}var Xc=nt(67121),_t;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(_t||(_t={}));function oo(t){return t<7}var Bi=function(t){Fr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype[Xc.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(zt);function fi(t){return Array.isArray(t)&&t.length>0}function ed(t){return t.hasOwnProperty("graphQLErrors")}var td=function(t){var e="";return fi(t.graphQLErrors)&&t.graphQLErrors.forEach(function(r){var i=r?r.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),t.networkError&&(e+="Network error: "+t.networkError.message+`
`),e=e.replace(/\n$/,""),e},zr=function(t){Fr(e,t);function e(r){var i=r.graphQLErrors,a=r.networkError,p=r.errorMessage,M=r.extraInfo,B=t.call(this,p)||this;return B.graphQLErrors=i||[],B.networkError=a||null,p?B.message=p:B.message=td(B),B.extraInfo=M,B.__proto__=e.prototype,B}return e}(Error),Xr;(function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"})(Xr||(Xr={}));var rd=function(t,e){return e===void 0&&(e="none"),t&&(t.networkError||e==="none"&&fi(t.graphQLErrors))},id=function(t){Fr(e,t);function e(r){var i=r.queryManager,a=r.options,p=r.shouldSubscribe,M=p===void 0?!0:p,B=t.call(this,function(K){return B.onSubscribe(K)})||this;B.observers=new Set,B.subscriptions=new Set,B.isTornDown=!1,B.options=a,B.variables=a.variables||{},B.queryId=i.generateQueryId(),B.shouldSubscribe=M;var z=di(a.query);return B.queryName=z&&z.name&&z.name.value,B.queryManager=i,B}return e.prototype.result=function(){var r=this;return new Promise(function(i,a){var p={next:function(B){i(B),r.observers.delete(p),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){M.unsubscribe()},0)},error:a},M=r.subscribe(p)})},e.prototype.currentResult=function(){var r=this.getCurrentResult();return r.data===void 0&&(r.data={}),r},e.prototype.getCurrentResult=function(){if(this.isTornDown){var r=this.lastResult;return{data:!this.lastError&&r&&r.data||void 0,error:this.lastError,loading:!1,networkStatus:_t.error}}var i=this.queryManager.getCurrentQueryResult(this),a=i.data,p=i.partial,M=this.queryManager.queryStore.get(this.queryId),B,z=this.options.fetchPolicy,K=z==="network-only"||z==="no-cache";if(M){var te=M.networkStatus;if(rd(M,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:te,error:new zr({graphQLErrors:M.graphQLErrors,networkError:M.networkError})};M.variables&&(this.options.variables=Fe(Fe({},this.options.variables),M.variables),this.variables=this.options.variables),B={data:a,loading:oo(te),networkStatus:te},M.graphQLErrors&&this.options.errorPolicy==="all"&&(B.errors=M.graphQLErrors)}else{var ae=K||p&&z!=="cache-only";B={data:a,loading:ae,networkStatus:ae?_t.loading:_t.ready}}return p||this.updateLastResult(Fe(Fe({},B),{stale:!1})),Fe(Fe({},B),{partial:p})},e.prototype.isDifferentFromLastResult=function(r){var i=this.lastResultSnapshot;return!(i&&r&&i.networkStatus===r.networkStatus&&i.stale===r.stale&&vr(i.data,r.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var r=this.queryManager.queryStore.get(this.queryId);r&&(r.networkError=null,r.graphQLErrors=[])},e.prototype.refetch=function(r){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new It(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),vr(this.variables,r)||(this.variables=Fe(Fe({},this.variables),r)),vr(this.options.variables,this.variables)||(this.options.variables=Fe(Fe({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Fe(Fe({},this.options),{fetchPolicy:i}),Xr.refetch))},e.prototype.fetchMore=function(r){var i=this;ht(r.updateQuery,2);var a=Fe(Fe({},r.query?r:Fe(Fe(Fe({},this.options),r),{variables:Fe(Fe({},this.variables),r.variables)})),{fetchPolicy:"network-only"}),p=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(p,a,Xr.normal,this.queryId).then(function(M){return i.updateQuery(function(B){return r.updateQuery(B,{fetchMoreResult:M.data,variables:a.variables})}),i.queryManager.stopQuery(p),M},function(M){throw i.queryManager.stopQuery(p),M})},e.prototype.subscribeToMore=function(r){var i=this,a=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables}).subscribe({next:function(p){var M=r.updateQuery;M&&i.updateQuery(function(B,z){var K=z.variables;return M(B,{subscriptionData:p,variables:K})})},error:function(p){if(r.onError){r.onError(p);return}}});return this.subscriptions.add(a),function(){i.subscriptions.delete(a)&&a.unsubscribe()}},e.prototype.setOptions=function(r){var i=this.options.fetchPolicy;this.options=Fe(Fe({},this.options),r),r.pollInterval?this.startPolling(r.pollInterval):r.pollInterval===0&&this.stopPolling();var a=r.fetchPolicy;return this.setVariables(this.options.variables,i!==a&&(i==="cache-only"||i==="standby"||a==="network-only"),r.fetchResults)},e.prototype.setVariables=function(r,i,a){return i===void 0&&(i=!1),a===void 0&&(a=!0),this.isTornDown=!1,r=r||this.variables,!i&&vr(r,this.variables)?this.observers.size&&a?this.result():Promise.resolve():(this.variables=this.options.variables=r,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(r){var i=this.queryManager,a=i.getQueryWithPreviousResult(this.queryId),p=a.previousResult,M=a.variables,B=a.document,z=ps(function(){return r(p,{variables:M})});z&&(i.dataStore.markUpdateQueryResult(B,M,z),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(r){uo(this),this.options.pollInterval=r,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(r){var i=this.lastResult;return this.lastResult=r,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?r:qc(r),i},e.prototype.onSubscribe=function(r){var i=this;try{var a=r._subscription._observer;a&&!a.error&&(a.error=nd)}catch(M){}var p=!this.observers.size;return this.observers.add(r),r.next&&this.lastResult&&r.next(this.lastResult),r.error&&this.lastError&&r.error(this.lastError),p&&this.setUpQuery(),function(){i.observers.delete(r)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var r=this,i=this,a=i.queryManager,p=i.queryId;this.shouldSubscribe&&a.addObservableQuery(p,this),this.options.pollInterval&&(uo(this),a.startPollingQuery(this.options,p));var M=function(B){r.updateLastResult(Fe(Fe({},r.lastResult),{errors:B.graphQLErrors,networkStatus:_t.error,loading:!1})),gs(r.observers,"error",r.lastError=B)};a.observeQuery(p,this.options,{next:function(B){if(r.lastError||r.isDifferentFromLastResult(B)){var z=r.updateLastResult(B),K=r.options,te=K.query,ae=K.variables,de=K.fetchPolicy;a.transform(te).hasClientExports?a.getLocalState().addExportedVariables(te,ae).then(function(_e){var Se=r.variables;r.variables=r.options.variables=_e,!B.loading&&z&&de!=="cache-only"&&a.transform(te).serverQuery&&!vr(Se,_e)?r.refetch():gs(r.observers,"next",B)}):gs(r.observers,"next",B)}},error:M}).catch(M)},e.prototype.tearDownQuery=function(){var r=this.queryManager;this.isTornDown=!0,r.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),r.removeObservableQuery(this.queryId),r.stopQuery(this.queryId),this.observers.clear()},e}(Bi);function nd(t){}function gs(t,e,r){var i=[];t.forEach(function(a){return a[e]&&i.push(a)}),i.forEach(function(a){return a[e](r)})}function uo(t){var e=t.options.fetchPolicy;ht(e!=="cache-first"&&e!=="cache-only",3)}var sd=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initMutation=function(e,r,i){this.store[e]={mutation:r,variables:i||{},loading:!0,error:null}},t.prototype.markMutationError=function(e,r){var i=this.store[e];i&&(i.loading=!1,i.error=r)},t.prototype.markMutationResult=function(e){var r=this.store[e];r&&(r.loading=!1,r.error=null)},t.prototype.reset=function(){this.store={}},t}(),ad=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(e){var r=this.store[e.queryId];ht(!r||r.document===e.document||vr(r.document,e.document),19);var i=!1,a=null;e.storePreviousVariables&&r&&r.networkStatus!==_t.loading&&(vr(r.variables,e.variables)||(i=!0,a=r.variables));var p;i?p=_t.setVariables:e.isPoll?p=_t.poll:e.isRefetch?p=_t.refetch:p=_t.loading;var M=[];r&&r.graphQLErrors&&(M=r.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:a,networkError:null,graphQLErrors:M,networkStatus:p,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=_t.fetchMore)},t.prototype.markQueryResult=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=fi(r.errors)?r.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=_t.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=_t.ready))},t.prototype.markQueryError=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=r,this.store[e].networkStatus=_t.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},t.prototype.markQueryResultClient=function(e,r){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,r&&(i.networkStatus=_t.ready))},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(e){var r=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?r.stopQuery(i):r.store[i].networkStatus=_t.loading})},t}();function od(t){return t.charAt(0).toUpperCase()+t.slice(1)}var lo=function(){function t(e){var r=e.cache,i=e.client,a=e.resolvers,p=e.fragmentMatcher;this.cache=r,i&&(this.client=i),a&&this.addResolvers(a),p&&this.setFragmentMatcher(p)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){r.resolvers=Xa(r.resolvers,i)}):this.resolvers=Xa(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,i=e.remoteResult,a=e.context,p=e.variables,M=e.onlyRunForcedResolvers,B=M===void 0?!1:M;return Gr(this,void 0,void 0,function(){return Vr(this,function(z){return r?[2,this.resolveDocument(r,i.data,a,p,this.fragmentMatcher,B).then(function(K){return Fe(Fe({},i),{data:K.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return hn(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return this.resolvers?Lc(e):e},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.cache,i=Fe(Fe({},e),{cache:r,getCacheKey:function(a){if(r.config)return r.config.dataIdFromObject(a);ht(!1,6)}});return i},t.prototype.addExportedVariables=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),Gr(this,void 0,void 0,function(){return Vr(this,function(a){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(i),r).then(function(p){return Fe(Fe({},r),p.exportedVariables)})]:[2,Fe({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return(0,Or.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(r=i.arguments.some(function(a){return a.name.value==="always"&&a.value.kind==="BooleanValue"&&a.value.value===!0}),r))return Or.BREAK}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:Bc(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,i,a,p,M){return i===void 0&&(i={}),a===void 0&&(a={}),p===void 0&&(p=function(){return!0}),M===void 0&&(M=!1),Gr(this,void 0,void 0,function(){var B,z,K,te,ae,de,_e,Se,Re;return Vr(this,function(Pe){return B=os(e),z=pn(e),K=mn(z),te=B.operation,ae=te?od(te):"Query",de=this,_e=de.cache,Se=de.client,Re={fragmentMap:K,context:Fe(Fe({},i),{cache:_e,client:Se}),variables:a,fragmentMatcher:p,defaultOperationType:ae,exportedVariables:{},onlyRunForcedResolvers:M},[2,this.resolveSelectionSet(B.selectionSet,r,Re).then(function(xe){return{result:xe,exportedVariables:Re.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,i){return Gr(this,void 0,void 0,function(){var a,p,M,B,z,K=this;return Vr(this,function(te){return a=i.fragmentMap,p=i.context,M=i.variables,B=[r],z=function(ae){return Gr(K,void 0,void 0,function(){var de,_e;return Vr(this,function(Se){return ns(ae,M)?jr(ae)?[2,this.resolveField(ae,r,i).then(function(Re){var Pe;typeof Re!="undefined"&&B.push((Pe={},Pe[Fi(ae)]=Re,Pe))})]:(cn(ae)?de=ae:(de=a[ae.name.value],ht(de,7)),de&&de.typeCondition&&(_e=de.typeCondition.name.value,i.fragmentMatcher(r,_e,p))?[2,this.resolveSelectionSet(de.selectionSet,r,i).then(function(Re){B.push(Re)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(z)).then(function(){return ms(B)})]})})},t.prototype.resolveField=function(e,r,i){return Gr(this,void 0,void 0,function(){var a,p,M,B,z,K,te,ae,de,_e=this;return Vr(this,function(Se){return a=i.variables,p=e.name.value,M=Fi(e),B=p!==M,z=r[M]||r[p],K=Promise.resolve(z),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(te=r.__typename||i.defaultOperationType,ae=this.resolvers&&this.resolvers[te],ae&&(de=ae[B?p:M],de&&(K=Promise.resolve(de(r,is(e,a),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,K.then(function(Re){if(Re===void 0&&(Re=z),e.directives&&e.directives.forEach(function(Pe){Pe.name.value==="export"&&Pe.arguments&&Pe.arguments.forEach(function(xe){xe.name.value==="as"&&xe.value.kind==="StringValue"&&(i.exportedVariables[xe.value.value]=Re)})}),!e.selectionSet||Re==null)return Re;if(Array.isArray(Re))return _e.resolveSubSelectedArray(e,Re,i);if(e.selectionSet)return _e.resolveSelectionSet(e.selectionSet,Re,i)})]})})},t.prototype.resolveSubSelectedArray=function(e,r,i){var a=this;return Promise.all(r.map(function(p){if(p===null)return null;if(Array.isArray(p))return a.resolveSubSelectedArray(e,p,i);if(e.selectionSet)return a.resolveSelectionSet(e.selectionSet,p,i)}))},t}();function co(t){var e=new Set,r=null;return new Bi(function(i){return e.add(i),r=r||t.subscribe({next:function(a){e.forEach(function(p){return p.next&&p.next(a)})},error:function(a){e.forEach(function(p){return p.error&&p.error(a)})},complete:function(){e.forEach(function(a){return a.complete&&a.complete()})}}),function(){e.delete(i)&&!e.size&&r&&(r.unsubscribe(),r=null)}})}function ud(t,e){return new Bi(function(r){var i=r.next,a=r.error,p=r.complete,M=0,B=!1,z={next:function(te){++M,new Promise(function(ae){ae(e(te))}).then(function(ae){--M,i&&i.call(r,ae),B&&z.complete()},function(ae){--M,a&&a.call(r,ae)})},error:function(te){a&&a.call(r,te)},complete:function(){B=!0,M||p&&p.call(r)}},K=t.subscribe(z);return function(){return K.unsubscribe()}})}var ld=Object.prototype.hasOwnProperty,cd=function(){function t(e){var r=e.link,i=e.queryDeduplication,a=i===void 0?!1:i,p=e.store,M=e.onBroadcast,B=M===void 0?function(){}:M,z=e.ssrMode,K=z===void 0?!1:z,te=e.clientAwareness,ae=te===void 0?{}:te,de=e.localState,_e=e.assumeImmutableResults;this.mutationStore=new sd,this.queryStore=new ad,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(cs?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=r,this.queryDeduplication=a,this.dataStore=p,this.onBroadcast=B,this.clientAwareness=ae,this.localState=de||new lo({cache:p.getCache()}),this.ssrMode=K,this.assumeImmutableResults=!!_e}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(r){r(new It(8))})},t.prototype.mutate=function(e){var r=e.mutation,i=e.variables,a=e.optimisticResponse,p=e.updateQueries,M=e.refetchQueries,B=M===void 0?[]:M,z=e.awaitRefetchQueries,K=z===void 0?!1:z,te=e.update,ae=e.errorPolicy,de=ae===void 0?"none":ae,_e=e.fetchPolicy,Se=e.context,Re=Se===void 0?{}:Se;return Gr(this,void 0,void 0,function(){var Pe,xe,Ue,$e=this;return Vr(this,function(Oe){switch(Oe.label){case 0:return ht(r,9),ht(!_e||_e==="no-cache",10),Pe=this.generateQueryId(),r=this.transform(r).document,this.setQuery(Pe,function(){return{document:r}}),i=this.getVariables(r,i),this.transform(r).hasClientExports?[4,this.localState.addExportedVariables(r,i,Re)]:[3,2];case 1:i=Oe.sent(),Oe.label=2;case 2:return xe=function(){var st={};return p&&$e.queries.forEach(function(vt,bt){var Rt=vt.observableQuery;if(Rt){var mt=Rt.queryName;mt&&ld.call(p,mt)&&(st[bt]={updater:p[mt],query:$e.queryStore.get(bt)})}}),st},this.mutationStore.initMutation(Pe,r,i),this.dataStore.markMutationInit({mutationId:Pe,document:r,variables:i,updateQueries:xe(),update:te,optimisticResponse:a}),this.broadcastQueries(),Ue=this,[2,new Promise(function(st,vt){var bt,Rt;Ue.getObservableFromLink(r,Fe(Fe({},Re),{optimisticResponse:a}),i,!1).subscribe({next:function(mt){if(Zr(mt)&&de==="none"){Rt=new zr({graphQLErrors:mt.errors});return}Ue.mutationStore.markMutationResult(Pe),_e!=="no-cache"&&Ue.dataStore.markMutationResult({mutationId:Pe,result:mt,document:r,variables:i,updateQueries:xe(),update:te}),bt=mt},error:function(mt){Ue.mutationStore.markMutationError(Pe,mt),Ue.dataStore.markMutationComplete({mutationId:Pe,optimisticResponse:a}),Ue.broadcastQueries(),Ue.setQuery(Pe,function(){return{document:null}}),vt(new zr({networkError:mt}))},complete:function(){if(Rt&&Ue.mutationStore.markMutationError(Pe,Rt),Ue.dataStore.markMutationComplete({mutationId:Pe,optimisticResponse:a}),Ue.broadcastQueries(),Rt){vt(Rt);return}typeof B=="function"&&(B=B(bt));var mt=[];fi(B)&&B.forEach(function(Yr){if(typeof Yr=="string")Ue.queries.forEach(function(kr){var qt=kr.observableQuery;qt&&qt.queryName===Yr&&mt.push(qt.refetch())});else{var sn={query:Yr.query,variables:Yr.variables,fetchPolicy:"network-only"};Yr.context&&(sn.context=Yr.context),mt.push(Ue.query(sn))}}),Promise.all(K?mt:[]).then(function(){Ue.setQuery(Pe,function(){return{document:null}}),de==="ignore"&&bt&&Zr(bt)&&delete bt.errors,st(bt)})}})})]}})})},t.prototype.fetchQuery=function(e,r,i,a){return Gr(this,void 0,void 0,function(){var p,M,B,z,K,te,ae,de,_e,Se,Re,Pe,xe,Ue,$e,Oe,st,vt,bt=this;return Vr(this,function(Rt){switch(Rt.label){case 0:return p=r.metadata,M=p===void 0?null:p,B=r.fetchPolicy,z=B===void 0?"cache-first":B,K=r.context,te=K===void 0?{}:K,ae=this.transform(r.query).document,de=this.getVariables(ae,r.variables),this.transform(ae).hasClientExports?[4,this.localState.addExportedVariables(ae,de,te)]:[3,2];case 1:de=Rt.sent(),Rt.label=2;case 2:if(r=Fe(Fe({},r),{variables:de}),Se=z==="network-only"||z==="no-cache",Re=Se,Se||(Pe=this.dataStore.getCache().diff({query:ae,variables:de,returnPartialData:!0,optimistic:!1}),xe=Pe.complete,Ue=Pe.result,Re=!xe||z==="cache-and-network",_e=Ue),$e=Re&&z!=="cache-only"&&z!=="standby",hn(["live"],ae)&&($e=!0),Oe=this.idCounter++,st=z!=="no-cache"?this.updateQueryWatch(e,ae,r):void 0,this.setQuery(e,function(){return{document:ae,lastRequestId:Oe,invalidated:!0,cancel:st}}),this.invalidate(a),this.queryStore.initQuery({queryId:e,document:ae,storePreviousVariables:$e,variables:de,isPoll:i===Xr.poll,isRefetch:i===Xr.refetch,metadata:M,fetchMoreForQueryId:a}),this.broadcastQueries(),$e){if(vt=this.fetchRequest({requestId:Oe,queryId:e,document:ae,options:r,fetchMoreForQueryId:a}).catch(function(mt){throw ed(mt)?mt:(Oe>=bt.getQuery(e).lastRequestId&&(bt.queryStore.markQueryError(e,mt,a),bt.invalidate(e),bt.invalidate(a),bt.broadcastQueries()),new zr({networkError:mt}))}),z!=="cache-and-network")return[2,vt];vt.catch(function(){})}return this.queryStore.markQueryResultClient(e,!$e),this.invalidate(e),this.invalidate(a),this.transform(ae).hasForcedResolvers?[2,this.localState.runResolvers({document:ae,remoteResult:{data:_e},context:te,variables:de,onlyRunForcedResolvers:!0}).then(function(mt){return bt.markQueryResult(e,mt,r,a),bt.broadcastQueries(),mt})]:(this.broadcastQueries(),[2,{data:_e}])}})})},t.prototype.markQueryResult=function(e,r,i,a){var p=i.fetchPolicy,M=i.variables,B=i.errorPolicy;p==="no-cache"?this.setQuery(e,function(){return{newData:{result:r.data,complete:!0}}}):this.dataStore.markQueryResult(r,this.getQuery(e).document,M,a,B==="ignore"||B==="all")},t.prototype.queryListenerForObserver=function(e,r,i){var a=this;function p(M,B){if(i[M])try{i[M](B)}catch(z){}}return function(M,B){if(a.invalidate(e,!1),!!M){var z=a.getQuery(e),K=z.observableQuery,te=z.document,ae=K?K.options.fetchPolicy:r.fetchPolicy;if(ae!=="standby"){var de=oo(M.networkStatus),_e=K&&K.getLastResult(),Se=!!(_e&&_e.networkStatus!==M.networkStatus),Re=r.returnPartialData||!B&&M.previousVariables||Se&&r.notifyOnNetworkStatusChange||ae==="cache-only"||ae==="cache-and-network";if(!(de&&!Re)){var Pe=fi(M.graphQLErrors),xe=K&&K.options.errorPolicy||r.errorPolicy||"none";if(xe==="none"&&Pe||M.networkError)return p("error",new zr({graphQLErrors:M.graphQLErrors,networkError:M.networkError}));try{var Ue=void 0,$e=void 0;if(B)ae!=="no-cache"&&ae!=="network-only"&&a.setQuery(e,function(){return{newData:null}}),Ue=B.result,$e=!B.complete;else{var Oe=K&&K.getLastError(),st=xe!=="none"&&(Oe&&Oe.graphQLErrors)!==M.graphQLErrors;if(_e&&_e.data&&!st)Ue=_e.data,$e=!1;else{var vt=a.dataStore.getCache().diff({query:te,variables:M.previousVariables||M.variables,returnPartialData:!0,optimistic:!0});Ue=vt.result,$e=!vt.complete}}var bt=$e&&!(r.returnPartialData||ae==="cache-only"),Rt={data:bt?_e&&_e.data:Ue,loading:de,networkStatus:M.networkStatus,stale:bt};xe==="all"&&Pe&&(Rt.errors=M.graphQLErrors),p("next",Rt)}catch(mt){p("error",new zr({networkError:mt}))}}}}}},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var i=this.dataStore.getCache(),a=i.transformDocument(e),p=Ic(i.transformForLink(a)),M=this.localState.clientQuery(a),B=this.localState.serverQuery(p),z={document:a,hasClientExports:Rc(a),hasForcedResolvers:this.localState.shouldForceResolvers(a),clientQuery:M,serverQuery:B,defaultVars:us(di(a))},K=function(te){te&&!r.has(te)&&r.set(te,z)};K(e),K(a),K(M),K(B)}return r.get(e)},t.prototype.getVariables=function(e,r){return Fe(Fe({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e,r){r===void 0&&(r=!0),ht(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=Fe({},e);return new id({queryManager:this,options:i,shouldSubscribe:r})},t.prototype.query=function(e){var r=this;return ht(e.query,12),ht(e.query.kind==="Document",13),ht(!e.returnPartialData,14),ht(!e.pollInterval,15),new Promise(function(i,a){var p=r.watchQuery(e,!1);r.fetchQueryRejectFns.set("query:"+p.queryId,a),p.result().then(i,a).then(function(){return r.fetchQueryRejectFns.delete("query:"+p.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},t.prototype.addQueryListener=function(e,r){this.setQuery(e,function(i){var a=i.listeners;return a.add(r),{invalidated:!1}})},t.prototype.updateQueryWatch=function(e,r,i){var a=this,p=this.getQuery(e).cancel;p&&p();var M=function(){var B=null,z=a.getQuery(e).observableQuery;if(z){var K=z.getLastResult();K&&(B=K.data)}return B};return this.dataStore.getCache().watch({query:r,variables:i.variables,optimistic:!0,previousResult:M,callback:function(B){a.setQuery(e,function(){return{invalidated:!0,newData:B}})}})},t.prototype.addObservableQuery=function(e,r){this.setQuery(e,function(){return{observableQuery:r}})},t.prototype.removeObservableQuery=function(e){var r=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),r&&r()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(r){r(new It(16))});var e=[];return this.queries.forEach(function(r,i){var a=r.observableQuery;a&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(a,p){var M=a.observableQuery;if(M){var B=M.options.fetchPolicy;M.resetLastResults(),B!=="cache-only"&&(e||B!=="standby")&&i.push(M.refetch()),r.setQuery(p,function(){return{newData:null}}),r.invalidate(p)}}),this.broadcastQueries(),Promise.all(i)},t.prototype.observeQuery=function(e,r,i){return this.addQueryListener(e,this.queryListenerForObserver(e,r,i)),this.fetchQuery(e,r)},t.prototype.startQuery=function(e,r,i){return this.addQueryListener(e,i),this.fetchQuery(e,r).catch(function(){}),e},t.prototype.startGraphQLSubscription=function(e){var r=this,i=e.query,a=e.fetchPolicy,p=e.variables;i=this.transform(i).document,p=this.getVariables(i,p);var M=function(z){return r.getObservableFromLink(i,{},z,!1).map(function(K){if((!a||a!=="no-cache")&&(r.dataStore.markSubscriptionResult(K,i,z),r.broadcastQueries()),Zr(K))throw new zr({graphQLErrors:K.errors});return K})};if(this.transform(i).hasClientExports){var B=this.localState.addExportedVariables(i,p).then(M);return new Bi(function(z){var K=null;return B.then(function(te){return K=te.subscribe(z)},z.error),function(){return K&&K.unsubscribe()}})}return M(p)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(r){return r.unsubscribe()}),this.queries.delete(e)},t.prototype.getCurrentQueryResult=function(e,r){r===void 0&&(r=!0);var i=e.options,a=i.variables,p=i.query,M=i.fetchPolicy,B=i.returnPartialData,z=e.getLastResult(),K=this.getQuery(e.queryId).newData;if(K&&K.complete)return{data:K.result,partial:!1};if(M==="no-cache"||M==="network-only")return{data:void 0,partial:!1};var te=this.dataStore.getCache().diff({query:p,variables:a,previousResult:z?z.data:void 0,returnPartialData:!0,optimistic:r}),ae=te.result,de=te.complete;return{data:de||B?ae:void 0,partial:!de}},t.prototype.getQueryWithPreviousResult=function(e){var r;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;ht(i,17),r=i}else r=e;var a=r.options,p=a.variables,M=a.query;return{previousResult:this.getCurrentQueryResult(r,!1).data,variables:p,document:M}},t.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(r,i){r.invalidated&&r.listeners.forEach(function(a){a&&a(e.queryStore.get(i),r.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,i,a){var p=this;a===void 0&&(a=this.queryDeduplication);var M,B=this.transform(e).serverQuery;if(B){var z=this,K=z.inFlightLinkObservables,te=z.link,ae={query:B,variables:i,operationName:as(B)||void 0,context:this.prepareContext(Fe(Fe({},r),{forceFetch:!a}))};if(r=ae.context,a){var de=K.get(B)||new Map;K.set(B,de);var _e=JSON.stringify(i);if(M=de.get(_e),!M){de.set(_e,M=co(bn(te,ae)));var Se=function(){de.delete(_e),de.size||K.delete(B),Re.unsubscribe()},Re=M.subscribe({next:Se,error:Se,complete:Se})}}else M=co(bn(te,ae))}else M=Bi.of({data:{}}),r=this.prepareContext(r);var Pe=this.transform(e).clientQuery;return Pe&&(M=ud(M,function(xe){return p.localState.runResolvers({document:Pe,remoteResult:xe,context:r,variables:i})})),M},t.prototype.fetchRequest=function(e){var r=this,i=e.requestId,a=e.queryId,p=e.document,M=e.options,B=e.fetchMoreForQueryId,z=M.variables,K=M.errorPolicy,te=K===void 0?"none":K,ae=M.fetchPolicy,de,_e;return new Promise(function(Se,Re){var Pe=r.getObservableFromLink(p,M.context,z),xe="fetchRequest:"+a;r.fetchQueryRejectFns.set(xe,Re);var Ue=function(){r.fetchQueryRejectFns.delete(xe),r.setQuery(a,function(Oe){var st=Oe.subscriptions;st.delete($e)})},$e=Pe.map(function(Oe){if(i>=r.getQuery(a).lastRequestId&&(r.markQueryResult(a,Oe,M,B),r.queryStore.markQueryResult(a,Oe,B),r.invalidate(a),r.invalidate(B),r.broadcastQueries()),te==="none"&&fi(Oe.errors))return Re(new zr({graphQLErrors:Oe.errors}));if(te==="all"&&(_e=Oe.errors),B||ae==="no-cache")de=Oe.data;else{var st=r.dataStore.getCache().diff({variables:z,query:p,optimistic:!1,returnPartialData:!0}),vt=st.result,bt=st.complete;(bt||M.returnPartialData)&&(de=vt)}}).subscribe({error:function(Oe){Ue(),Re(Oe)},complete:function(){Ue(),Se({data:de,errors:_e,loading:!1,networkStatus:_t.ready,stale:!1})}});r.setQuery(a,function(Oe){var st=Oe.subscriptions;st.add($e)})})},t.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(e,r){var i=this.getQuery(e),a=Fe(Fe({},i),r(i));this.queries.set(e,a)},t.prototype.invalidate=function(e,r){r===void 0&&(r=!0),e&&this.setQuery(e,function(){return{invalidated:r}})},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return Fe(Fe({},r),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(e){var r=this.queryStore.get(e);return r&&r.networkStatus!==_t.ready&&r.networkStatus!==_t.error},t.prototype.startPollingQuery=function(e,r,i){var a=this,p=e.pollInterval;if(ht(p,18),!this.ssrMode){var M=this.pollingInfoByQueryId.get(r);M||this.pollingInfoByQueryId.set(r,M={}),M.interval=p,M.options=Fe(Fe({},e),{fetchPolicy:"network-only"});var B=function(){var K=a.pollingInfoByQueryId.get(r);K&&(a.checkInFlight(r)?z():a.fetchQuery(r,K.options,Xr.poll).then(z,z))},z=function(){var K=a.pollingInfoByQueryId.get(r);K&&(clearTimeout(K.timeout),K.timeout=setTimeout(B,K.interval))};i&&this.addQueryListener(r,i),z()}return r},t.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},t}(),dd=function(){function t(e){this.cache=e}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(e,r,i,a,p){p===void 0&&(p=!1);var M=!Zr(e);p&&Zr(e)&&e.data&&(M=!0),!a&&M&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:r,variables:i})},t.prototype.markSubscriptionResult=function(e,r,i){Zr(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:r,variables:i})},t.prototype.markMutationInit=function(e){var r=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(a){var p=r.cache;r.cache=a;try{r.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{r.cache=p}},e.mutationId)}},t.prototype.markMutationResult=function(e){var r=this;if(!Zr(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],a=e.updateQueries;a&&Object.keys(a).forEach(function(p){var M=a[p],B=M.query,z=M.updater,K=r.cache.diff({query:B.document,variables:B.variables,returnPartialData:!0,optimistic:!1}),te=K.result,ae=K.complete;if(ae){var de=ps(function(){return z(te,{mutationResult:e.result,queryName:as(B.document)||void 0,queryVariables:B.variables})});de&&i.push({result:de,dataId:"ROOT_QUERY",query:B.document,variables:B.variables})}}),this.cache.performTransaction(function(p){i.forEach(function(B){return p.write(B)});var M=e.update;M&&ps(function(){return M(p,e.result)})})}},t.prototype.markMutationComplete=function(e){var r=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(r)},t.prototype.markUpdateQueryResult=function(e,r,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:r,query:e})},t.prototype.reset=function(){return this.cache.reset()},t}(),fd="2.6.10",hd=!1,pd=function(){function t(e){var r=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,a=e.ssrMode,p=a===void 0?!1:a,M=e.ssrForceFetchDelay,B=M===void 0?0:M,z=e.connectToDevTools,K=e.queryDeduplication,te=K===void 0?!0:K,ae=e.defaultOptions,de=e.assumeImmutableResults,_e=de===void 0?!1:de,Se=e.resolvers,Re=e.typeDefs,Pe=e.fragmentMatcher,xe=e.name,Ue=e.version,$e=e.link;if(!$e&&Se&&($e=gr.empty()),!$e||!i)throw new It(4);this.link=$e,this.cache=i,this.store=new dd(i),this.disableNetworkFetches=p||B>0,this.queryDeduplication=te,this.defaultOptions=ae||{},this.typeDefs=Re,B&&setTimeout(function(){return r.disableNetworkFetches=!1},B),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Oe=!1;(typeof z=="undefined"?Oe:z&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=fd,this.localState=new lo({cache:i,client:this,resolvers:Se,fragmentMatcher:Pe}),this.queryManager=new cd({link:this.link,store:this.store,queryDeduplication:te,ssrMode:p,clientAwareness:{name:xe,version:Ue},localState:this.localState,assumeImmutableResults:_e,onBroadcast:function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.queryStore.getStore(),mutations:r.queryManager.mutationStore.getStore()},dataWithOptimisticResults:r.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Fe(Fe({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Fe(Fe({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=Fe(Fe({},this.defaultOptions.query),e)),ht(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Fe(Fe({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Fe(Fe({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeData=function(e){var r=this.cache.writeData(e);return this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return bn(this.link,e)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t}();const o0=null;function md(t){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:yn(t)},r={kind:"Document",definitions:[e]};return r}function vd(t,e){var r={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:yn(t)},i={kind:"Document",definitions:[r]};return i}function yn(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string"||typeof t=="undefined"||t===null)return null;if(Array.isArray(t))return yn(t[0]);var e=[];Object.keys(t).forEach(function(i){var a=yn(t[i]),p={kind:"Field",name:{kind:"Name",value:i},selectionSet:a||void 0};e.push(p)});var r={kind:"SelectionSet",selections:e};return r}var gd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},bd=function(){function t(){}return t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.read({query:e.query,variables:e.variables,optimistic:r})},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.read({query:Va(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:r})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Va(e.fragment,e.fragmentName)})},t.prototype.writeData=function(e){var r=e.id,i=e.data;if(typeof r!="undefined"){var a=null;try{a=this.read({rootId:r,optimistic:!1,query:gd})}catch(B){}var p=a&&a.__typename||"__ClientData",M=Object.assign({__typename:p},i);this.writeFragment({id:r,fragment:vd(M,p),data:M})}else this.writeQuery({query:md(i),data:i})},t}(),fo;(function(t){})(fo||(fo={}));var Dt=null,ho={},yd=1,wd=function(){return function(){function t(){this.id=["slot",yd++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Dt;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===ho)break;return e!==Dt&&(Dt.slots[this.id]=r),!0}return Dt&&(Dt.slots[this.id]=ho),!1},t.prototype.getValue=function(){if(this.hasValue())return Dt.slots[this.id]},t.prototype.withValue=function(e,r,i,a){var p,M=(p={__proto__:null},p[this.id]=e,p),B=Dt;Dt={parent:B,slots:M};try{return r.apply(a,i)}finally{Dt=B}},t.bind=function(e){var r=Dt;return function(){var i=Dt;try{return Dt=r,e.apply(this,arguments)}finally{Dt=i}}},t.noContext=function(e,r,i){if(Dt){var a=Dt;try{return Dt=null,e.apply(i,r)}finally{Dt=a}}else return e.apply(i,r)},t}()},bs="@wry/context:Slot",ys=Array,ws=ys[bs]||function(){var t=wd();try{Object.defineProperty(ys,bs,{value:ys[bs]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),_s=ws.bind,_d=ws.noContext;function u0(t,e){return setTimeout(_s(t),e)}function l0(t){return function(){var e=t.apply(this,arguments),r=_s(e.next),i=_s(e.throw);return new Promise(function(a,p){function M(K,te){try{var ae=K.call(e,te)}catch(_e){return p(_e)}var de=ae.done?a:B;Sd(ae.value)?ae.value.then(de,ae.done?p:z):de(ae.value)}var B=function(K){return M(r,K)},z=function(K){return M(i,K)};B()})}}function Sd(t){return t&&typeof t.then=="function"}var po=null;function c0(t){if(po.indexOf(t)<0){var e=function(r,i){var a=r[i];r[i]=function(){return _d(a,arguments,this)}};e(t,"yield"),e(t.prototype,"run"),e(t.prototype,"throwInto"),po.push(t)}return t}function kd(){}var Ed=function(){function t(e,r){e===void 0&&(e=Infinity),r===void 0&&(r=kd),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getEntry(e);return r&&r.value},t.prototype.getEntry=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var i=r.older,a=r.newer;a&&(a.older=i),i&&(i.newer=a),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=a)}return r},t.prototype.set=function(e,r){var i=this.getEntry(e);return i?i.value=r:(i={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),wn=new ws,Rd=[],Ss=[],Md=100;function hi(t,e){if(!t)throw new Error(e||"assertion failure")}function xd(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function mo(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function Td(t){return t.slice(0)}var Cd=function(){function t(e,r){this.fn=e,this.args=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(hi(!this.recomputing,"already recomputing"),!(!Nd(this)&&ks(this)))return pi(this)?Pd(this):mo(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,vo(this),Es(this))},t.prototype.dispose=function(){var e=this;_o(this).forEach(ks),Es(this),this.parents.forEach(function(r){r.setDirty(),So(r,e)})},t.count=0,t}();function Nd(t){var e=wn.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),pi(t)?bo(e,t):yo(e,t),e}function Pd(t){var e=_o(t);return wn.withValue(t,Ad,[t]),Dd(t)&&Id(t),e.forEach(ks),mo(t.value)}function Ad(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function pi(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function Id(t){t.dirty=!1,!pi(t)&&go(t)}function vo(t){t.parents.forEach(function(e){return bo(e,t)})}function go(t){t.parents.forEach(function(e){return yo(e,t)})}function bo(t,e){if(hi(t.childValues.has(e)),hi(pi(e)),!t.dirtyChildren)t.dirtyChildren=Ss.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),vo(t)}function yo(t,e){hi(t.childValues.has(e)),hi(!pi(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,Td(e.value)):xd(r,e.value)||t.setDirty(),wo(t,e),!pi(t)&&go(t)}function wo(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(Ss.length<Md&&Ss.push(r),t.dirtyChildren=null))}function ks(t){return t.parents.size===0&&typeof t.reportOrphan=="function"&&t.reportOrphan()===!0}function _o(t){var e=Rd;return t.childValues.size>0&&(e=[],t.childValues.forEach(function(r,i){So(t,i),e.push(i)})),hi(t.dirtyChildren===null),e}function So(t,e){e.parents.delete(t),t.childValues.delete(e),wo(t,e)}function Dd(t){if(typeof t.subscribe=="function")try{Es(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function Es(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var Rs=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return e.forEach(function(i){return r=r.getChildTrie(i)}),r.data||(r.data=Object.create(null))},t.prototype.getChildTrie=function(e){var r=this.weakness&&Fd(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=r.get(e);return i||r.set(e,i=new t(this.weakness)),i},t}();function Fd(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Od=new Rs(typeof WeakMap=="function");function Bd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Od.lookupArray(t)}var Ms=new Set;function Li(t,e){e===void 0&&(e=Object.create(null));var r=new Ed(e.max||Math.pow(2,16),function(M){return M.dispose()}),i=!!e.disposable,a=e.makeCacheKey||Bd;function p(){if(!(i&&!wn.hasValue())){var M=a.apply(null,arguments);if(M===void 0)return t.apply(null,arguments);var B=Array.prototype.slice.call(arguments),z=r.get(M);z?z.args=B:(z=new Cd(t,B),r.set(M,z),z.subscribe=e.subscribe,i&&(z.reportOrphan=function(){return r.delete(M)}));var K=z.recompute();return r.set(M,z),Ms.add(r),wn.hasValue()||(Ms.forEach(function(te){return te.clean()}),Ms.clear()),i?void 0:K}}return p.dirty=function(){var M=a.apply(null,arguments),B=M!==void 0&&r.get(M);B&&B.setDirty()},p}var ko=!1;function Eo(){var t=!ko;return hs()||(ko=!0),t}var Ld=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(e,r,i){var a=i.store.get(e.id),p=e.id==="ROOT_QUERY";if(!a)return p;var M=a.__typename,B=M===void 0?p&&"Query":M;return B&&B===r?!0:(Eo(),"heuristic")},t}(),d0=function(){function t(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(e,r,i){ht(this.isReady,1);var a=i.store.get(e.id),p=e.id==="ROOT_QUERY";if(!a)return p;var M=a.__typename,B=M===void 0?p&&"Query":M;if(ht(B,2),B===r)return!0;var z=this.possibleTypesMap[r];return!!(B&&z&&z.indexOf(B)>-1)},t.prototype.parseIntrospectionResult=function(e){var r={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(r[i.name]=i.possibleTypes.map(function(a){return a.name}))}),r},t}(),Ro=Object.prototype.hasOwnProperty,mi=function(){function t(e){var r=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Li(function(i){return r.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.depend(e),this.data[e]},t.prototype.set=function(e,r){var i=this.data[e];r!==i&&(this.data[e]=r,this.depend.dirty(e))},t.prototype.delete=function(e){Ro.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(e){var r=this;e?(Object.keys(e).forEach(function(i){r.set(i,e[i])}),Object.keys(this.data).forEach(function(i){Ro.call(e,i)||r.delete(i)})):Object.keys(this.data).forEach(function(i){r.delete(i)})},t}();function Mo(t){return new mi(t)}var Ud=function(){function t(e){var r=this,i=e===void 0?{}:e,a=i.cacheKeyRoot,p=a===void 0?new Rs(cs):a,M=i.freezeResults,B=M===void 0?!1:M,z=this,K=z.executeStoreQuery,te=z.executeSelectionSet,ae=z.executeSubSelectedArray;this.freezeResults=B,this.executeStoreQuery=Li(function(de){return K.call(r,de)},{makeCacheKey:function(de){var _e=de.query,Se=de.rootValue,Re=de.contextValue,Pe=de.variableValues,xe=de.fragmentMatcher;if(Re.store instanceof mi)return p.lookup(Re.store,_e,xe,JSON.stringify(Pe),Se.id)}}),this.executeSelectionSet=Li(function(de){return te.call(r,de)},{makeCacheKey:function(de){var _e=de.selectionSet,Se=de.rootValue,Re=de.execContext;if(Re.contextValue.store instanceof mi)return p.lookup(Re.contextValue.store,_e,Re.fragmentMatcher,JSON.stringify(Re.variableValues),Se.id)}}),this.executeSubSelectedArray=Li(function(de){return ae.call(r,de)},{makeCacheKey:function(de){var _e=de.field,Se=de.array,Re=de.execContext;if(Re.contextValue.store instanceof mi)return p.lookup(Re.contextValue.store,_e,Se,JSON.stringify(Re.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Fe(Fe({},e),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,i=e.query,a=e.variables,p=e.previousResult,M=e.returnPartialData,B=M===void 0?!0:M,z=e.rootId,K=z===void 0?"ROOT_QUERY":z,te=e.fragmentMatcherFunction,ae=e.config,de=Tc(i);a=ss({},us(de),a);var _e={store:r,dataIdFromObject:ae&&ae.dataIdFromObject,cacheRedirects:ae&&ae.cacheRedirects||{}},Se=this.executeStoreQuery({query:i,rootValue:{type:"id",id:K,generated:!0,typename:"Query"},contextValue:_e,variableValues:a,fragmentMatcher:te}),Re=Se.missing&&Se.missing.length>0;return Re&&!B&&Se.missing.forEach(function(Pe){if(!Pe.tolerable)throw new It(8)}),p&&vr(p,Se.result)&&(Se.result=p),{result:Se.result,complete:!Re}},t.prototype.executeStoreQuery=function(e){var r=e.query,i=e.rootValue,a=e.contextValue,p=e.variableValues,M=e.fragmentMatcher,B=M===void 0?qd:M,z=os(r),K=pn(r),te=mn(K),ae={query:r,fragmentMap:te,contextValue:a,variableValues:p,fragmentMatcher:B};return this.executeSelectionSet({selectionSet:z.selectionSet,rootValue:i,execContext:ae})},t.prototype.executeSelectionSet=function(e){var r=this,i=e.selectionSet,a=e.rootValue,p=e.execContext,M=p.fragmentMap,B=p.contextValue,z=p.variableValues,K={result:null},te=[],ae=B.store.get(a.id),de=ae&&ae.__typename||a.id==="ROOT_QUERY"&&"Query"||void 0;function _e(Se){var Re;return Se.missing&&(K.missing=K.missing||[],(Re=K.missing).push.apply(Re,Se.missing)),Se.result}return i.selections.forEach(function(Se){var Re;if(!!ns(Se,z))if(jr(Se)){var Pe=_e(r.executeField(ae,de,Se,p));typeof Pe!="undefined"&&te.push((Re={},Re[Fi(Se)]=Pe,Re))}else{var xe=void 0;if(cn(Se))xe=Se;else if(xe=M[Se.name.value],!xe)throw new It(9);var Ue=xe.typeCondition&&xe.typeCondition.name.value,$e=!Ue||p.fragmentMatcher(a,Ue,B);if($e){var Oe=r.executeSelectionSet({selectionSet:xe.selectionSet,rootValue:a,execContext:p});$e==="heuristic"&&Oe.missing&&(Oe=Fe(Fe({},Oe),{missing:Oe.missing.map(function(st){return Fe(Fe({},st),{tolerable:!0})})})),te.push(_e(Oe))}}}),K.result=ms(te),this.freezeResults,K},t.prototype.executeField=function(e,r,i,a){var p=a.variableValues,M=a.contextValue,B=i.name.value,z=is(i,p),K={resultKey:Fi(i),directives:kc(i,p)},te=$d(e,r,B,z,M,K);return Array.isArray(te.result)?this.combineExecResults(te,this.executeSubSelectedArray({field:i,array:te.result,execContext:a})):i.selectionSet?te.result==null?te:this.combineExecResults(te,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:te.result,execContext:a})):(xo(i,te.result),this.freezeResults,te)},t.prototype.combineExecResults=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i;return e.forEach(function(a){a.missing&&(i=i||[],i.push.apply(i,a.missing))}),{result:e.pop().result,missing:i}},t.prototype.executeSubSelectedArray=function(e){var r=this,i=e.field,a=e.array,p=e.execContext,M;function B(z){return z.missing&&(M=M||[],M.push.apply(M,z.missing)),z.result}return a=a.map(function(z){return z===null?null:Array.isArray(z)?B(r.executeSubSelectedArray({field:i,array:z,execContext:p})):i.selectionSet?B(r.executeSelectionSet({selectionSet:i.selectionSet,rootValue:z,execContext:p})):(xo(i,z),z)}),this.freezeResults,{result:a,missing:M}},t}();function xo(t,e){if(!t.selectionSet&&dn(e))throw new It(10)}function qd(){return!0}function f0(t){invariant(isIdValue(t),11)}function $d(t,e,r,i,a,p){var M=p.resultKey,B=p.directives,z=r;(i||B)&&(z=Ha(z,i,B));var K=void 0;if(t&&(K=t[z],typeof K=="undefined"&&a.cacheRedirects&&typeof e=="string")){var te=a.cacheRedirects[e];if(te){var ae=te[r];ae&&(K=ae(t,i,{getCacheKey:function(de){var _e=a.dataIdFromObject(de);return _e&&fn({id:_e,typename:de.__typename})}}))}}return typeof K=="undefined"?{result:K,missing:[{object:t,fieldName:z,tolerable:!1}]}:(_c(K)&&(K=K.json),{result:K})}var _n=function(){function t(e){e===void 0&&(e=Object.create(null)),this.data=e}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){this.data[e]=r},t.prototype.delete=function(e){this.data[e]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(e){this.data=e||Object.create(null)},t}();function h0(t){return new _n(t)}var Hd=function(t){Fr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="WriteError",r}return e}(Error);function Gd(t,e){var r=new Hd(`Error writing result to store for query:
 `+JSON.stringify(e));return r.message+=`
`+t.message,r.stack=t.stack,r}var Vd=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var r=e.query,i=e.result,a=e.store,p=a===void 0?Mo():a,M=e.variables,B=e.dataIdFromObject,z=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:r,store:p,variables:M,dataIdFromObject:B,fragmentMatcherFunction:z})},t.prototype.writeResultToStore=function(e){var r=e.dataId,i=e.result,a=e.document,p=e.store,M=p===void 0?Mo():p,B=e.variables,z=e.dataIdFromObject,K=e.fragmentMatcherFunction,te=di(a);try{return this.writeSelectionSetToStore({result:i,dataId:r,selectionSet:te.selectionSet,context:{store:M,processedData:{},variables:ss({},us(te),B),dataIdFromObject:z,fragmentMap:mn(pn(a)),fragmentMatcherFunction:K}})}catch(ae){throw Gd(ae,a)}},t.prototype.writeSelectionSetToStore=function(e){var r=this,i=e.result,a=e.dataId,p=e.selectionSet,M=e.context,B=M.variables,z=M.store,K=M.fragmentMap;return p.selections.forEach(function(te){var ae;if(!!ns(te,B))if(jr(te)){var de=Fi(te),_e=i[de];if(typeof _e!="undefined")r.writeFieldToStore({dataId:a,value:_e,field:te,context:M});else{var Se=!1,Re=!1;te.directives&&te.directives.length&&(Se=te.directives.some(function(vt){return vt.name&&vt.name.value==="defer"}),Re=te.directives.some(function(vt){return vt.name&&vt.name.value==="client"})),!Se&&!Re&&M.fragmentMatcherFunction}}else{var Pe=void 0;cn(te)?Pe=te:(Pe=(K||{})[te.name.value],ht(Pe,3));var xe=!0;if(M.fragmentMatcherFunction&&Pe.typeCondition){var Ue=a||"self",$e=fn({id:Ue,typename:void 0}),Oe={store:new _n((ae={},ae[Ue]=i,ae)),cacheRedirects:{}},st=M.fragmentMatcherFunction($e,Pe.typeCondition.name.value,Oe);!Ja()&&st==="heuristic",xe=!!st}xe&&r.writeSelectionSetToStore({result:i,selectionSet:Pe.selectionSet,dataId:a,context:M})}}),z},t.prototype.writeFieldToStore=function(e){var r,i=e.field,a=e.value,p=e.dataId,M=e.context,B=M.variables,z=M.dataIdFromObject,K=M.store,te,ae,de=yc(i,B);if(!i.selectionSet||a===null)te=a!=null&&typeof a=="object"?{type:"json",json:a}:a;else if(Array.isArray(a)){var _e=p+"."+de;te=this.processArrayValue(a,_e,i.selectionSet,M)}else{var Se=p+"."+de,Re=!0;if(xs(Se)||(Se="$"+Se),z){var Pe=z(a);ht(!Pe||!xs(Pe),4),(Pe||typeof Pe=="number"&&Pe===0)&&(Se=Pe,Re=!1)}Co(Se,i,M.processedData)||this.writeSelectionSetToStore({dataId:Se,result:a,selectionSet:i.selectionSet,context:M});var xe=a.__typename;te=fn({id:Se,typename:xe},Re),ae=K.get(p);var Ue=ae&&ae[de];if(Ue!==te&&dn(Ue)){var $e=Ue.typename!==void 0,Oe=xe!==void 0,st=$e&&Oe&&Ue.typename!==xe;ht(!Re||Ue.generated||st,5),ht(!$e||Oe,6),Ue.generated&&(st?Re||K.delete(Ue.id):To(Ue.id,te.id,K))}}ae=K.get(p),(!ae||!vr(te,ae[de]))&&K.set(p,Fe(Fe({},ae),(r={},r[de]=te,r)))},t.prototype.processArrayValue=function(e,r,i,a){var p=this;return e.map(function(M,B){if(M===null)return null;var z=r+"."+B;if(Array.isArray(M))return p.processArrayValue(M,z,i,a);var K=!0;if(a.dataIdFromObject){var te=a.dataIdFromObject(M);te&&(z=te,K=!1)}return Co(z,i,a.processedData)||p.writeSelectionSetToStore({dataId:z,result:M,selectionSet:i,context:a}),fn({id:z,typename:M.__typename},K)})},t}();function xs(t){return t[0]==="$"}function To(t,e,r){if(t===e)return!1;var i=r.get(t),a=r.get(e),p=!1;Object.keys(i).forEach(function(B){var z=i[B],K=a[B];dn(z)&&xs(z.id)&&dn(K)&&!vr(z,K)&&To(z.id,K.id,r)&&(p=!0)}),r.delete(t);var M=Fe(Fe({},i),a);return vr(M,a)?p:(r.set(e,M),!0)}function Co(t,e,r){if(!r)return!1;if(r[t]){if(r[t].indexOf(e)>=0)return!0;r[t].push(e)}else r[t]=[e];return!1}var jd={fragmentMatcher:new Ld,dataIdFromObject:zd,addTypename:!0,resultCaching:!0,freezeResults:!1};function zd(t){if(t.__typename){if(t.id!==void 0)return t.__typename+":"+t.id;if(t._id!==void 0)return t.__typename+":"+t._id}return null}var Wd=Object.prototype.hasOwnProperty,No=function(t){Fr(e,t);function e(r,i,a){var p=t.call(this,Object.create(null))||this;return p.optimisticId=r,p.parent=i,p.transaction=a,p}return e.prototype.toObject=function(){return Fe(Fe({},this.parent.toObject()),this.data)},e.prototype.get=function(r){return Wd.call(this.data,r)?this.data[r]:this.parent.get(r)},e}(_n),Qd=function(t){Fr(e,t);function e(r){r===void 0&&(r={});var i=t.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new Rs(cs),i.silenceBroadcast=!1,i.config=Fe(Fe({},jd),r),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new mi:new _n,i.optimisticData=i.data,i.storeWriter=new Vd,i.storeReader=new Ud({cacheKeyRoot:i.cacheKeyRoot,freezeResults:r.freezeResults});var a=i,p=a.maybeBroadcastWatch;return i.maybeBroadcastWatch=Li(function(M){return p.call(i,M)},{makeCacheKey:function(M){if(!M.optimistic&&!M.previousResult&&a.data instanceof mi)return a.cacheKeyRoot.lookup(M.query,JSON.stringify(M.variables))}}),i}return e.prototype.restore=function(r){return r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).toObject()},e.prototype.read=function(r){if(typeof r.rootId=="string"&&typeof this.data.get(r.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,a=i&&i.match;return this.storeReader.readQueryFromStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,rootId:r.rootId,fragmentMatcherFunction:a,previousResult:r.previousResult,config:this.config})||null},e.prototype.write=function(r){var i=this.config.fragmentMatcher,a=i&&i.match;this.storeWriter.writeResultToStore({dataId:r.dataId,result:r.result,variables:r.variables,document:this.transformDocument(r.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:a}),this.broadcastWatches()},e.prototype.diff=function(r){var i=this.config.fragmentMatcher,a=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,returnPartialData:r.returnPartialData,previousResult:r.previousResult,fragmentMatcherFunction:a,config:this.config})},e.prototype.watch=function(r){var i=this;return this.watches.add(r),function(){i.watches.delete(r)}},e.prototype.evict=function(r){throw new It(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){for(var i=[],a=0,p=this.optimisticData;p instanceof No;)p.optimisticId===r?++a:i.push(p),p=p.parent;if(a>0){for(this.optimisticData=p;i.length>0;){var M=i.pop();this.performTransaction(M.transaction,M.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(r,i){var a=this,p=a.data,M=a.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new No(i,this.optimisticData,r));try{r(this)}finally{this.silenceBroadcast=M,this.data=p}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(r,i){return this.performTransaction(r,i)},e.prototype.transformDocument=function(r){if(this.addTypename){var i=this.typenameDocumentCache.get(r);return i||(i=Pc(r),this.typenameDocumentCache.set(r,i),this.typenameDocumentCache.set(i,i)),i}return r},e.prototype.broadcastWatches=function(){var r=this;this.silenceBroadcast||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(r){r.callback(this.diff({query:r.query,variables:r.variables,previousResult:r.previousResult&&r.previousResult(),optimistic:r.optimistic}))},e}(bd);function Kd(t){return new gr(function(e,r){var i=Ia(e,[]);return new zt(function(a){var p;return Promise.resolve(i).then(function(M){return t(M,e.getContext())}).then(e.setContext).then(function(){p=r(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})}).catch(a.error.bind(a)),function(){p&&p.unsubscribe()}})})}var Yd=nt(23033),Jd={includeQuery:!0,includeExtensions:!1},Zd={accept:"*/*","content-type":"application/json"},Xd={method:"POST"},ef={http:Jd,headers:Zd,options:Xd},Po=function(t,e,r){var i=new Error(r);throw i.name="ServerError",i.response=t,i.statusCode=t.status,i.result=e,i},tf=function(t){return function(e){return e.text().then(function(r){try{return JSON.parse(r)}catch(a){var i=a;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=r,Promise.reject(i)}}).then(function(r){return e.status>=300&&Po(e,r,"Response not successful: Received status code "+e.status),!Array.isArray(r)&&!r.hasOwnProperty("data")&&!r.hasOwnProperty("errors")&&Po(e,r,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(i){return i.operationName}):t.operationName)+"'."),r})}},rf=function(t){if(!t&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new It(1)}},nf=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},sf=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=Fe({},e.options,{headers:e.headers,credentials:e.credentials}),p=e.http;r.forEach(function(ae){a=Fe({},a,ae.options,{headers:Fe({},a.headers,ae.headers)}),ae.credentials&&(a.credentials=ae.credentials),p=Fe({},p,ae.http)});var M=t.operationName,B=t.extensions,z=t.variables,K=t.query,te={operationName:M,variables:z};return p.includeExtensions&&(te.extensions=B),p.includeQuery&&(te.query=(0,Yd.S)(K)),{options:a,body:te}},Ts=function(t,e){var r;try{r=JSON.stringify(t)}catch(a){var i=new It(2);throw i.parseError=a,i}return r},af=function(t,e){var r=t.getContext(),i=r.uri;return i||(typeof e=="function"?e(t):e||"/graphql")},Ao=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,i=t.fetch,a=t.includeExtensions,p=t.useGETForQueries,M=Ia(t,["uri","fetch","includeExtensions","useGETForQueries"]);rf(i),i||(i=fetch);var B={http:{includeExtensions:a},options:M.fetchOptions,credentials:M.credentials,headers:M.headers};return new gr(function(z){var K=af(z,r),te=z.getContext(),ae={};if(te.clientAwareness){var de=te.clientAwareness,_e=de.name,Se=de.version;_e&&(ae["apollographql-client-name"]=_e),Se&&(ae["apollographql-client-version"]=Se)}var Re=Fe({},ae,te.headers),Pe={http:te.http,options:te.fetchOptions,credentials:te.credentials,headers:Re},xe=sf(z,ef,B,Pe),Ue=xe.options,$e=xe.body,Oe;if(!Ue.signal){var st=nf(),vt=st.controller,bt=st.signal;Oe=vt,Oe&&(Ue.signal=bt)}var Rt=function(kr){return kr.kind==="OperationDefinition"&&kr.operation==="mutation"};if(p&&!z.query.definitions.some(Rt)&&(Ue.method="GET"),Ue.method==="GET"){var mt=of(K,$e),Yr=mt.newURI,sn=mt.parseError;if(sn)return io(sn);K=Yr}else try{Ue.body=Ts($e,"Payload")}catch(kr){return io(kr)}return new zt(function(kr){return i(K,Ue).then(function(qt){return z.setContext({response:qt}),qt}).then(tf(z)).then(function(qt){return kr.next(qt),kr.complete(),qt}).catch(function(qt){qt.name!=="AbortError"&&(qt.result&&qt.result.errors&&qt.result.data&&kr.next(qt.result),kr.error(qt))}),function(){Oe&&Oe.abort()}})})};function of(t,e){var r=[],i=function(ae,de){r.push(ae+"="+encodeURIComponent(de))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var a=void 0;try{a=Ts(e.variables,"Variables map")}catch(ae){return{parseError:ae}}i("variables",a)}if(e.extensions){var p=void 0;try{p=Ts(e.extensions,"Extensions map")}catch(ae){return{parseError:ae}}i("extensions",p)}var M="",B=t,z=t.indexOf("#");z!==-1&&(M=t.substr(z),B=t.substr(0,z));var K=B.indexOf("?")===-1?"?":"&",te=B+K+r.join("&")+M;return{newURI:te}}var p0=function(t){Fr(e,t);function e(r){return t.call(this,Ao(r).request)||this}return e}(gr);let Ui;const uf={};function lf(t){Ui=t.globalState}const Io=(t,e)=>{if(!Ui)throw new Error("Persistent store not initialized.");return Ui.get(t+":"+e,uf)},Do=(t,e,r)=>{if(!Ui)throw new Error("Persistent store not initialized.");return Ui.update(t+":"+e,r)},Fo=void 0;var cf=Object.defineProperty,ei=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?cf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Oo="Try again?",df="Cancel",Bo="Sign in",ff="Don't show again",Lo="prompt for sign in",Uo="login",qo=["read:user","user:email","repo"];var pt;(function(t){t.github="github",t["github-enterprise"]="github-enterprise"})(pt||(pt={}));class hf{constructor(e){this._telemetry=e,ei(this,"_githubAPI"),ei(this,"_sessionId"),ei(this,"_githubEnterpriseAPI"),ei(this,"_enterpriseSessionId"),ei(this,"_disposables"),ei(this,"_onDidInitialize",new b.EventEmitter),ei(this,"onDidInitialize",this._onDidInitialize.event),this._disposables=[],this._disposables.push(b.authentication.onDidChangeSessions(()=>{this.isAuthenticated(pt.github)||this.initialize(pt.github),!this.isAuthenticated(pt["github-enterprise"])&&Mi()&&this.initialize(pt["github-enterprise"])}))}async initialize(e,r=!1){if(e===pt["github-enterprise"]&&!Mi()){n.debug("GitHub Enterprise provider selected without URI.","Authentication");return}let i;try{i=await b.authentication.getSession(e,qo,{createIfNone:!1,forceNewSession:r})}catch(a){if(!(r&&a.message==="User did not consent to login."))throw a}if(i){e===pt.github?this._sessionId=i.id:this._enterpriseSessionId=i.id;const a=await this.createHub(i.accessToken,e);e===pt.github?this._githubAPI=a:this._githubEnterpriseAPI=a,await this.setCurrentUser(a),this._onDidInitialize.fire()}else n.debug(`No GitHub${Cs(e)} token found.`,"Authentication")}async recreate(){await this.initialize(pt.github,!0),Mi()&&await this.initialize(pt["github-enterprise"],!0)}async reset(){this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,await this.initialize(pt.github),Mi()&&await this.initialize(pt["github-enterprise"])}isAuthenticated(e){return e===pt.github?!!this._githubAPI:!!this._githubEnterpriseAPI}getHub(e){return e===pt.github?this._githubAPI:this._githubEnterpriseAPI}async getHubOrLogin(e){var r,i;return e===pt.github?(r=this._githubAPI)!=null?r:await this.login(e):(i=this._githubEnterpriseAPI)!=null?i:await this.login(e)}async showSignInNotification(e){if(Io(Lo,Uo)===!1)return;if(await b.window.showInformationMessage(`In order to use the Pull Requests functionality, you must sign in to GitHub${Cs(e)}`,Bo,ff)===Bo)return await this.login(e);Do(Lo,Uo,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const r=`Error signing in to GitHub${Cs(e)}`;let i=!0,a;for(;i;){try{const p=await this.getSessionOrLogin(e);a=await this.createHub(p,e)}catch(p){n.appendLine(`${r}: ${p}`),p instanceof Error&&p.stack&&n.appendLine(p.stack)}a?i=!1:i=await b.window.showErrorMessage(r,Oo,df)===Oo}return a?(this._githubAPI=a,await this.setCurrentUser(a),this._telemetry.sendTelemetryEvent("auth.success")):this._telemetry.sendTelemetryEvent("auth.fail"),a}isCurrentUser(e){var r,i,a,p;return((i=(r=this._githubAPI)==null?void 0:r.currentUser)==null?void 0:i.login)===e||((p=(a=this._githubEnterpriseAPI)==null?void 0:a.currentUser)==null?void 0:p.login)==e}getCurrentUser(e){const r=this.getHub(e);return(r==null?void 0:r.octokit)&&(r==null?void 0:r.currentUser)}async setCurrentUser(e){const r=await e.octokit.users.getAuthenticated({});e.currentUser=r.data}async getSessionOrLogin(e){const r=await b.authentication.getSession(e,qo,{createIfNone:!0});return e===pt.github?this._sessionId=r.id:this._enterpriseSessionId=r.id,r.accessToken}async createHub(e,r){let i="https://api.github.com",a;r===pt["github-enterprise"]&&(a=Qs()),a&&(i=`${a.scheme}://${a.authority}/api/v3`);const p=new ic({request:{agent:Fo},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview"],auth:`${e||""}`,baseUrl:i});a&&(i=`${a.scheme}://${a.authority}/api`);const M=new pd({link:pf(i,e||""),cache:new Qd,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),B={octokit:p,graphql:M};return await this.setCurrentUser(B),B}dispose(){this._disposables.forEach(e=>e.dispose())}}const pf=(t,e)=>Kd((r,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.shadow-cat-preview+json, application/vnd.github.antiope-preview+json"}})).concat(Ao({uri:`${t}/graphql`,fetch:Wn()}));function Cs(t){return t===pt.github?"":" Enterprise"}var mf=nt(34155);let $o=!1;const Ho=class{static async getApiHost(t){const e=mf.env.GITHUB_TEST_SERVER;if(e){if($o)return b.Uri.parse(e);if(await b.window.showInformationMessage(`The 'GITHUB_TEST_SERVER' environment variable is set to '${e}'. Use this as the GitHub API endpoint?`,{modal:!0},"Yes")==="Yes")return $o=!0,b.Uri.parse(e)}const r=t instanceof b.Uri?t:b.Uri.parse(t.host);return r.authority==="github.com"?b.Uri.parse("https://api.github.com"):b.Uri.parse(`${r.scheme}://${r.authority}`)}static getApiPath(t,e){return(t instanceof b.Uri?t:b.Uri.parse(t.host)).authority==="github.com"?e:`/api/v3${e}`}};var vf=Object.defineProperty,gf=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?vf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ns{constructor(){gf(this,"_servers",new Map().set("github.com",!0))}async isGitHub(e){if(e===null||e.path.endsWith(".wiki"))return!1;if(this._servers.has(e.authority))return!!this._servers.get(e.authority);const[r,i]=await Ns.getOptions(e,"HEAD","/rate_limit");let a=!1;try{const M=(await Wn()(r.toString(),i)).headers.get("x-github-request-id");return a=M!=null,a}catch(p){return n.appendLine(`No response from host ${e}: ${p.message}`,"GitHubServer"),a}finally{n.debug(`Host ${e} is associated with GitHub: ${a}`,"GitHubServer"),this._servers.set(e.authority,a)}}static async getOptions(e,r="GET",i,a){const p={"user-agent":"GitHub VSCode Pull Requests"};a&&(p.authorization=`token ${a}`);const M=b.Uri.joinPath(await Ho.getApiHost(e),Ho.getApiPath(e,i));return[M,{hostname:M.authority,port:443,method:r,headers:p,agent:Fo}]}}class Sn{constructor(e,r,i){this.remoteName=e,this.url=r,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Qs())==null?void 0:e.authority)?pt["github-enterprise"]:pt.github}equals(e){return!(this.remoteName!==e.remoteName||this.host!==e.host||this.owner!==e.owner||this.repositoryName!==e.repositoryName)}}function Go(t,e,r){if(!e)return null;const i=new Bt(e);return r&&i.update({type:r.type}),i.host?new Sn(t,e,i):null}function vi(t){const e=[];for(const r of t.state.remotes){const i=[];r.fetchUrl&&i.push(r.fetchUrl),r.pushUrl&&r.pushUrl!==r.fetchUrl&&i.push(r.pushUrl),i.forEach(a=>{const p=Go(r.name,a);p&&e.push(p)})}return e}const Ps="github.pullRequest.pullNotification.show",qi="github.pullRequest.repos";function bf(t){t.globalState.setKeysForSync([Ps])}var yf=nt(61336),wf=nt(39593),_f=nt.n(wf),kn=nt(87228);const Vo=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function jo(t){return t.match(Vo)}function Sf(t){return!!jo(t.body)}async function zo(t,e,r=!0){const i=t[2],a=t[3],p=t[5],M=Number(t[6])-1,B=t[8]?Number(t[8])-1:M;let z;for(const te of e.folderManagers){const ae=te.getGitHubRemotes();for(const de of ae)if(i.toLowerCase()===de.owner.toLowerCase()&&a.toLowerCase()===de.repositoryName.toLowerCase()){z=te;break}if(z)break}if(!z)return;const K=b.Uri.joinPath(z.repository.rootUri,p);try{await b.workspace.fs.stat(K)}catch(te){return}return{file:K,start:M,end:B}}async function kf(t,e){const r=jo(t.body);if(!r){b.window.showInformationMessage("Issue has no link.");return}const i=await zo(r,e,!1);if(!i)return b.env.openExternal(b.Uri.parse(r[0]));const a=await b.workspace.openTextDocument(i==null?void 0:i.file),p=a.lineAt(i.end<a.lineCount?i.end:a.lineCount-1),M=new b.Range(i.start,0,i.end,p.text.length);return b.window.showTextDocument(i.file,{selection:M})}var Ef=Object.defineProperty,Wo=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ef(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const m0=/(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,$i=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,As=/\@([^\s]+)/,Rf=150,Mt="githubIssues",gi="queries",Mf="default",Qo="workingIssueBranch",Is="issueBranchTitle",Ko="useBranchForIssues",xf="workingIssueFormatScm";function Ds(t){if(!t)return;const e={owner:void 0,name:void 0,issueNumber:0};return t.length===7?(e.owner=t[2],e.name=t[3],e.issueNumber=parseInt(t[5]),e):t.length===16?(e.owner=t[3]||t[11],e.name=t[4]||t[12],e.issueNumber=parseInt(t[7]||t[14]),e.commentNumber=t[9]!==void 0?parseInt(t[9]):void 0,e):void 0}async function Tf(t,e,r,i){var a;const p=(a=t.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:a.get(r);if(p)return p;{let M,B,z;const K=e.getGitHubRemotes();for(const te of K){if(i)M=i.owner?i.owner:te.owner,B=i.name?i.name:te.repositoryName,z=i.issueNumber;else{const ae=Ds(r.match($i));ae&&(!ae.name||!ae.owner)&&(M=te.owner,B=te.repositoryName)}if(M&&B&&z!==void 0){let ae=await e.resolveIssue(M,B,z,!!i.commentNumber);if(ae||(ae=await e.resolvePullRequest(M,B,z)),ae){let de;return t.resolvedIssues.has(e.repository.rootUri.path)?de=t.resolvedIssues.get(e.repository.rootUri.path):t.resolvedIssues.set(e.repository.rootUri.path,de=new(_f())(50)),de.set(r,ae),ae}}}}}function Cf(t,e){let r;return t.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(r=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),r}class Nf extends b.CompletionItem{constructor(){super(...arguments);Wo(this,"login"),Wo(this,"uri")}}function Fs(t,e){const r=new b.MarkdownString(void 0,!0);r.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) **${e.name}** [${e.login}](${e.url})`),e.bio&&r.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=Cf(e,t.owner+"/"+t.repo);return(e.location||i)&&r.appendMarkdown(`  \r
\r
---`),e.location&&r.appendMarkdown(`  \r
$(location) ${e.location}`),i&&r.appendMarkdown(`  \r
$(git-commit) Committed to this repository on ${i}`),e.company&&r.appendMarkdown(`  \r
$(jersey) Member of ${e.company}`),r}function Pf(t){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}function Af(t,e){const r=Pf(t);let i="ffffff";return r&&(.299*r.r+.587*r.g+.114*r.b)/255>.5&&(i="000000"),`<span style="color:#${i};background-color:#${t};">&nbsp;&nbsp;${e}&nbsp;&nbsp;</span>`}async function Yo(t,e,r){let i=t.search(e),a=0;for(;i>=0&&i<t.length;){let p;if(i===0||t.charAt(i-1)!=="&"){const B=t.substring(i).match(e);if(B){const z=await r(B);z&&(p=t.slice(0,i)+z,t=p+t.slice(i+B[0].length))}}a=p?p.length:i+1;const M=t.substring(a).search(e);i=M>0?a+M:M}return t}function Jo(t,e){return Yo(t,$i,async r=>{const i=Ds(r);if(i){const a=eu(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${a}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function If(t,e){return Yo(t,Vo,async r=>{const i=await zo(r,e);if(i){const a=await b.workspace.openTextDocument(i==null?void 0:i.file),p=a.lineAt(i.end<a.lineCount?i.end:a.lineCount-1),M=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:p.text.length}}}],B=b.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(M))}`);return`[${r[0]}](${B} "Open ${i.file.fsPath}")`}})}const En=200;async function Os(t,e,r,i){const a=new b.MarkdownString(void 0,!0);a.isTrusted=!0;const p=new Date(t.createdAt),M=`${t.remote.owner}/${t.remote.repositoryName}`;a.appendMarkdown(`[${M}](https://github.com/${M}) on ${p.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const B=kn.parse(t.title,{renderer:new Us}).trim();a.appendMarkdown(`${Ff(t)} **${B}** [#${t.number}](${t.html_url})  
`);let z=kn.parse(t.body,{renderer:new Us});if(a.appendMarkdown(`  
`),z=z.length>En?z.substr(0,En)+"...":z,z=await Jo(z,t),z=await If(z,r),a.appendMarkdown(z+`  
`),a.appendMarkdown(`&nbsp;  
`),t.item.labels.length>0&&t.item.labels.forEach(K=>{a.appendMarkdown(`[${Af(K.color,K.name)}](https://github.com/${M}/labels/${encodeURIComponent(K.name)}) `)}),t.item.comments&&i){for(const K of t.item.comments)if(K.databaseId===i){a.appendMarkdown(`  \r
\r
---\r
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`![Avatar](${K.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${K.author.login}** commented`),a.appendMarkdown(`&nbsp;  
`);let te=kn.parse(K.body.length>En?K.body.substr(0,En)+"...":K.body,{renderer:new Us});te=await Jo(te,t),a.appendMarkdown(te)}}return a}function Df(t){switch(t.state){case wt.Open:return t instanceof Lr?"$(git-pull-request)":"$(issues)";case wt.Closed:return t instanceof Lr?"$(git-pull-request)":"$(issue-closed)";case wt.Merged:return"$(git-merge)"}}function Ff(t){if(t instanceof Lr)return Df(t);switch(t.state){case wt.Open:return'<span style="color:#22863a;">$(issues)</span>';case wt.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const Zo="HEAD",Of=1,Bf=2,Lf=3,Xo=4,Rn=new Map([["upstream",Of],["ups",Bf],["origin",Lf]]);async function Uf(t,e){var r,i,a;const p=((r=t.state.HEAD)==null?void 0:r.upstream)&&!Rn.has(t.state.HEAD.upstream.remote)?t.state.HEAD.upstream.remote:void 0;let M;const B=t.state.remotes.map(ae=>({name:ae.name,remote:ae})).filter(ae=>(ae.name===p&&(M=ae.remote),Rn.has(ae.name))).sort((ae,de)=>{var _e,Se;const Re=(_e=Rn.get(ae.name))!=null?_e:Xo,Pe=(Se=Rn.get(de.name))!=null?Se:Xo;return Re-Pe});p&&B.push({name:p,remote:M});const z=[Zo];((i=t.state.HEAD)==null?void 0:i.name)&&t.state.HEAD.name!==Zo&&z.unshift((a=t.state.HEAD)==null?void 0:a.name);let K,te;for(let ae=0;ae<z.length&&!K;ae++)for(let de=0;de<B.length&&!K;de++){const _e=(await t.getBranches({contains:e.hash,remote:!0,pattern:`remotes/${B[de].name}/${z[ae]}`,count:1})).filter(Se=>Se.remote&&Se.name);_e&&_e.length>0&&(K=_e[0],te=B[de].remote)}return te}async function Bs(t,e,r){var i,a;let p,M;if(r)p=r,((i=b.window.activeTextEditor)==null?void 0:i.document.uri.fsPath)===p.fsPath&&(M=b.window.activeTextEditor.selection);else if(!e&&b.window.activeTextEditor)p=b.window.activeTextEditor.document.uri,M=b.window.activeTextEditor.selection;else if(e)p=e.document.uri,M=e.range;else return{permalink:void 0,error:"No active text editor position to create permalink from.",originalFile:void 0};const B=Nu(t,p);if(!B)return{permalink:void 0,error:"The current file isn't part of repository.",originalFile:p};let z,K;try{const Se=await B.log({maxEntries:1,path:p.fsPath});if(Se.length===0)return{permalink:void 0,error:"No branch on a remote contains the most recent commit for the file.",originalFile:p};z=Se[0],K=Se[0].hash}catch(Se){K=(a=B.state.HEAD)==null?void 0:a.commit}const te=new Promise(Se=>{var Re;if((Re=B.state.HEAD)==null?void 0:Re.upstream)for(const Pe of B.state.remotes)B.state.HEAD.upstream.remote===Pe.name&&Se(Pe);Se(void 0)});let ae=z?await Promise.race([Uf(B,z),new Promise(Se=>{setTimeout(()=>{Se(te)},2e3)})]):await te;if((!ae||!ae.fetchUrl)&&(ae=await te,!ae||!ae.fetchUrl))return{permalink:void 0,error:"There is no suitable remote.",originalFile:p};const de=p.path.substring(B.rootUri.path.length),_e=M?`#L${M.start.line+1}-L${M.end.line+1}`:"";return{permalink:`https://github.com/${new Bt(ae.fetchUrl).nameWithOwner}/blob/${K}${de}${_e}`,error:void 0,originalFile:p}}function qf(t){const e=/[~^:;'".,~#?%*[\]@\\{}]|\/\//g;return t.replace(e,"").trim().replace(/\s+/g,"-")}const $f=/\$\{(.*?)\}/g;async function Mn(t,e,r,i){return t.replace($f,(a,p)=>{switch(p){case"user":return i||a;case"issueNumber":return e?`${e.number}`:a;case"issueNumberLabel":return e?`${bi(e,r)}`:a;case"issueTitle":return e?e.title:a;case"repository":return r?r.repo:a;case"owner":return r?r.owner:a;case"sanitizedIssueTitle":return e?qf(e.title):a;default:return a}})}function bi(t,e){const r={issueNumber:t.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==t.remote.owner.toLowerCase()||e.repo.toLowerCase()!==t.remote.repositoryName.toLowerCase())&&(r.owner=t.remote.owner,r.name=t.remote.repositoryName),eu(r)}function eu(t){return!t.owner||!t.name?`#${t.issueNumber}`:`${t.owner}/${t.name}#${t.issueNumber}`}async function tu(t,e,r){var i;const a=await((i=e.currentIssue(t.repository.rootUri))==null?void 0:i.getCommitMessage());if(a)return t.repository.commit(a,{all:r})}const ru="Commit Staged",iu="Commit All";async function Hf(t,e,r){var i,a;if(t.repository.state.workingTreeChanges.length>0||t.repository.state.indexChanges.length>0){const p=[];switch(t.repository.state.indexChanges&&p.push(ru),t.repository.state.workingTreeChanges&&p.push(iu),await b.window.showInformationMessage("There are uncommitted changes. Do you want to commit them with the default commit message?",{modal:!0},...p)){case ru:{await tu(t,r,!1);break}case iu:{await tu(t,r,!0);break}default:return!1}}if((i=t.repository.state.HEAD)==null?void 0:i.upstream)return await t.repository.push(),await e.createPullRequest(void 0),!0;{let p;return t.repository.state.remotes.length===1?p=t.repository.state.remotes[0].name:t.repository.state.remotes.length>1&&(p=await b.window.showQuickPick(t.repository.state.remotes.map(M=>M.name),{placeHolder:"Remote to push to"})),p?(await t.repository.push(p,(a=t.repository.state.HEAD)==null?void 0:a.name,!0),await e.createPullRequest(void 0),!0):(b.window.showWarningMessage("The current repository has no remotes to push to. Please set up a remote and try again."),!1)}}async function Ls(t,e){return!(t.languageId!=="markdown"&&t.languageId!=="plaintext"&&(await b.languages.getTokenInformationAtPosition(t,e)).type!==b.StandardTokenType.Comment)}async function nu(t,e){return t.lineAt(e.line).range.end.character>1e4?!1:Ls(t,e)}function su(t){const e=new yf.URLSearchParams(t.query).get("rootUri");return e?b.Uri.parse(e):void 0}class Us extends kn.Renderer{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,r,i,a){return e+" "}hr(){return""}list(e,r,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,r){return e+" "+r}tablerow(e){return e}tablecell(e,r){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,r,i){return""}text(e){return e}link(e,r,i){return i+" "}}var Gf=Object.defineProperty,au=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Gf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class xn extends Error{constructor(e){super(e);this.message=e,au(this,"name"),au(this,"stack")}}var Tn,Vf=new Uint8Array(16);function jf(){if(!Tn&&(Tn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tn(Vf)}const zf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wf(t){return typeof t=="string"&&zf.test(t)}const Qf=Wf;for(var Ft=[],qs=0;qs<256;++qs)Ft.push((qs+256).toString(16).substr(1));function Kf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase();if(!Qf(r))throw TypeError("Stringified UUID is invalid");return r}const Yf=Kf;function Jf(t,e,r){t=t||{};var i=t.random||(t.rng||jf)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=i[a];return e}return Yf(i)}const ou=Jf;var Zf=Object.defineProperty,xt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Zf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Cn=class{constructor(t,e,r,i,a){xt(this,"commentId"),xt(this,"id"),xt(this,"parent"),xt(this,"body"),xt(this,"originalBody"),xt(this,"mode"),xt(this,"author"),xt(this,"label"),xt(this,"commentReactions"),xt(this,"contextValue"),this.parent=t,this.body=new b.MarkdownString(e),this.mode=b.CommentMode.Preview,this.author={name:i.login,iconPath:i.avatarUrl?b.Uri.parse(`${i.avatarUrl}&s=64`):void 0},this.label=r?"Pending":void 0,this.contextValue="canEdit,canDelete",this.originalBody=a?a._rawComment.body:void 0,this.commentReactions=a?a.reactions:void 0,this.id=Cn.idPool++}static is(t){return t.commentId===void 0}startEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof Cn&&t.id===this.id&&(t.mode=b.CommentMode.Editing),t))}cancelEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof Cn&&t.id===this.id&&(t.mode=b.CommentMode.Preview,t.body=t.originalBody||t.body),t))}};let lr=Cn;xt(lr,"idPool",0);class Ct{constructor(e,r){xt(this,"commentId"),xt(this,"parent"),xt(this,"body"),xt(this,"mode"),xt(this,"author"),xt(this,"label"),xt(this,"reactions"),xt(this,"_rawComment"),xt(this,"contextValue"),this._rawComment=e,this.commentId=e.id.toString(),this.body=new b.MarkdownString(e.body),this.author={name:e.user.login,iconPath:e.user&&e.user.avatarUrl?b.Uri.parse(e.user.avatarUrl):void 0},yh(this,e.reactions),this.label=e.isDraft?"Pending":void 0;const i=[];e.canEdit&&i.push("canEdit"),e.canDelete&&i.push("canDelete"),this.contextValue=i.join(","),this.parent=r}static is(e){return e.commentId!==void 0}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ct&&e.commentId===this.commentId&&(e.mode=b.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ct&&e.commentId===this.commentId&&(e.mode=b.CommentMode.Preview,e.body=e._rawComment.body),e))}}var Xf=Object.defineProperty,ti=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Xf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function $s(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}class uu{constructor(){ti(this,"_webview"),ti(this,"_disposables",[]),ti(this,"_waitForReady"),ti(this,"_onIsReady",new b.EventEmitter),ti(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const r=this._onIsReady.event(()=>{r.dispose(),e()})})}initialize(){var e;const r=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)},null,this._disposables);r&&this._disposables.push(r)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var r;await this._waitForReady,(r=this._webview)==null||r.postMessage({res:e})}async _replyMessage(e,r){var i;const a={seq:e.req,res:r};(i=this._webview)==null||i.postMessage(a)}async _throwError(e,r){var i;const a={seq:e.req,err:r};(i=this._webview)==null||i.postMessage(a)}dispose(){this._disposables.forEach(e=>e.dispose())}}class lu extends uu{constructor(e){super();this._extensionUri=e,ti(this,"viewType"),ti(this,"_view")}resolveWebviewView(e,r,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._disposables.push(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():b.commands.executeCommand(`${this.viewType}.focus`)}}var eh=nt(34155),th=Object.defineProperty,Br=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?th(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Tr=class extends uu{constructor(t,e,r,i,a=Tr._viewType){super();this._extensionUri=t,Br(this,"_panel"),Br(this,"_disposables",[]),Br(this,"_descriptionNode"),Br(this,"_item"),Br(this,"_folderRepositoryManager"),Br(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=i,this._panel=b.window.createWebviewPanel(a,r,e,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[b.Uri.joinPath(t,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(p=>{if(this._folderRepositoryManager&&this._item){const M=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:M})}},null,this._disposables)}static async createOrShow(t,e,r,i=!1){const a=i?b.ViewColumn.Beside:b.window.activeTextEditor?b.window.activeTextEditor.viewColumn:b.ViewColumn.One;if(Tr.currentPanel)Tr.currentPanel._panel.reveal(a,!0);else{const p=`Issue #${r.number.toString()}`;Tr.currentPanel=new Tr(t,a||b.ViewColumn.Active,p,e)}await Tr.currentPanel.update(e,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(t){return Promise.all([this._folderRepositoryManager.resolveIssue(t.remote.owner,t.remote.repositoryName,t.number),t.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t)]).then(e=>{const[r,i,a]=e;if(!r)throw new Error(`Fail to resolve issue #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=r,this._panel.title=`Pull Request #${t.number.toString()}`,n.debug("pr.initialize",Tr.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:i,repositoryDefaultBranch:a,canEdit:!0,status:{statuses:[]},isIssue:!0}})}).catch(e=>{b.window.showErrorMessage(L(e))})}async update(t,e){return this._folderRepositoryManager=t,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updateIssue(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"alert":b.window.showErrorMessage(t.args);return;case"pr.close":return this.close(t);case"pr.comment":return this.createComment(t);case"scroll":this._scrollPosition=t.args;return;case"pr.edit-comment":return this.editComment(t);case"pr.delete-comment":return this.deleteComment(t);case"pr.edit-description":return this.editDescription(t);case"pr.edit-title":return this.editTitle(t);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(t);case"pr.remove-label":return this.removeLabel(t);case"pr.debug":return this.webviewDebug(t);default:return this.MESSAGE_UNHANDLED}}async addLabels(t){try{let e=[];async function r(a,p){return e=(await a.getLabels(p)).filter(B=>!p.item.labels.some(z=>z.name===B.name)),e.map(B=>({label:B.name}))}const i=await b.window.showQuickPick(r(this._folderRepositoryManager,this._item),{canPickMany:!0});if(i&&i.length){await this._item.addLabels(i.map(p=>p.label));const a=i.map(p=>e.find(M=>M.name===p.label));this._item.item.labels=this._item.item.labels.concat(...a),this._replyMessage(t,{added:a})}}catch(e){b.window.showErrorMessage(L(e))}}async removeLabel(t){try{await this._item.removeLabel(t.args);const e=this._item.item.labels.findIndex(r=>r.name===t.args);this._item.item.labels.splice(e,1),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(L(e))}}webviewDebug(t){n.debug(t.args,Tr.ID)}editDescription(t){this._item.edit({body:t.args.text}).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(`Editing description failed: ${L(e)}`)})}editTitle(t){this._item.edit({title:t.args.text}).then(e=>{this._replyMessage(t,{text:e.title})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(`Editing title failed: ${L(e)}`)})}editCommentPromise(t,e){return this._item.editIssueComment(t,e)}editComment(t){this.editCommentPromise(t.args.comment,t.args.text).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(L(e))})}deleteCommentPromise(t){return this._item.deleteIssueComment(t.id.toString())}deleteComment(t){b.window.showWarningMessage("Are you sure you want to delete this comment?",{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(t.args).then(r=>{this._replyMessage(t,{})}).catch(r=>{this._throwError(t,r),b.window.showErrorMessage(L(r))})})}close(t){b.commands.executeCommand("pr.close",this._item,t.args).then(e=>{e?this._replyMessage(t,{value:e}):this._throwError(t,"Close cancelled")})}createComment(t){this._item.createIssueComment(t.args).then(e=>{this._replyMessage(t,{value:e})})}set _currentPanel(t){Tr.currentPanel=t}dispose(){for(this._currentPanel=void 0,this._panel.dispose(),this._webview=void 0;this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}getHtmlForWebview(t){const e=$s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Pull Request #${t}</title>
	</head>
	<body class="${eh.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let Nn=Tr;Br(Nn,"ID","PullRequestOverviewPanel"),Br(Nn,"currentPanel"),Br(Nn,"_viewType","IssueOverview");var rh=Object.defineProperty,yi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function ih(t){return!!t.id&&!!t.milestone}const Cr=class extends Nn{constructor(t,e,r,i){super(t,e,r,i,Cr._viewType);yi(this,"_repositoryDefaultBranch"),yi(this,"_existingReviewers",[]),yi(this,"_changeActivePullRequestListener"),this.registerFolderRepositoryListener(),Gu(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(i.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:wt.Merged})}))}static async createOrShow(t,e,r,i=!1){const a=i?b.ViewColumn.Beside:b.window.activeTextEditor?b.window.activeTextEditor.viewColumn:b.ViewColumn.One;if(Cr.currentPanel)Cr.currentPanel._panel.reveal(a,!0);else{const p=`Pull Request #${r.number.toString()}`;Cr.currentPanel=new Cr(t,a||b.ViewColumn.Active,p,e)}await Cr.currentPanel.update(e,r)}set _currentPanel(t){Cr.currentPanel=t}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerFolderRepositoryListener(){this._changeActivePullRequestListener=this._folderRepositoryManager.onDidChangeActivePullRequest(t=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})}getCurrentUserReviewState(t,e){const r=t.find(i=>i.reviewer.login===e.login);return r==null?void 0:r.state}async updatePullRequest(t){return Promise.all([this._folderRepositoryManager.resolvePullRequest(t.remote.owner,t.remote.repositoryName,t.number),t.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t),t.getStatusChecks(),t.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(t),this._folderRepositoryManager.getBranchNameForPullRequest(t)]).then(e=>{var r,i;const[a,p,M,B,z,K,te]=e;if(!a)throw new Error(`Fail to resolve Pull Request #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=a,this._repositoryDefaultBranch=M,this._panel.title=`Pull Request #${t.number.toString()}`;const ae=t.equals(this._folderRepositoryManager.activePullRequest),de=K.hasWritePermission,_e=K.mergeMethodsAvailability,Se=de||this._item.canEdit(),Re=b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),Pe=cu(_e,Re);this._existingReviewers=Pu(z,p,a.author);const xe=this._folderRepositoryManager.getCurrentUser(this._item),$e=a.base&&a.head&&!a.base.repositoryCloneUrl.equals(a.head.repositoryCloneUrl)&&Ws(),Oe=this.getCurrentUserReviewState(this._existingReviewers,xe);n.debug("pr.initialize",Cr.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:a.number,title:a.title,url:a.html_url,createdAt:a.createdAt,body:a.body,bodyHTML:a.bodyHTML,labels:a.item.labels,author:{login:a.author.login,name:a.author.name,avatarUrl:a.userAvatar,url:a.author.url},state:a.state,events:p,isCurrentlyCheckedOut:ae,isRemoteBaseDeleted:a.isRemoteBaseDeleted,base:a.base.label,isRemoteHeadDeleted:a.isRemoteHeadDeleted,isLocalHeadDeleted:!te,head:(i=(r=a.head)==null?void 0:r.label)!=null?i:"",repositoryDefaultBranch:M,canEdit:Se,hasWritePermission:de,status:B||{statuses:[]},mergeable:a.item.mergeable,reviewers:this._existingReviewers,isDraft:a.isDraft,mergeMethodsAvailability:_e,defaultMergeMethod:Pe,isIssue:!1,milestone:a.milestone,assignees:a.assignees,continueOnGitHub:$e,isAuthor:xe.login===a.author.login,currentUserReviewState:Oe}})}).catch(e=>{b.window.showErrorMessage(L(e))})}async update(t,e){return this._folderRepositoryManager!==t&&(this._folderRepositoryManager=t,this._changeActivePullRequestListener&&(this._changeActivePullRequestListener.dispose(),this._changeActivePullRequestListener=void 0,this.registerFolderRepositoryListener())),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updatePullRequest(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.checkout":return this.checkoutPullRequest(t);case"pr.merge":return this.mergePullRequest(t);case"pr.deleteBranch":return this.deleteBranch(t);case"pr.readyForReview":return this.setReadyForReview(t);case"pr.approve":return this.approvePullRequest(t);case"pr.request-changes":return this.requestChanges(t);case"pr.submit":return this.submitReview(t);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(t);case"pr.apply-patch":return this.applyPatch(t);case"pr.open-diff":return this.openDiff(t);case"pr.checkMergeability":return this._replyMessage(t,await this._item.getMergeability());case"pr.add-reviewers":return this.addReviewers(t);case"pr.remove-milestone":return this.removeMilestone(t);case"pr.add-milestone":return this.addMilestone(t);case"pr.add-assignees":return this.addAssignees(t);case"pr.remove-reviewer":return this.removeReviewer(t);case"pr.remove-assignee":return this.removeAssignee(t);case"pr.copy-prlink":return this.copyPrLink();case"pr.openOnGitHub":return Yi(this._item,this._item._telemetry)}}async getReviewersQuickPickItems(t){if(!t)return[];const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],i=new Set([this._item.author.login,...this._existingReviewers.map(p=>p.reviewer.login)]),a=[];for(const p of t){const{login:M,name:B,isAuthor:z,isCommenter:K}=p;if(i.has(M))continue;const te=z&&K?"Recently edited and reviewed changes to these files":z?"Recently edited these files":K?"Recently reviewed changes to these files":"Suggested reviewer";a.push({label:M,description:B,detail:te,reviewer:p}),i.add(M)}for(const p of r)i.has(p.login)||a.push({label:p.login,description:p.name,reviewer:p});return a}getAssigneesQuickPickItems(t,e){var r,i;if(!e)return[];const a=new Set([...(i=(r=this._item.assignees)==null?void 0:r.map(M=>M.login))!=null?i:[]]),p=[];for(const M of e){const{login:B,name:z,isAuthor:K,isCommenter:te}=M;if(a.has(B))continue;const ae=K&&te?"Recently edited and reviewed changes to these files":K?"Recently edited these files":te?"Recently reviewed changes to these files":"Suggested reviewer";p.push({label:B,description:z,detail:ae,assignee:M}),a.add(B)}for(const M of t)a.has(M.login)||p.push({label:M.login,description:M.name,assignee:M});return p}async addReviewers(t){try{const e=await b.window.showQuickPick(this.getReviewersQuickPickItems(this._item.suggestedReviewers),{canPickMany:!0,matchOnDescription:!0});if(e){await this._item.requestReview(e.map(i=>i.label));const r=e.map(i=>({reviewer:i.reviewer,state:"REQUESTED"}));this._existingReviewers=this._existingReviewers.concat(r),this._replyMessage(t,{added:r})}}catch(e){b.window.showErrorMessage(L(e))}}async addMilestone(t){try{async function e(i){const a=await i.getMilestones();return a.items.length?a.items.map(p=>({label:p.milestone.title,id:p.milestone.id,milestone:p.milestone})):[{label:"No milestones created for this repository."}]}const r=await b.window.showQuickPick(e(this._folderRepositoryManager),{canPickMany:!1});r&&ih(r)&&(await this._item.updateMilestone(r.id),this._replyMessage(t,{added:r.milestone}))}catch(e){b.window.showErrorMessage(L(e))}}async removeMilestone(t){try{await this._item.updateMilestone("null"),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(L(e))}}async addAssignees(t){var e;try{const i=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],a=await b.window.showQuickPick(this.getAssigneesQuickPickItems(i,[]),{canPickMany:!0,matchOnDescription:!0});if(a){const p=a.map(M=>M.assignee);this._item.assignees=(e=this._item.assignees)==null?void 0:e.concat(p),await this._item.updateAssignees(p.map(M=>M.login)),this._replyMessage(t,{added:p})}}catch(r){b.window.showErrorMessage(L(r))}}async removeReviewer(t){try{await this._item.deleteReviewRequest(t.args);const e=this._existingReviewers.findIndex(r=>r.reviewer.login===t.args);this._existingReviewers.splice(e,1),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(L(e))}}async removeAssignee(t){var e,r,i;try{await this._item.deleteAssignees(t.args);const a=(r=(e=this._item.assignees)==null?void 0:e.findIndex(p=>p.login===t.args))!=null?r:-1;(i=this._item.assignees)==null||i.splice(a,1),this._replyMessage(t,{})}catch(a){b.window.showErrorMessage(L(a))}}async applyPatch(t){try{const e=t.args.comment,i=/```diff\n([\s\S]*)\n```/g.exec(e.body),a=c.join(this._folderRepositoryManager.repository.rootUri.path,".git",`${e.id}.diff`),p=new TextEncoder,M=b.Uri.parse(a);await b.workspace.fs.writeFile(M,p.encode(i[1])),await this._folderRepositoryManager.repository.apply(a,!0),await b.workspace.fs.delete(M)}catch(e){n.appendLine(`Applying patch failed: ${e}`),b.window.showErrorMessage(`Applying patch failed: ${L(e)}`)}}async openDiff(t){try{const e=t.args.comment;return Lr.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){n.appendLine(`Open diff view failed: ${L(e)}`,Cr.ID)}}checkoutPullRequest(t){b.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})})}mergePullRequest(t){const{title:e,description:r,method:i}=t.args;this._folderRepositoryManager.mergePullRequest(this._item,e,r,i).then(a=>{b.commands.executeCommand("pr.refreshList"),a.merged||b.window.showErrorMessage(`Merging PR failed: ${a.message}`),this._replyMessage(t,{state:a.merged?wt.Merged:wt.Open})}).catch(a=>{b.window.showErrorMessage(`Unable to merge pull request. ${L(a)}`),this._throwError(t,{})})}async deleteBranch(t){const e=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),r=[];if(this._item.isResolved()){const p=this._item.head.ref;!(this._repositoryDefaultBranch===this._item.head.ref)&&!this._item.isRemoteHeadDeleted&&r.push({label:`Delete remote branch ${this._item.remote.remoteName}/${p}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(e){const p=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");r.push({label:`Delete local branch ${e.branch}`,type:"local",picked:!!p});const M=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");e.remote&&e.createdForPullRequest&&!e.remoteInUse&&r.push({label:`Delete remote ${e.remote}, which is no longer used by any other branch`,type:"remote",picked:!!M})}if(b.env.remoteName==="codespaces"&&r.push({label:"Suspend Codespace",type:"suspend"}),!r.length){b.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(t,{cancelled:!0});return}const i=await b.window.showQuickPick(r,{canPickMany:!0,ignoreFocusOut:!0}),a=[];if(i){const p=this._item.equals(this._folderRepositoryManager.activePullRequest),M=i.map(async B=>{switch(B.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),a.push(B.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(p){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await b.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.cleanAll");else return;await this._folderRepositoryManager.repository.checkout(this._repositoryDefaultBranch)}return await this._folderRepositoryManager.repository.deleteBranch(e.branch,!0),a.push(B.type);case"remote":return a.push(B.type),this._folderRepositoryManager.repository.removeRemote(e.remote);case"suspend":return a.push(B.type),b.commands.executeCommand("github.codespaces.disconnectSuspend")}});await Promise.all(M),this.refreshPanel(),b.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:a})}else this._replyMessage(t,{cancelled:!0})}setReadyForReview(t){this._item.setReadyForReview().then(e=>{b.commands.executeCommand("pr.refreshList"),this._replyMessage(t,{isDraft:e})}).catch(e=>{b.window.showErrorMessage(`Unable to set PR ready for review. ${L(e)}`),this._throwError(t,{})})}async checkoutDefaultBranch(t){try{await this._folderRepositoryManager.checkoutDefaultBranch(t.args)}finally{this._replyMessage(t,{})}}updateReviewers(t){if(t){const e=this._existingReviewers.find(r=>t.user.login===r.reviewer.login);e?e.state=t.state:this._existingReviewers.push({reviewer:t.user,state:t.state})}}approvePullRequest(t){this._item.approve(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers}),b.commands.executeCommand("pr.refreshList")},e=>{b.window.showErrorMessage(`Approving pull request failed. ${L(e)}`),this._throwError(t,`${L(e)}`)})}requestChanges(t){this._item.requestChanges(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{b.window.showErrorMessage(`Requesting changes failed. ${L(e)}`),this._throwError(t,`${L(e)}`)})}submitReview(t){this._item.submitReview(Dr.Comment,t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{b.window.showErrorMessage(`Submitting review failed. ${L(e)}`),this._throwError(t,`${L(e)}`)})}async copyPrLink(){await b.env.clipboard.writeText(this._item.html_url),b.window.showInformationMessage(`Copied link to PR ${this._item.title}!`)}editCommentPromise(t,e){return this._item.editReviewComment(t,e)}deleteCommentPromise(t){return this._item.deleteReviewComment(t.id.toString())}dispose(){super.dispose(),this._changeActivePullRequestListener&&this._changeActivePullRequestListener.dispose()}};let dr=Cr;yi(dr,"ID","PullRequestOverviewPanel"),yi(dr,"currentPanel"),yi(dr,"_viewType","PullRequestOverview");function cu(t,e){return e&&t.hasOwnProperty(e)&&t[e]?e:["merge","squash","rebase"].find(i=>t[i])}var nh=Object.defineProperty,Hi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class sh{constructor(e,r,i,a){this.pullRequestModel=e,this._folderReposManager=r,this._commentController=i,this._sessionState=a,Hi(this,"_pendingCommentThreadAdds",[]),Hi(this,"_commentHandlerId"),Hi(this,"_commentThreadCache",{}),Hi(this,"_openPREditors",[]),Hi(this,"_disposables",[]),this._commentHandlerId=ou(),Me(this._commentHandlerId,this),this.initializeThreadsInOpenEditors(),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._disposables.push(b.window.onDidChangeVisibleTextEditors(async e=>{this.onDidChangeOpenEditors(e)})),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const r in this._commentThreadCache)this._commentThreadCache[r].forEach(i=>{_u(i,e)})})),this._disposables.push(b.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)})),this._disposables.push(this._sessionState.onDidChangeCommentsExpandState(e=>{for(const r of this.pullRequestModel.reviewThreadsCache){const i=this.getCommentThreadCacheKey(r.path,r.diffSide===Le.LEFT),a=this._commentThreadCache[i];if(!a){n.appendLine(`PullRequestCommentController> Thread with ID ${i} is no longer in cache`);continue}const p=a.findIndex(M=>M.gitHubThreadId===r.id);if(p>-1){const M=a[p];An(M,r,e)}}}))}refreshContextKey(e){if(!e)return;const r=e.document.uri;if(r.scheme!=="pr")return;const i=lt(r);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}getPREditors(e){return e.filter(r=>{if(r.document.uri.scheme!=="pr")return!1;const i=lt(r.document.uri);return!(!i||i.prNumber!==this.pullRequestModel.number)})}getCommentThreadCacheKey(e,r){return`${e}-${r?"original":"modified"}`}addThreadsForEditors(e){const r=this.pullRequestModel.reviewThreadsCache,i=ue(r,a=>a.path);e.forEach(a=>{const{fileName:p,isBase:M}=lt(a.document.uri);i[p]&&(this._commentThreadCache[this.getCommentThreadCacheKey(p,M)]=i[p].filter(B=>B.diffSide===Le.LEFT&&M||B.diffSide===Le.RIGHT&&!M).map(B=>{const z=new b.Range(new b.Position(B.line-1,0),new b.Position(B.line-1,0));return Vi(a.document.uri,z,B,this._commentController)}))})}initializeThreadsInOpenEditors(){const e=this.getPREditors(b.window.visibleTextEditors);this._openPREditors=e,this.addThreadsForEditors(e)}onDidChangeOpenEditors(e){const r=this.getPREditors(e),i=this._openPREditors.filter(p=>!r.includes(p)),a=r.filter(p=>!this._openPREditors.includes(p));this._openPREditors=r,i.forEach(p=>{const{fileName:M,isBase:B}=lt(p.document.uri),z=this.getCommentThreadCacheKey(M,B);(this._commentThreadCache[z]||[]).forEach(te=>te.dispose()),delete this._commentThreadCache[z]}),a.length&&this.addThreadsForEditors(a)}onDidChangeReviewThreads(e){e.added.forEach(r=>{const i=r.path,a=this._pendingCommentThreadAdds.findIndex(B=>{const z=this.gitRelativeRootPath(B.uri.path)===r.path,K=B.range.start.line+1===r.line;return z&&K});let p;if(a>-1)p=this._pendingCommentThreadAdds[a],p.gitHubThreadId=r.id,p.comments=r.comments.map(B=>new Ct(B,p)),this._pendingCommentThreadAdds.splice(a,1);else{const z=this.getPREditors(b.window.visibleTextEditors).find(K=>{const te=lt(K.document.uri),ae=r.diffSide===Le.RIGHT&&!(te==null?void 0:te.isBase)||r.diffSide===Le.LEFT&&(te==null?void 0:te.isBase);return(te==null?void 0:te.fileName)===i&&ae});if(z){const K=new b.Range(new b.Position(r.line-1,0),new b.Position(r.line-1,0));p=Vi(z.document.uri,K,r,this._commentController)}}if(!p)return;const M=this.getCommentThreadCacheKey(r.path,r.diffSide===Le.LEFT);this._commentThreadCache[M]?this._commentThreadCache[M].push(p):this._commentThreadCache[M]=[p]}),e.changed.forEach(r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===Le.LEFT),a=this._commentThreadCache[i].findIndex(p=>p.gitHubThreadId===r.id);if(a>-1){const p=this._commentThreadCache[i][a];An(p,r)}}),e.removed.forEach(async r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===Le.LEFT),a=this._commentThreadCache[i].findIndex(p=>p.gitHubThreadId===r.id);if(a>-1){const p=this._commentThreadCache[i][a];this._commentThreadCache[i].splice(a,1),p.dispose()}})}hasCommentThread(e){if(e.uri.scheme!=="pr")return!1;const r=lt(e.uri);return!(!r||r.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const r=lt(e.uri);return(r==null?void 0:r.isBase)?Le.LEFT:Le.RIGHT}async createOrReplyComment(e,r,i,a){const p=e.comments.length,M=i?!1:a!==void 0?a:this.pullRequestModel.hasPendingReview,B=this.optimisticallyAddComment(e,r,M);try{if(p)await this.reply(e,r,i);else{const z=this.gitRelativeRootPath(e.uri.path),K=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,z,e.range.start.line+1,K,i)}i&&await this.pullRequestModel.submitReview()}catch(z){b.window.showErrorMessage(`Creating comment failed: ${z}`),e.comments=e.comments.map(K=>(K instanceof lr&&K.id===B&&(K.mode=b.CommentMode.Editing),K))}}reply(e,r,i){const a=e.comments[0];if(a instanceof Ct)return this.pullRequestModel.createCommentReply(r,a._rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}optimisticallyEditComment(e,r){const i=this._folderReposManager.getCurrentUser(this.pullRequestModel),a=new lr(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(p=>p instanceof Ct&&p.commentId===r.commentId?a:p),a.id}async editComment(e,r){if(r instanceof Ct){const i=this.optimisticallyEditComment(e,r);try{await this.pullRequestModel.editReviewComment(r._rawComment,r.body instanceof b.MarkdownString?r.body.value:r.body)}catch(a){b.window.showErrorMessage(`Editing comment failed ${a}`),e.comments=e.comments.map(p=>p instanceof lr&&p.id===i?new Ct(r._rawComment,e):p)}}else this.createOrReplyComment(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){r instanceof Ct?await this.pullRequestModel.deleteReviewComment(r.commentId):e.comments=e.comments.filter(i=>!(i instanceof lr&&i.id===r.id)),await this.pullRequestModel.validateDraftMode()}gitRelativeRootPath(e){return c.relative(this._folderReposManager.repository.rootUri.path,e).replace(/\\/g,"/")}async startReview(e,r){const i=e.comments.length,a=this.optimisticallyAddComment(e,r,!0);try{if(i)await this.reply(e,r,!1);else{const p=this.gitRelativeRootPath(e.uri.path),M=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,p,e.range.start.line+1,M)}this.setContextKey(!0)}catch(p){b.window.showErrorMessage(`Starting a review failed: ${p}`),e.comments=e.comments.map(M=>(M instanceof lr&&M.id===a&&(M.mode=b.CommentMode.Editing),M))}}async openReview(){await dr.createOrShow(this._folderReposManager.context.extensionUri,this._folderReposManager,this.pullRequestModel),dr.scrollToReview(),this._folderReposManager.telemetry.sendTelemetryEvent("pr.openDescription")}optimisticallyAddComment(e,r,i){const a=this._folderReposManager.getCurrentUser(this.pullRequestModel),p=new lr(e,r,i,a);return this.updateCommentThreadComments(e,[...e.comments,p]),p.id}updateCommentThreadComments(e,r){e.comments=r,Ei(e)}async createCommentOnResolve(e,r){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){b.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){b.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,r){e.parent.uri.scheme==="pr"&&(e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e._rawComment.graphNodeId,r):await this.pullRequestModel.deleteCommentReaction(e._rawComment.graphNodeId,r))}setContextKey(e){b.commands.executeCommand("setContext","prInDraft",e)}dispose(){Object.keys(this._commentThreadCache).forEach(e=>{this._commentThreadCache[e].forEach(r=>r.dispose())}),he(this._commentHandlerId),this._disposables.forEach(e=>e.dispose())}}var ah=Object.defineProperty,du=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ah(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class oh{constructor(e,r){this.commentsController=e,this._sessionState=r,du(this,"_prCommentHandlers",{}),du(this,"_prCommentingRangeProviders",{}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,r){const i=e.uri,a=lt(i);return!a||!this._prCommentingRangeProviders[a.prNumber]?void 0:this._prCommentingRangeProviders[a.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[a.prNumber])(e,r)}async toggleReaction(e,r){const i=e.parent.uri,a=lt(i);return!a||!this._prCommentHandlers[a.prNumber]||!this._prCommentHandlers[a.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[a.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[a.prNumber].handler)(e,r)}registerCommentController(e,r,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];const a=new sh(r,i,this.commentsController,this._sessionState);return this._prCommentHandlers[e]={handler:a,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,r){return this._prCommentingRangeProviders[e]=r,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var uh=nt(89967),lh=nt.n(uh),ch=Object.defineProperty,br=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ch(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const fu=20,wi="GraphQL";var Zt;(function(t){t.Unknown="unknown",t.Admin="ADMIN",t.Maintain="MAINTAIN",t.Read="READ",t.Triage="TRIAGE",t.Write="WRITE"})(Zt||(Zt={}));const ct=class{constructor(t,e,r,i){this.remote=t,this._credentialStore=e,this._telemetry=r,this._sessionState=i,br(this,"_initialized",!1),br(this,"_hub"),br(this,"_metadata"),br(this,"_toDispose",[]),br(this,"commentsController"),br(this,"commentsHandler"),br(this,"_pullRequestModels",new Map),br(this,"isGitHubDotCom"),br(this,"query",async a=>{var p;const M=this.hub&&this.hub.graphql;if(!M)return n.debug(`Not available for query: ${a}`,wi),{data:null,loading:!1,networkStatus:_t.error,stale:!1};n.debug(`Request: ${JSON.stringify(a,null,2)}`,wi);let B;try{B=await M.query(a)}catch(z){if(a.query!==this.schema.GetChecks&&((p=z.message)==null?void 0:p.startsWith("GraphQL error: Resource protected by organization SAML enforcement.")))await this._credentialStore.recreate(),B=await M.query(a);else throw z}return n.debug(`Response: ${JSON.stringify(B,null,2)}`,wi),B}),br(this,"mutate",async a=>{const p=this.hub&&this.hub.graphql;if(!p)return n.debug(`Not available for query: ${a}`,wi),{data:null,loading:!1,networkStatus:_t.error,stale:!1};n.debug(`Request: ${JSON.stringify(a,null,2)}`,wi);const M=await p.mutate(a);return n.debug(`Response: ${JSON.stringify(M,null,2)}`,wi),M}),this.isGitHubDotCom=t.host.toLowerCase()==="github.com"}get hub(){if(!this._hub)throw this._initialized?new xn("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(t){return this.remote.equals(t.remote)}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=b.comments.createCommentController(`github-browse-${this.remote.normalizedHost}`,`GitHub Pull Request for ${this.remote.normalizedHost}`),this.commentsHandler=new oh(this.commentsController,this._sessionState),this._toDispose.push(this.commentsHandler),this._toDispose.push(this.commentsController)}catch(t){console.log(t)}}dispose(){this._toDispose.forEach(t=>t.dispose())}get octokit(){return this.hub&&this.hub.octokit}get schema(){return lh()}async getMetadata(){var t;if(n.debug("Fetch metadata - enter",ct.ID),this._metadata)return n.debug(`Fetch metadata ${(t=this._metadata.owner)==null?void 0:t.login}/${this._metadata.name} - done`,ct.ID),this._metadata;const{octokit:e,remote:r}=await this.ensure(),i=await e.repos.get({owner:r.owner,repo:r.repositoryName});return n.debug(`Fetch metadata ${r.owner}/${r.repositoryName} - done`,ct.ID),this._metadata={...i.data,currentUser:e.currentUser},this._metadata}async resolveRemote(){try{const{clone_url:t}=await this.getMetadata();this.remote=Go(this.remote.remoteName,t,this.remote.gitProtocol)}catch(t){n.appendLine(`Unable to resolve remote: ${t}`)}}async ensure(){return this._initialized=!0,this._credentialStore.isAuthenticated(this.remote.authProviderId)?this._hub=this._credentialStore.getHub(this.remote.authProviderId):this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId),this}async getDefaultBranch(){try{n.debug("Fetch default branch - enter",ct.ID);const{octokit:t,remote:e}=await this.ensure(),{data:r}=await t.repos.get({owner:e.owner,repo:e.repositoryName});return n.debug("Fetch default branch - done",ct.ID),r.default_branch}catch(t){n.appendLine(`GitHubRepository> Fetching default branch failed: ${t}`)}return"master"}async getRepoAccessAndMergeMethods(){var t,e,r,i,a;try{n.debug("Fetch repo permissions and available merge methods - enter",ct.ID);const{octokit:p,remote:M}=await this.ensure(),{data:B}=await p.repos.get({owner:M.owner,repo:M.repositoryName});return n.debug("Fetch repo permissions and available merge methods - done",ct.ID),{hasWritePermission:(e=(t=B.permissions)==null?void 0:t.push)!=null?e:!1,mergeMethodsAvailability:{merge:(r=B.allow_merge_commit)!=null?r:!1,squash:(i=B.allow_squash_merge)!=null?i:!1,rebase:(a=B.allow_rebase_merge)!=null?a:!1}}}catch(p){n.appendLine(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${p}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0}}}async getAllPullRequests(t){try{n.debug("Fetch all pull requests - enter",ct.ID);const{octokit:e,remote:r}=await this.ensure(),i=await e.pulls.list({owner:r.owner,repo:r.repositoryName,per_page:fu,page:t||1}),a=!!i.headers.link&&i.headers.link.indexOf('rel="next"')>-1;if(!i.data)return n.appendLine(`Warning: no result data for ${r.owner}/${r.repositoryName} Status: ${i.status}`),{items:[],hasMorePages:!1};const p=i.data.map(M=>M.head.repo?this.createOrUpdatePullRequestModel(ri(M,this)):(n.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(M=>M!==null);return n.debug("Fetch all pull requests - done",ct.ID),{items:p,hasMorePages:a}}catch(e){if(n.appendLine(`Fetching all pull requests failed: ${e}`,ct.ID),e.code===404)b.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}async getPullRequestForBranch(t){try{n.debug("Fetch pull requests for branch - enter",ct.ID);const{octokit:e,remote:r}=await this.ensure(),a=(await e.pulls.list({owner:r.owner,repo:r.repositoryName,head:`${r.owner}:${t}`})).data.map(p=>this.createOrUpdatePullRequestModel(ri(p,this))).filter(p=>p!==null);return n.debug("Fetch pull requests for branch - done",ct.ID),a}catch(e){if(n.appendLine(`Fetching pull requests for branch failed: ${e}`,ct.ID),e.code===404)b.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}getRepoForIssue(t,e){if(e.repositoryName&&e.repositoryUrl&&(t.remote.owner!==e.repositoryOwner||t.remote.repositoryName!==e.repositoryName)){const r=new Sn(e.repositoryName,e.repositoryUrl,new Bt(e.repositoryUrl));t=new ct(r,this._credentialStore,this._telemetry,this._sessionState)}return t}async getIssuesForUserByMilestone(t){var e;try{n.debug("Fetch all issues - enter",ct.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:p}=await r({query:a.GetMilestones,variables:{owner:i.owner,name:i.repositoryName,assignee:(e=this._credentialStore.getCurrentUser(i.authProviderId))==null?void 0:e.login}});n.debug("Fetch all issues - done",ct.ID);const M=[];let B=this;return p&&p.repository.milestones&&p.repository.milestones.nodes&&p.repository.milestones.nodes.forEach(z=>{const K=Vs(z);if(K){const te=[];z.issues.edges.forEach(ae=>{const de=zs(ae.node,this);B=this.getRepoForIssue(B,de),te.push(new Ot(B,B.remote,de))}),M.push({milestone:K,issues:te})}}),{items:M,hasMorePages:p.repository.milestones.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues: ${r}`);return}}async getIssuesWithoutMilestone(t){var e;try{n.debug("Fetch issues without milestone- enter",ct.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:p}=await r({query:a.IssuesWithoutMilestone,variables:{owner:i.owner,name:i.repositoryName,assignee:(e=this._credentialStore.getCurrentUser(i.authProviderId))==null?void 0:e.login}});n.debug("Fetch issues without milestone - done",ct.ID);const M=[];let B=this;return p&&p.repository.issues.edges&&p.repository.issues.edges.forEach(z=>{if(z.node.id){const K=zs(z.node,this);B=this.getRepoForIssue(B,K),M.push(new Ot(B,B.remote,K))}}),{items:M,hasMorePages:p.repository.issues.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues without milestone: ${r}`);return}}async getIssues(t,e){try{n.debug("Fetch issues with query - enter",ct.ID);const{query:r,schema:i}=await this.ensure(),{data:a}=await r({query:i.Issues,variables:{query:`${e} type:issue`}});n.debug("Fetch issues with query - done",ct.ID);const p=[];let M=this;return a&&a.search.edges&&a.search.edges.forEach(B=>{if(B.node.id){const z=zs(B.node,this);M=this.getRepoForIssue(M,z),p.push(new Ot(M,M.remote,z))}}),{items:p,hasMorePages:a.search.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues with query: ${r}`);return}}async getMaxIssue(){try{n.debug("Fetch max issue - enter",ct.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch max issue - done",ct.ID),i&&i.repository.issues.edges.length===1?i.repository.issues.edges[0].node.number:void 0}catch(t){n.appendLine(`GithubRepository> Unable to fetch issues with query: ${t}`);return}}async getViewerPermission(){try{n.debug("Fetch viewer permission - enter",ct.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch viewer permission - done",ct.ID),Th(i)}catch(t){return n.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`),Zt.Unknown}}async fork(){try{n.debug("Fork repository",ct.ID);const{octokit:t,remote:e}=await this.ensure();return(await t.repos.createFork({owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(t){n.appendLine(`GitHubRepository> Forking repository failed: ${t}`);return}}async getRepositoryForkDetails(){try{n.debug("Fetch repository fork details - enter",ct.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetRepositoryForkDetails,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch repository fork details - done",ct.ID),i.repository}catch(t){n.appendLine(`GithubRepository> Unable to fetch repository fork details: ${t}`);return}}async getAuthenticatedUser(){const{octokit:t}=await this.ensure();return(await t.users.getAuthenticated({})).data.login}async getPullRequestsForCategory(t,e){try{n.debug(`Fetch pull request category ${t} - enter`,ct.ID);const{octokit:r,remote:i}=await this.ensure(),a=await r.users.getAuthenticated({}),p=await r.repos.get({owner:this.remote.owner,repo:this.remote.repositoryName}),{data:M,headers:B}=await r.search.issuesAndPullRequests({q:Ch(p.data.full_name,a.data.login,t),per_page:fu,page:e||1}),z=[];M.items.forEach(de=>{z.push(new Promise(async(_e,Se)=>{const Re=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:de.number});_e(Re)}))});const K=!!B.link&&B.link.indexOf('rel="next"')>-1,ae=(await Promise.all(z)).map(de=>de.data.head.repo?this.createOrUpdatePullRequestModel(ri(de.data,this)):(n.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(de=>de!==null);return n.debug(`Fetch pull request category ${t} - done`,ct.ID),{items:ae,hasMorePages:K}}catch(r){if(n.appendLine(`GitHubRepository> Fetching all pull requests failed: ${r}`),r.code===404)b.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName}, please check if the url ${this.remote.url} is valid.`);else throw r}}createOrUpdatePullRequestModel(t){let e=this._pullRequestModels.get(t.number);return e?e.update(t):(e=new Lr(this._telemetry,this,this.remote,t),this._pullRequestModels.set(t.number,e)),e}async createPullRequest(t){const{octokit:e}=await this.ensure(),{data:r}=await e.pulls.create(t);return this.createOrUpdatePullRequestModel(ri(r,this))}async getPullRequest(t){try{n.debug(`Fetch pull request ${t} - enter`,ct.ID);const{query:e,remote:r,schema:i}=await this.ensure(),{data:a}=await e({query:i.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:t}});return n.debug(`Fetch pull request ${t} - done`,ct.ID),this.createOrUpdatePullRequestModel(Mu(a,this))}catch(e){n.appendLine(`GithubRepository> Unable to fetch PR: ${e}`);return}}async getIssue(t,e=!1){try{n.debug(`Fetch issue ${t} - enter`,ct.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:p}=await r({query:e?a.IssueWithComments:a.Issue,variables:{owner:i.owner,name:i.repositoryName,number:t}});return n.debug(`Fetch issue ${t} - done`,ct.ID),new Ot(this,i,Mu(p,this))}catch(r){n.appendLine(`GithubRepository> Unable to fetch PR: ${r}`);return}}async listBranches(t,e){const{octokit:r}=await this.ensure();n.debug(`List branches for ${t}/${e} - enter`,ct.ID);try{let i=[];const a=new Date().getTime();for await(const p of r.paginate.iterator("GET /repos/:owner/:repo/branches",{owner:t,repo:e,per_page:100}))if(i.push(...p.data.map(M=>M.name)),new Date().getTime()-a>5e3)break;return n.debug(`List branches for ${t}/${e} - done`,ct.ID),i}catch(i){throw n.debug(`List branches for ${t}/${e} failed`,ct.ID),i}}async deleteBranch(t){const{octokit:e}=await this.ensure();if(!!t.validatePullRequestModel("Unable to delete branch"))try{await e.git.deleteRef({owner:t.head.repositoryCloneUrl.owner,repo:t.head.repositoryCloneUrl.repositoryName,ref:`heads/${t.head.ref}`})}catch(r){n.appendLine(`GithubRepository> Unable to delete branch: ${r}`);return}}async getMentionableUsers(){n.debug("Fetch mentionable users - enter",ct.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,a=!1;const p=[];do try{const M=await t({query:r.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});p.push(...M.data.repository.mentionableUsers.nodes.map(B=>({login:B.login,avatarUrl:B.avatarUrl,name:B.name,url:B.url,email:B.email}))),a=M.data.repository.mentionableUsers.pageInfo.hasNextPage,i=M.data.repository.mentionableUsers.pageInfo.endCursor}catch(M){return n.debug(`Unable to fetch mentionable users: ${M}`,ct.ID),p}while(a);return p}async getAssignableUsers(){n.debug("Fetch assignable users - enter",ct.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,a=!1;const p=[];do try{const M=await t({query:r.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});p.push(...M.data.repository.assignableUsers.nodes.map(B=>({login:B.login,avatarUrl:B.avatarUrl,name:B.name,url:B.url,email:B.email}))),a=M.data.repository.assignableUsers.pageInfo.hasNextPage,i=M.data.repository.assignableUsers.pageInfo.endCursor}catch(M){return n.debug(`Unable to fetch assignable users: ${M}`,ct.ID),M.graphQLErrors&&M.graphQLErrors.length>0&&M.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&b.window.showWarningMessage(`GitHub user features will not work. ${M.graphQLErrors[0].message}`),p}while(a);return p}async compareCommits(t,e){const{remote:r,octokit:i}=await this.ensure(),{data:a}=await i.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:t,head:e});return a}isCurrentUser(t){return this._credentialStore.isCurrentUser(t)}};let _i=ct;br(_i,"ID","GitHubRepository");var dh=Object.defineProperty,fh=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?dh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const hu="github-pr-remote",pu="github-pr-owner-number",mu=/branch\.(.+)\.github-pr-owner-number/,hh=/branch\.(.+)\.remote/,yt=class{static async checkoutFromFork(t,e,r){const i=await yt.calculateUniqueBranchNameForPR(t,e);r||(n.appendLine(`Branch ${i} is from a fork. Create a remote first.`,yt.ID),r=await yt.createRemote(t,e.remote,e.head.repositoryCloneUrl));const a=`${e.head.ref}:${i}`;n.debug(`Fetch ${r}/${e.head.ref}:${i} - start`,yt.ID),await t.fetch(r,a,1),n.debug(`Fetch ${r}/${e.head.ref}:${i} - done`,yt.ID),await t.checkout(i),await t.setBranchUpstream(i,`refs/remotes/${r}/${e.head.ref}`),await this.unshallow(t),yt.associateBranchWithPullRequest(t,e,i)}static async fetchAndCheckout(t,e,r){var i;if(!r.validatePullRequestModel("Checkout pull request failed"))return;const a=yt.getHeadRemoteForPullRequest(e,r),p=r.head.repositoryCloneUrl.owner!==r.base.repositoryCloneUrl.owner;if(!a||p)return yt.checkoutFromFork(t,r,a&&a.remoteName);const M=r.head.ref,B=a.remoteName;let z;try{if(z=await t.getBranch(M),((i=t.state.HEAD)==null?void 0:i.name)===z.name){n.appendLine(`Tried to checkout ${M}, but branch is already checked out.`,yt.ID);return}if(n.debug(`Checkout ${M}`,yt.ID),await t.checkout(M),!z.upstream){const K=`refs/remotes/${B}/${M}`;await t.setBranchUpstream(M,K)}z.behind!==void 0&&z.behind>0&&z.ahead===0&&(n.debug("Pull from upstream",yt.ID),await t.pull())}catch(K){n.appendLine(`Branch ${B}/${M} doesn't exist on local disk yet.`,yt.ID);const te=`refs/remotes/${B}/${M}`;n.appendLine(`Fetch tracked branch ${te}`,yt.ID),await t.fetch(B,M,1);const ae=await t.getBranch(te);await t.createBranch(M,!0,ae.commit),await t.setBranchUpstream(M,te),await this.unshallow(t)}await yt.associateBranchWithPullRequest(t,r,M)}static async unshallow(t){try{await t.pull(!0)}catch(e){n.appendLine(`Unshallowing failed: ${e}. Falling back to git pull`),await t.pull()}}static async checkoutExistingPullRequestBranch(t,e){const r=yt.buildPullRequestMetadata(e),i=await t.getConfigs(),a=M=>i.filter(({key:B})=>M===B).map(({value:B})=>B)[0],p=i.map(M=>{const B=mu.exec(M.key);return{branch:B&&B.length?B[1]:null,value:M.value}}).filter(M=>M.branch&&M.value===r);if(p&&p.length){const M=p[0].branch;await t.checkout(M);const B=a(`branch.${M}.remote`),z=a(`branch.${M}.merge`);await t.fetch(B,z);const K=await t.getBranch(p[0].branch);return K.behind!==void 0&&K.behind>0&&K.ahead===0&&(n.debug("Pull from upstream",yt.ID),await t.pull()),!0}else return!1}static async getBranchNRemoteForPullRequest(t,e){const r=yt.buildPullRequestMetadata(e),i=await t.getConfigs(),a=i.map(p=>{const M=mu.exec(p.key);return{branch:M&&M.length?M[1]:null,value:p.value}}).find(p=>!!p.branch&&p.value===r);if(a){const p=a.branch;try{const M=`branch.${p}.remote`,B=i.filter(ae=>ae.key===M).map(ae=>ae.value);let z;B.length&&(z=B[0]);let K=!1;if(z){const ae=`remote.${z}.github-pr-remote`;i.filter(_e=>_e.key===ae&&_e.value).length&&(K=!0)}let te;return K&&(te=i.some(ae=>!!(hh.exec(ae.key)&&ae.key!==`branch.${p}.remote`&&ae.value===z))),{branch:p,remote:z,createdForPullRequest:K,remoteInUse:te}}catch(M){return{branch:p}}}return null}static buildPullRequestMetadata(t){return`${t.base.repositoryCloneUrl.owner}#${t.base.repositoryCloneUrl.repositoryName}#${t.number}`}static parsePullRequestMetadata(t){if(t){const e=/(.*)#(.*)#(.*)/g.exec(t);if(e&&e.length===4){const[,r,i,a]=e;return{owner:r,repositoryName:i,prNumber:Number(a)}}}}static getMetadataKeyForBranch(t){return`branch.${t}.${pu}`}static async getMatchingPullRequestMetadataForBranch(t,e){try{const r=this.getMetadataKeyForBranch(e),i=await t.getConfig(r);return yt.parsePullRequestMetadata(i)}catch(r){return}}static async createRemote(t,e,r){n.appendLine(`create remote for ${r}.`,yt.ID);const i=vi(t);for(const p of i)if(new Bt(p.url).equals(r))return p.remoteName;const a=yt.getUniqueRemoteName(t,r.owner);return r.update({type:e.gitProtocol.type}),await t.addRemote(a,r.toString()),await t.setConfig(`remote.${a}.${hu}`,"true"),a}static async isRemoteCreatedForPullRequest(t,e){try{n.debug(`Check if remote '${e}' is created for pull request - start`,yt.ID);const r=await t.getConfig(`remote.${e}.${hu}`);return n.debug(`Check if remote '${e}' is created for pull request - end`,yt.ID),r==="true"}catch(r){return!1}}static async calculateUniqueBranchNameForPR(t,e){const r=`pr/${e.author.login}/${e.number}`;let i=r,a=1;for(;;)try{await t.getBranch(i),i=`${r}-${a++}`}catch(p){break}return i}static getUniqueRemoteName(t,e){let r=e,i=1;const a=vi(t);for(;a.find(p=>p.remoteName===r);)r=`${e}${i++}`;return r}static getHeadRemoteForPullRequest(t,e){return t.find(r=>r.gitProtocol&&r.gitProtocol.equals(e.head.repositoryCloneUrl))}static async associateBranchWithPullRequest(t,e,r){n.appendLine(`associate ${r} with Pull Request #${e.number}`,yt.ID);const i=`branch.${r}.${pu}`;await t.setConfig(i,yt.buildPullRequestMetadata(e))}};let yr=yt;fh(yr,"ID","PullRequestGitHelper");var ph=Object.defineProperty,gt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ph(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class mh extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class vu extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class vh extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:a}=this;return`The upstream ref ${e}/${r} for branch ${i} ${a}.`}}const Wt="githubPullRequests",Gi="remotes",gu="ReposManagerStateContext";var fr;(function(t){t.Initializing="Initializing",t.NeedsAuthentication="NeedsAuthentication",t.RepositoriesLoaded="RepositoriesLoaded"})(fr||(fr={}));const bu="No Milestone";var yu;(function(t){t[t.PullRequest=0]="PullRequest",t[t.Milestones=1]="Milestones",t[t.IssuesWithoutMilestone=2]="IssuesWithoutMilestone",t[t.IssueSearch=3]="IssueSearch"})(yu||(yu={}));const wr=class{constructor(t,e,r,i,a,p){this.context=t,this._repository=e,this.telemetry=r,this._git=i,this._credentialStore=a,this._sessionState=p,gt(this,"_subs"),gt(this,"_activePullRequest"),gt(this,"_activeIssue"),gt(this,"_githubRepositories"),gt(this,"_allGitHubRemotes",[]),gt(this,"_mentionableUsers"),gt(this,"_fetchMentionableUsersPromise"),gt(this,"_assignableUsers"),gt(this,"_fetchAssignableUsersPromise"),gt(this,"_gitBlameCache",{}),gt(this,"_githubManager"),gt(this,"_repositoryPageInformation",new Map),gt(this,"_onDidMergePullRequest",new b.EventEmitter),gt(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),gt(this,"_onDidChangeActivePullRequest",new b.EventEmitter),gt(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),gt(this,"_onDidChangeActiveIssue",new b.EventEmitter),gt(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),gt(this,"_onDidLoadRepositories",new b.EventEmitter),gt(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),gt(this,"_onDidChangeRepositories",new b.EventEmitter),gt(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),gt(this,"_onDidChangeAssignableUsers",new b.EventEmitter),gt(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),gt(this,"totalFetchedPages",new Map),this._subs=[],this._githubRepositories=[],this._githubManager=new Ns,this._subs.push(b.workspace.onDidChangeConfiguration(async M=>{M.affectsConfiguration(`${Wt}.${Gi}`)&&await this.updateRepositories()})),this.setUpCompletionItemProvider(),this.cleanStoredRepoState()}cleanStoredRepoState(){const t=new Date().valueOf()-30*864e5,e=this.context.globalState.get(qi);if(e==null?void 0:e.repos){let r=!1;Object.keys(e.repos).forEach(i=>{var a;((a=e.repos[i].stateModifiedTime)!=null?a:0)<t&&(r=!0,delete e.repos[i])}),r&&this.context.globalState.update(qi,e)}}get gitHubRepositories(){return this._githubRepositories}computeAllGitHubRemotes(){const e=vi(this.repository).filter(r=>r.host);return Promise.all(e.map(r=>this._githubManager.isGitHub(r.gitProtocol.normalizeUri()))).then(r=>e.filter((i,a,p)=>r[a])).catch(r=>(n.appendLine(`Resolving GitHub remotes failed: ${r}`),b.window.showErrorMessage(`Resolving GitHub remotes failed: ${L(r)}`),[]))}async getActiveGitHubRemotes(t){const e=b.workspace.getConfiguration(Wt).get(Gi);return e?(e.forEach(r=>{t.some(i=>i.remoteName===r)||n.appendLine(`No remote with name '${r}' found.`)}),n.debug(`Displaying configured remotes: ${e.join(", ")}`,wr.ID),e.map(r=>t.find(i=>i.remoteName===r)).filter(r=>!!r)):(n.appendLine("Unable to read remotes setting"),Promise.resolve([]))}setUpCompletionItemProvider(){let t,e=[],r=[];b.languages.registerCompletionItemProvider({scheme:"comment"},{provideCompletionItems:async(i,a,p)=>{try{const M=JSON.parse(i.uri.query);if(P(M.extensionId,Ve)!==0)return;const B=i.getWordRangeAtPosition(a,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!B||B.isEmpty)return;let z=[];const K={};let te={},ae,de;const _e=b.window.visibleTextEditors;if(_e.length){const $e=_e.find(Oe=>Oe.document.uri.scheme==="pr");if($e){const Oe=lt($e.document.uri);ae=Oe.prNumber,de=Oe.remoteName}else this._activePullRequest&&(ae=this._activePullRequest.number,de=this._activePullRequest.remote.remoteName);if(t&&ae&&ae===t.number)return r}const Se=new Promise(async $e=>{if(ae&&de){if(n.debug("get Timeline Events and parse users",wr.ID),t&&t.number===ae)return e;const Oe=this._githubRepositories.find(st=>st.remote.remoteName===de);Oe&&(t=await Oe.getPullRequest(ae),e=await t.getTimelineEvents()),z=xh(e),$e()}$e()}),Re=new Promise(async $e=>{if(_e.length)try{n.debug("git blame and parse users",wr.ID);const Oe=c.resolve(_e[0].document.uri.fsPath);let st;this._gitBlameCache[Oe]?st=this._gitBlameCache[Oe]:(st=await this.repository.blame(Oe),this._gitBlameCache[Oe]=st);const vt=st.split(`
`);for(const bt of vt){const Rt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(bt);if(Rt&&Rt.length===2){const mt=Rt[1].trim();K[mt]=!0}}}catch(Oe){n.debug(Oe,wr.ID)}$e()}),Pe=new Promise(async $e=>{n.debug("get mentionable users",wr.ID),te=await this.getMentionableUsers(),$e()});await Promise.all([Se,Re,Pe]),r=[];const xe={};n.debug("prepare user suggestions",wr.ID),z.forEach($e=>{xe[$e.login]||(xe[$e.login]=$e)});const Ue={};for(const $e in te)for(const Oe of te[$e])if(!xe[Oe.login]&&!Ue[Oe.login]){Ue[Oe.login]=!0;let st=2;(K[Oe.login]||Oe.name&&K[Oe.name])&&(st=1),xe[Oe.login]&&(st=0),r.push({label:Oe.login,insertText:Oe.login,filterText:`${Oe.login}`+(Oe.name&&Oe.name!==Oe.login?`_${Oe.name.toLowerCase().replace(" ","_")}`:""),sortText:`${st}_${Oe.login}`,detail:Oe.name,kind:b.CompletionItemKind.User,login:Oe.login,uri:this.repository.rootUri})}for(const $e in xe)Ue[$e]||r.push({label:xe[$e].login,insertText:`${xe[$e].login}`,filterText:`${xe[$e].login}`+(xe[$e].name&&xe[$e].name!==xe[$e].login?`_${xe[$e].name.toLowerCase().replace(" ","_")}`:""),sortText:`0_${xe[$e].login}`,detail:xe[$e].name,kind:b.CompletionItemKind.User,login:xe[$e].login,uri:this.repository.rootUri});return n.debug("done",wr.ID),r}catch(M){return[]}},resolveCompletionItem:async(i,a)=>{try{const p=await this.getPullRequestDefaults(),M=await this.resolveUser(p.owner,p.repo,typeof i.label=="string"?i.label:i.label.label);M&&(i.documentation=Fs(p,M))}catch(p){}return i}},"@")}get activeIssue(){return this._activeIssue}set activeIssue(t){this._activeIssue=t,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(t){this._activePullRequest&&(this._activePullRequest.isActive=!1),t&&(t.isActive=!0),this._activePullRequest=t,this._onDidChangeActivePullRequest.fire()}get repository(){return this._repository}set repository(t){this._repository=t}get credentialStore(){return this._credentialStore}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const t=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return t.length?(await b.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),n.appendLine("Found GitHub remote")):(await b.commands.executeCommand("setContext","github:hasGitHubRemotes",!1),n.appendLine("No GitHub remotes found")),t}async updateRepositories(t=!1){if(this._git.state==="uninitialized"){n.appendLine("Cannot updates repositories as git is uninitialized");return}const e=await this.getActiveRemotes(),r=this._credentialStore.isAuthenticated(pt.github)||this._credentialStore.isAuthenticated(pt["github-enterprise"]);b.commands.executeCommand("setContext","github:authenticated",r);const i=[],a=[];return e.filter(M=>this._credentialStore.isAuthenticated(M.authProviderId)).forEach(M=>{const B=this.createGitHubRepository(M,this._credentialStore);a.push(B.resolveRemote()),i.push(B)}),Promise.all(a).then(async M=>{const B=this._githubRepositories;this._githubRepositories=i,B.forEach(K=>K.dispose());const z=B.length!==this._githubRepositories.length||!B.every(K=>this._githubRepositories.some(te=>te.remote.equals(K.remote)));if(this._githubRepositories.length&&z&&await this.checkIfMissingUpstream()){this.updateRepositories(t);return}this.activePullRequest&&this.getMentionableUsers(z,!0),this.getAssignableUsers(z),this._onDidLoadRepositories.fire(r||!e.length?fr.RepositoriesLoaded:fr.NeedsAuthentication),t||this._onDidChangeRepositories.fire()})}async checkIfMissingUpstream(){var t;try{const r=await(await this.getOrigin()).getMetadata();if(r.fork&&r.parent){const i=new Bt(r.parent.git_url);if(!this._githubRepositories.some(p=>p.remote.owner===i.owner&&p.remote.repositoryName===i.repositoryName)){const M=!this.repository.state.remotes.some(B=>B.name==="upstream")?"upstream":(t=r.parent.owner)==null?void 0:t.login;if(M)return await this.repository.addRemote(M,r.parent.clone_url),!0}}}catch(e){n.appendLine(`Missing upstream check failed: ${e}`)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const t=[];return Object.keys(this._assignableUsers).forEach(e=>{t.push(...this._assignableUsers[e])}),t}}getMentionableUsersFromGlobalState(){n.appendLine("Trying to use globalState for mentionable users.");const t=this.context.globalState.get(qi);if(t){const e={};if(this._githubRepositories.every(i=>{var a;const p=`${i.remote.owner}/${i.remote.repositoryName}`;return t.repos[p]?(e[i.remote.repositoryName]=(a=t.repos[p].mentionableUsers)!=null?a:[],!0):!1}))return n.appendLine(`Using globalState mentionable users for ${Object.keys(e).length}.`),e}n.appendLine("No globalState for mentionable users.")}createFetchMentionableUsersPromise(){const t={};return new Promise(e=>{const r=this._githubRepositories.map(async i=>{const a=await i.getMentionableUsers();t[i.remote.remoteName]=a});Promise.all(r).then(()=>{this._mentionableUsers=t,this._fetchMentionableUsersPromise=void 0;const i=this.context.globalState.get(qi,{repos:{}});this._githubRepositories.forEach(a=>{const p=`${a.remote.owner}/${a.remote.repositoryName}`;i.repos[p]||(i.repos[p]={}),i.repos[p].mentionableUsers=t[a.remote.remoteName],i.repos[p].stateModifiedTime=new Date().valueOf()}),this.context.globalState.update(qi,i),e(t)})})}async getMentionableUsers(t,e){if(t&&delete this._mentionableUsers,this._mentionableUsers)return this._mentionableUsers;let r=this.getMentionableUsersFromGlobalState();return e&&!this._fetchMentionableUsersPromise&&r?r:this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),r!=null?r:this._fetchMentionableUsersPromise)}async getAssignableUsers(t){if(t&&delete this._assignableUsers,this._assignableUsers)return this._assignableUsers;if(!this._fetchAssignableUsersPromise){const e={},r=[];return this._fetchAssignableUsersPromise=new Promise(i=>{const a=this._githubRepositories.map(async p=>{const M=await p.getAssignableUsers();e[p.remote.remoteName]=M.sort(Tu),r.push(...M)});Promise.all(a).then(()=>{this._assignableUsers=e,this._fetchAssignableUsersPromise=void 0,i(e),this._onDidChangeAssignableUsers.fire(r)})})}return this._fetchAssignableUsersPromise}getGitHubRemotes(){const t=this._githubRepositories;return!t||!t.length?[]:t.map(e=>e.remote)}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const t=this._githubRepositories;if(!t||!t.length)return[];const r=this.repository.state.refs.filter(i=>i.type===be.Head&&i.name!==void 0).map(i=>i.name).map(async i=>{const a=await yr.getMatchingPullRequestMetadataForBranch(this.repository,i);if(a){const{owner:p,prNumber:M}=a,B=t.find(z=>z.remote.owner.toLocaleLowerCase()===p.toLocaleLowerCase());if(B){const z=await B.getPullRequest(M);if(z)return z.localBranchName=i,z}}return Promise.resolve(null)});return Promise.all(r).then(i=>i.filter(a=>a!==null))}async getLabels(t,e){const r=t?t.githubRepository:this._githubRepositories.find(z=>z.remote.owner===(e==null?void 0:e.owner)&&z.remote.repositoryName===(e==null?void 0:e.repo));if(!r)throw new Error("No matching repository found for getting labels.");const{remote:i,octokit:a}=await r.ensure();let p=!1,M=1,B=[];do{const z=await a.issues.listLabelsForRepo({owner:i.owner,repo:i.repositoryName,per_page:100,page:M});B=B.concat(z.data.map(K=>({name:K.name,color:K.color}))),B=B.sort((K,te)=>K.name.localeCompare(te.name)),p=!!z.headers.link&&z.headers.link.indexOf('rel="next"')>-1,M+=1}while(p);return B}async listBranches(t,e){if(this._githubRepositories.length)return this._githubRepositories[0].listBranches(t,e);throw new Error("No GitHub repositories found")}async deleteLocalPullRequest(t,e){if(!t.localBranchName)return;await this.repository.deleteBranch(t.localBranchName,e);let r;try{r=await this.repository.getConfig(`branch.${t.localBranchName}.remote`)}catch(a){}if(!r)return;await yr.isRemoteCreatedForPullRequest(this.repository,r)&&((await this.repository.getConfigs()).some(({key:M,value:B})=>/^branch.*\.remote$/.test(M)&&B===r)||await this.repository.removeRemote(r)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(t={fetchNextPage:!1},e,r=0,i=Pt.All,a){if(!this._githubRepositories||!this._githubRepositories.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1};const p=()=>this.totalFetchedPages.get(e)||0,M=ae=>this.totalFetchedPages.set(e,ae);for(const ae of this._githubRepositories){const de=ae.remote.url.toString()+e;this._repositoryPageInformation.get(de)||this._repositoryPageInformation.set(de,{pullRequestPage:0,hasMorePages:null})}let B=0;const z={hasMorePages:!1,items:[]},K=ae=>{B++,ae&&(z.items=z.items.concat(ae.items),z.hasMorePages=ae.hasMorePages)},te=this._githubRepositories.filter(ae=>{const de=this._repositoryPageInformation.get(ae.remote.url.toString()+e);return de&&(t.fetchNextPage===!1||de.hasMorePages!==!1)});for(let ae=0;ae<te.length;ae++){const de=te[ae],_e=de.remote.url.toString()+e,Se=this._repositoryPageInformation.get(_e),Re=async Pe=>{switch(r){case 0:return i===Pt.All?de.getAllPullRequests(Pe):de.getPullRequestsForCategory(a||"",Pe);case 1:return de.getIssuesForUserByMilestone(Se.pullRequestPage);case 2:return de.getIssuesWithoutMilestone(Se.pullRequestPage);case 3:return de.getIssues(Se.pullRequestPage,a)}};if(t.fetchNextPage?(Se.pullRequestPage++,K(await Re(Se.pullRequestPage)),M(p()+1)):(Se.pullRequestPage===0&&(Se.pullRequestPage=1),(await Promise.all(Array.from({length:Se.pullRequestPage}).map((xe,Ue)=>Re(Ue+1)))).forEach(xe=>K(xe))),Se.hasMorePages=z.hasMorePages,z.items.length&&(t.fetchNextPage===!0||t.fetchNextPage===!1&&B>=p()))return p()===0&&M(B),{items:z.items,hasMorePages:Se.hasMorePages,hasUnsearchedRepositories:ae<te.length-1}}return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1}}async getPullRequests(t,e={fetchNextPage:!1},r){const i=t.toString()+(r||"");return this.fetchPagedData(e,i,0,t,r)}async getMilestones(t={fetchNextPage:!1},e=!1,r){const i=await this.fetchPagedData(t,"issuesKey",1,Pt.All,r);if(e){const a=await this.fetchPagedData(t,"issuesKey",2,Pt.All,r);i.items.push({milestone:{createdAt:new Date(0).toDateString(),id:"",title:bu},issues:a.items})}return i}async getIssues(t={fetchNextPage:!1},e){return this.fetchPagedData(t,"issuesKey",3,Pt.All,e)}async getMaxIssue(){const t=await Promise.all(this._githubRepositories.map(r=>r.getMaxIssue()));let e=0;for(const r of t)r!==void 0&&(e=Math.max(e,r));return e}async getPullRequestTemplates(){const t=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),e=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),r=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"PULL_REQUEST_TEMPLATE/*.md")),i=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{docs,.github}/PULL_REQUEST_TEMPLATE/*.md"));return[...t,...e,...r,...i]}async getPullRequestDefaults(t){var e;if(!t&&!this.repository.state.HEAD)throw new vu(this.repository);const r=await this.getOrigin(t),i=await r.getMetadata(),a=(e=b.workspace.getConfiguration(Wt).inspect(Gi))==null?void 0:e.defaultValue,p=b.workspace.getConfiguration(Wt).get(Gi),M=!p||(a==null?void 0:a.every((z,K)=>p[K]===z)),B=i.fork&&i.parent&&M?i.parent:await(this.findRepo(ki("upstream"))||r).getMetadata();return{owner:B.owner.login,repo:B.name,base:B.default_branch}}async getMetadata(t){const e=this.findRepo(ki(t));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:t}=this;if(t.state.HEAD&&t.state.HEAD.commit){const{message:e}=await t.getCommit(t.state.HEAD.commit);return e}return""}async getTipCommitMessage(t){const{repository:e}=this,{commit:r}=await e.getBranch(t);if(r){const{message:i}=await e.getCommit(r);return i}return""}async getOrigin(t){if(!this._githubRepositories.length)throw new mh(this.repository);const e=t?t.upstream:this.upstreamRef;if(e){const a=this.findRepo(ki(e.remote));if(!a){const p=(await this.getAllGitHubRemotes()).find(M=>M.remoteName===e.remote);if(p)return new _i(p,this._credentialStore,this.telemetry,this._sessionState);throw n.appendLine(`The remote '${e.remote}' is not a GitHub repository.`),new vh(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return a}const[r,...i]=this._githubRepositories;return i.length&&(this.findRepo(ki("origin"))||this.findRepo(gh))||r}findRepo(t){return this._githubRepositories.filter(t)[0]}get upstreamRef(){const{HEAD:t}=this.repository.state;return t&&t.upstream}async createPullRequest(t){var e,r;const i=this._githubRepositories.find(a=>a.remote.owner===t.owner&&a.remote.repositoryName===t.repo);if(!i)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);try{const a=await i.createPullRequest(t),p=t.head.indexOf(":"),M=t.head.slice(p+1);return await yr.associateBranchWithPullRequest(this._repository,a,M),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(t.draft||"").toString()}),a}catch(a){if(a.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead)return await b.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to push your local commits and create the pull request?`,{modal:!0},"Push commits")==="Push commits"?(await this._repository.push(),this.createPullRequest(t)):void 0;if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length)return await b.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to commit your changes and create the pull request?`,{modal:!0},"Commit changes")==="Commit changes"?(await b.commands.executeCommand("git.commit"),await this._repository.push(),this.createPullRequest(t)):void 0}if(!((r=this._repository.state.HEAD)==null?void 0:r.upstream))return await b.window.showInformationMessage(`There is no upstream branch for '${t.base}'.

Do you want to publish it and create the pull request?`,{modal:!0},"Publish branch")==="Publish branch"?(await this._repository.push(i.remote.remoteName,t.base,!0),this.createPullRequest(t)):void 0;throw n.appendLine(`GitHubRepository> Creating pull requests failed: ${a}`),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(t.draft||"").toString()}),new Error(L(a))}}async createIssue(t){try{const e=this._githubRepositories.find(p=>p.remote.owner===t.owner&&p.remote.repositoryName===t.repo);if(!e)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);await e.ensure();const{data:r}=await e.octokit.issues.create(t),i=wh(r,e),a=new Ot(e,e.remote,i);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(e){n.appendLine(`GitHubRepository> Creating issue failed: ${e}`),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),b.window.showWarningMessage(`Creating issue failed: ${L(e)}`)}}async assignIssue(t,e){try{const r=this._githubRepositories.find(a=>a.remote.owner===t.remote.owner&&a.remote.repositoryName===t.remote.repositoryName);if(!r)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);await r.ensure();const i={assignees:[e],owner:t.remote.owner,repo:t.remote.repositoryName,issue_number:t.number};await r.octokit.issues.addAssignees(i),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(r){n.appendLine(`GitHubRepository> Assigning issue failed: ${r}`),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),b.window.showWarningMessage(`Assigning issue failed: ${L(r)}`)}}getCurrentUser(t){return Wr(this._credentialStore.getCurrentUser(t.githubRepository.remote.authProviderId),t.githubRepository)}async mergePullRequest(t,e,r,i){const{octokit:a,remote:p}=await t.githubRepository.ensure(),M=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,B=this.repository.state.HEAD&&this.repository.state.HEAD.commit,z=t.head&&t.head.sha,K=this.repository.state.workingTreeChanges.length>0;if(M===z){if(B!==z){const{ahead:te}=this.repository.state.HEAD;if(te&&await b.window.showWarningMessage(`You have ${te} unpushed ${te>1?"commits":"commit"} on this PR branch.

Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"unpushed changes"}}if(K&&await b.window.showWarningMessage(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"uncommitted changes"}}return await a.pulls.merge({commit_message:r,commit_title:e,merge_method:i||b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),owner:p.owner,repo:p.repositoryName,pull_number:t.number}).then(te=>(this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),te.data)).catch(te=>{throw this.telemetry.sendTelemetryErrorEvent("pr.merge.failure"),te})}async deleteBranch(t){await t.githubRepository.deleteBranch(t)}async getBranchDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(a=>{const p=a.key,M=/^branch\.(.*)\.(.*)$/.exec(p);if(M&&M.length===3){const B=M[1];e.has(B)||e.set(B,{});const z=e.get(B);if(M[2]==="remote"&&(z.remote=a.value),M[2]==="github-pr-owner-number"){const K=yr.parsePullRequestMetadata(a.value);z.metadata=K}e.set(B,z)}});const r=[];e.forEach((a,p)=>{if(a.metadata){const M=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(M?M.owner===a.metadata.owner&&M.repositoryName===a.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===a.metadata.prNumber:!1)||r.push({label:`${p}`,description:`${a.metadata.repositoryName}/${a.metadata.owner} #${a.metadata.prNumber}`,picked:!1,metadata:a.metadata})}});const i=await Promise.all(r.map(async a=>{const p=a.metadata,M=this._githubRepositories.find(te=>te.remote.owner.toLowerCase()===p.owner.toLowerCase()&&te.remote.repositoryName.toLowerCase()===p.repositoryName.toLowerCase());if(!M)return a;const{remote:B,query:z,schema:K}=await M.ensure();try{const{data:te}=await z({query:K.PullRequestState,variables:{owner:B.owner,name:B.repositoryName,number:p.prNumber}});a.legacy=te.repository.pullRequest.state!=="OPEN"}catch{}return a}));return i.forEach(a=>{a.legacy?a.picked=!0:a.description=`${a.description} is still Open`}),i}async getRemoteDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(i=>{const a=i.key;let p=/^branch\.(.*)\.(.*)$/.exec(a);if(p&&p.length===3){const M=p[1];if(p[2]==="remote"){const B=i.value;e.has(B)||e.set(B,{branches:new Set}),e.get(B).branches.add(M)}}if(p=/^remote\.(.*)\.(.*)$/.exec(a),p&&p.length===3){const M=p[1];e.has(M)||e.set(M,{branches:new Set});const B=e.get(M);p[2]==="github-pr-remote"&&(B.createdForPullRequest=i.value==="true"),p[2]==="url"&&(B.url=i.value)}});const r=[];return e.forEach((i,a)=>{if(i.branches.size===0){let p=i.createdForPullRequest?"":"Not created by GitHub Pull Request extension";i.url&&(p=p?p+" "+i.url:i.url),r.push({label:a,description:p,picked:i.createdForPullRequest,remote:a})}}),r}async deleteLocalBranchesNRemotes(){return new Promise(async t=>{const e=b.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder="Choose local branches you want to delete permanently",e.show(),e.busy=!0;const r=await this.getBranchDeletionItems();e.items=r,e.selectedItems=r.filter(a=>a.picked),e.busy=!1;let i=!0;e.onDidAccept(async()=>{if(i){const a=e.selectedItems;if(a.length){e.busy=!0;try{await Promise.all(a.map(async M=>{await this.repository.deleteBranch(M.label,!0)})),e.busy=!1}catch(M){e.hide(),b.window.showErrorMessage(`Deleting branches failed: ${M}`)}}i=!1,e.busy=!0;const p=await this.getRemoteDeletionItems();p?(e.placeholder="Choose remotes you want to delete permanently",e.busy=!1,e.items=p,e.selectedItems=p.filter(M=>M.picked)):e.hide()}else{const a=e.selectedItems;a.length&&(e.busy=!0,await Promise.all(a.map(async p=>{await this.repository.removeRemote(p.label)})),e.busy=!1),e.hide()}}),e.onDidHide(()=>{t()})})}async getPullRequestRepositoryDefaultBranch(t){return await t.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(t){return await t.githubRepository.getRepoAccessAndMergeMethods()}async fulfillPullRequestMissingInfo(t){try{if(!t.isResolved())return;n.debug("Fulfill pull request missing info - start",wr.ID);const e=t.githubRepository,{octokit:r,remote:i}=await e.ensure();if(!t.base){const{data:a}=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:t.number});t.update(ri(a,e))}if(!t.mergeBase){const{data:a}=await r.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:`${t.base.repositoryCloneUrl.owner}:${t.base.ref}`,head:`${t.head.repositoryCloneUrl.owner}:${t.head.ref}`});t.mergeBase=a.merge_base_commit.sha}}catch(e){b.window.showErrorMessage(`Fetching Pull Request merge base failed: ${L(e)}`)}n.debug("Fulfill pull request missing info - done",wr.ID)}async resolveItem(t,e){let r=this._githubRepositories.find(i=>i.remote.owner.toLowerCase()===t.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.toLowerCase());return r||(r=this.createGitHubRepositoryFromOwnerName(t,e)),r}async resolvePullRequest(t,e,r){const i=await this.resolveItem(t,e);if(i)return i.getPullRequest(r)}async resolveIssue(t,e,r,i=!1){const a=await this.resolveItem(t,e);if(a)return a.getIssue(r,i)}async resolveUser(t,e,r){n.debug(`Fetch user ${r}`,wr.ID);const i=this.createGitHubRepositoryFromOwnerName(t,e),{query:a,schema:p}=await i.ensure();try{const{data:M}=await a({query:p.GetUser,variables:{login:r}});return Rh(M,i)}catch(M){console.log(M)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await yr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(){if(!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name||!this.repository.state.HEAD.upstream)return null;for(const t of this.gitHubRepositories)if(t.remote.remoteName===this.repository.state.HEAD.upstream.remote){const e=await t.getPullRequestForBranch(this.repository.state.HEAD.upstream.name);if(e&&e.length>0)return{owner:t.remote.owner,repositoryName:t.remote.repositoryName,prNumber:e[0].number,model:e[0]};break}return null}async checkoutExistingPullRequestBranch(t){return await yr.checkoutExistingPullRequestBranch(this.repository,t)}async getBranchNameForPullRequest(t){return await yr.getBranchNRemoteForPullRequest(this.repository,t)}async fetchAndCheckout(t){await yr.fetchAndCheckout(this.repository,this._allGitHubRemotes,t)}async checkout(t){return this.repository.checkout(t)}async checkoutDefaultBranch(t){var e;try{const r=await this.repository.getBranch(t);if(((e=this.repository.state.HEAD)==null?void 0:e.name)===r.name){b.window.showInformationMessage("The default branch is already checked out.");return}r.upstream&&t===r.upstream.name?await this.repository.checkout(t):await b.commands.executeCommand("git.checkout")}catch(r){if(r.gitErrorCode&&r.gitErrorCode===q.DirtyWorkTree){b.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}b.window.showErrorMessage(`Exiting failed: ${r}`)}}createGitHubRepository(t,e){return new _i(t,e,this.telemetry,this._sessionState)}createGitHubRepositoryFromOwnerName(t,e){const r=`https://github.com/${t}/${e}`;return new _i(new Sn(e,r,new Bt(r)),this._credentialStore,this.telemetry,this._sessionState)}async findUpstreamForItem(t){let e,r;for(const a of this.gitHubRepositories){if(!e&&a.remote.owner===t.remote.owner&&a.remote.repositoryName===t.remote.repositoryName){e=a;continue}const p=await a.getRepositoryForkDetails();if(p&&p.isFork&&p.parent.owner.login===t.remote.owner&&p.parent.name===t.remote.repositoryName){const M=await a.getViewerPermission();if(M===Zt.Admin||M===Zt.Maintain||M===Zt.Write){r=a.remote;break}}}let i=!1;if(e&&!r){const a=await t.githubRepository.getViewerPermission();(a===Zt.Read||a===Zt.Triage||a===Zt.Unknown)&&(i=!0)}return{needsFork:i,upstream:e,remote:r}}async forkWithProgress(t,e,r,i){t.report({message:`Forking ${r}...`});const a=await e.fork();if(t.report({increment:50}),!a){b.window.showErrorMessage(`Unable to create a fork of ${r}. Check that your GitHub credentials are correct.`);return}const p=i.state.remotes.length>1?"origin":i.state.remotes[0].name;return t.report({message:"Adding remotes. This may take a few moments."}),await i.renameRemote(p,"upstream"),await i.addRemote(p,a),await new Promise(M=>{if(this.gitHubRepositories.length===0){const B=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(B.dispose(),M())})}else M()}),t.report({increment:50}),p}async doFork(t,e,r){return b.window.withProgress({location:b.ProgressLocation.Notification,title:"Creating Fork"},async i=>{try{return this.forkWithProgress(i,t,e,r)}catch(a){b.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(t){const e=`${t.remote.owner}/${t.remote.repositoryName}`,r="Fork",i="Don't Fork";switch(await b.window.showInformationMessage(`You don't have permission to push to ${e}. Do you want to fork ${e}? This will modify your git remotes to set \`origin\` to the fork, and \`upstream\` to ${e}.`,{modal:!0},r,i)){case r:return this.doFork(t,e,this.repository);case i:return!1;default:return}}dispose(){this._subs.forEach(t=>t.dispose())}};let Si=wr;gt(Si,"ID","FolderRepositoryManager");function v0(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const gh=t=>{const{currentUser:e=null}=t.octokit;return e&&t.remote.owner===e.login},ki=t=>({remote:{remoteName:e}})=>e===t,Hs=t=>{const e=t.indexOf(`
`);return{title:e===-1?t:t.substr(0,e),body:e===-1?"":t.slice(e+1).trim()}};function Vi(t,e,r,i){const a=i.createCommentThread(t,e,[]);return a.gitHubThreadId=r.id,a.comments=r.comments.map(p=>new Ct(p,a)),a.isResolved=r.isResolved,r.viewerCanResolve&&!r.isResolved?a.contextValue="canResolve":r.viewerCanUnresolve&&r.isResolved&&(a.contextValue="canUnresolve"),Ei(a),a.collapsibleState=wu(r.isResolved),a}const Pn="commentExpandState",g0="collapseAll",Gs="expandUnresolved";function wu(t,e){var r;return t?b.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((r=b.workspace.getConfiguration(Wt))==null?void 0:r.get(Pn))===Gs),e?b.CommentThreadCollapsibleState.Expanded:b.CommentThreadCollapsibleState.Collapsed)}function An(t,e,r){e.viewerCanResolve&&!e.isResolved?t.contextValue="canResolve":e.viewerCanUnresolve&&e.isResolved&&(t.contextValue="canUnresolve"),t.isResolved!==e.isResolved&&(t.isResolved=e.isResolved),t.collapsibleState=wu(e.isResolved,r),t.comments=e.comments.map(i=>new Ct(i,t)),Ei(t)}function Ei(t){if(t.isResolved){t.label="This thread has been marked as resolved";return}if(t.comments.length){const e=A(t.comments,r=>r.author.name).map(r=>`@${r.author.name}`).join(", ");t.label=`Participants: ${e}`}else t.label="Start discussion"}function bh(t){return Fn().map(e=>{if(!t)return{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""};const r=t.find(i=>i.label===e.label);return r?{label:r.label,authorHasReacted:r.viewerHasReacted,count:r.count,iconPath:e.icon||""}:{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""}})}function yh(t,e){t.reactions=bh(e)}function _u(t,e){e||(t.comments=t.comments.map(r=>(r instanceof Ct&&(r._rawComment.isDraft=!1),r.label=void 0,r)))}function Wr(t,e){var r;return{login:t.login,url:t.html_url,avatarUrl:Ks(t.avatar_url,(r=t.gravatar_id)!=null?r:void 0,e.remote.authProviderId)}}function Su(t){return{label:t.label,ref:t.ref,sha:t.sha,repo:{cloneUrl:t.repo.clone_url}}}function ri(t,e){const{number:r,body:i,title:a,html_url:p,user:M,state:B,assignees:z,created_at:K,updated_at:te,head:ae,base:de,labels:_e,node_id:Se,id:Re,draft:Pe}=t;return{id:Re,graphNodeId:Se,number:r,body:i!=null?i:"",title:a,url:p,user:Wr(M,e),state:B,merged:t.merged||!1,assignees:z?z.map(Ue=>Wr(Ue,e)):void 0,createdAt:K,updatedAt:te,head:Su(ae),base:Su(de),mergeable:t.mergeable?Hr.Mergeable:Hr.NotMergeable,labels:_e.map(Ue=>({name:"",color:"",...Ue})),isDraft:Pe,suggestedReviewers:[]}}function wh(t,e){const{number:r,body:i,title:a,html_url:p,user:M,state:B,assignees:z,created_at:K,updated_at:te,labels:ae,node_id:de,id:_e}=t;return{id:_e,graphNodeId:de,number:r,body:i!=null?i:"",title:a,url:p,user:Wr(M,e),state:B,assignees:z?z.map(Re=>Wr(Re,e)):void 0,createdAt:K,updatedAt:te,labels:ae.map(Re=>{var Pe,xe;return typeof Re=="string"?{name:Re,color:""}:{name:(Pe=Re.name)!=null?Pe:"",color:(xe=Re.color)!=null?xe:""}}),suggestedReviewers:[]}}function _h(t,e){return{event:Tt.Reviewed,comments:[],submittedAt:t.submitted_at,body:t.body,bodyHTML:t.body,htmlUrl:t.html_url,user:Wr(t.user,e),authorAssociation:t.user.type,state:t.state,id:t.id}}function ku(t){const e=[],r=Ht(t.diffHunk);let i=r.next();for(;!i.done;){const a=i.value;e.push(a),i=r.next()}return e}function b0(t,e){var r;const i={url:t.url,id:t.id,pullRequestReviewId:(r=t.pull_request_review_id)!=null?r:void 0,diffHunk:t.diff_hunk,path:t.path,position:t.position,commitId:t.commit_id,originalPosition:t.original_position,originalCommitId:t.original_commit_id,user:Wr(t.user,e),body:t.body,createdAt:t.created_at,htmlUrl:t.html_url,inReplyToId:t.in_reply_to_id,graphNodeId:t.node_id},a=ku(i);return i.diffHunks=a,i}function Sh(t){switch(t){case"PullRequestCommit":return Tt.Committed;case"LabeledEvent":return Tt.Labeled;case"MilestonedEvent":return Tt.Milestoned;case"AssignedEvent":return Tt.Assigned;case"HeadRefDeletedEvent":return Tt.HeadRefDeleted;case"IssueComment":return Tt.Commented;case"PullRequestReview":return Tt.Reviewed;case"MergedEvent":return Tt.Merged;default:return Tt.Other}}function In(t){return{id:t.id,isResolved:t.isResolved,viewerCanResolve:t.viewerCanResolve,viewerCanUnresolve:t.viewerCanUnresolve,path:t.path,line:t.line,originalLine:t.originalLine,diffSide:t.diffSide,isOutdated:t.isOutdated,comments:t.comments.nodes.map(e=>Ri(e,t.isResolved))}}function Ri(t,e){const r={id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,path:t.path,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,pullRequestReviewId:t.pullRequestReview&&t.pullRequestReview.databaseId,diffHunk:t.diffHunk,position:t.position,commitId:t.commit.oid,originalPosition:t.originalPosition,originalCommitId:t.originalCommit&&t.originalCommit.oid,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,isDraft:t.state==="PENDING",inReplyToId:t.replyTo&&t.replyTo.databaseId,reactions:Ru(t.reactionGroups),isResolved:e},i=ku(r);return r.diffHunks=i,r}function Eu(t){return{id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,diffHunk:""}}function Ru(t){const e=Fn().reduce((i,a)=>(i[a.title]=a,i),{});return t.filter(i=>i.users.totalCount>0).map(i=>({label:e[i.content].label,count:i.users.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted}))}function Dn(t,e,r){if(!!r)return{label:`${r.owner.login}:${t}`,ref:t,sha:e,repo:{cloneUrl:r.url}}}function _r(t,e){return t?{login:t.login,url:t.url,avatarUrl:Ks(t.avatarUrl,void 0,e.remote.authProviderId),email:t.email}:{login:"",url:""}}function Vs(t){if(!!t)return{title:t.title,dueOn:t.dueOn,createdAt:t.createdAt,id:t.id}}function js(t){switch(t){case"UNKNOWN":return Hr.Unknown;case"MERGEABLE":return Hr.Mergeable;case"CONFLICTING":return Hr.NotMergeable}}function Mu(t,e){var r,i,a,p,M,B;const z=t.repository.pullRequest;return{id:z.databaseId,graphNodeId:z.id,url:z.url,number:z.number,state:z.state,body:z.body,bodyHTML:z.bodyHTML,title:z.title,createdAt:z.createdAt,updatedAt:z.updatedAt,isRemoteHeadDeleted:!z.headRef,head:Dn((i=(r=z.headRef)==null?void 0:r.name)!=null?i:z.headRefName,z.headRefOid,z.headRepository),isRemoteBaseDeleted:!z.baseRef,base:Dn((p=(a=z.baseRef)==null?void 0:a.name)!=null?p:z.baseRefName,z.baseRefOid,z.baseRepository),user:_r(z.author,e),merged:z.merged,mergeable:js(z.mergeable),labels:z.labels.nodes,isDraft:z.isDraft,suggestedReviewers:xu(z.suggestedReviewers),comments:kh((M=z.comments)==null?void 0:M.nodes,e),milestone:Vs(z.milestone),assignees:(B=z.assignees)==null?void 0:B.nodes.map(K=>_r(K,e))}}function kh(t,e){if(!t)return;const r=[];for(const i of t)r.push({author:_r(i.author,e),body:i.body,databaseId:i.databaseId});return r}function zs(t,e){var r,i,a,p;return{id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,createdAt:t.createdAt,updatedAt:t.updatedAt,assignees:(r=t.assignees)==null?void 0:r.nodes.map(M=>_r(M,e)),user:_r(t.author,e),labels:t.labels.nodes,repositoryName:(i=t.repository)==null?void 0:i.name,repositoryOwner:(a=t.repository)==null?void 0:a.owner.login,repositoryUrl:(p=t.repository)==null?void 0:p.url}}function y0(t,e){var r,i,a,p;const M=t;return{id:M.databaseId,graphNodeId:M.id,url:M.url,number:M.number,state:M.state,body:M.body,bodyHTML:M.bodyHTML,title:M.title,createdAt:M.createdAt,updatedAt:M.updatedAt,isRemoteHeadDeleted:!M.headRef,head:Dn((i=(r=M.headRef)==null?void 0:r.name)!=null?i:M.headRefName,M.headRefOid,M.headRepository),isRemoteBaseDeleted:!M.baseRef,base:Dn((p=(a=M.baseRef)==null?void 0:a.name)!=null?p:M.baseRefName,M.baseRefOid,M.baseRepository),user:_r(M.author,e),merged:M.merged,mergeable:js(M.mergeable),labels:M.labels.nodes,isDraft:M.isDraft,suggestedReviewers:xu(M.suggestedReviewers),milestone:Vs(M.milestone)}}function xu(t){return t?t.map(r=>({login:r.reviewer.login,avatarUrl:r.reviewer.avatarUrl,name:r.reviewer.name,url:r.reviewer.url,isAuthor:r.isAuthor,isCommenter:r.isCommenter})).sort(Tu):[]}function Tu(t,e){return t.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function Eh(t,e){return{event:Tt.Reviewed,comments:t.comments.nodes.map(r=>Ri(r,!1)).filter(r=>!r.inReplyToId),submittedAt:t.submittedAt,body:t.body,bodyHTML:t.bodyHTML,htmlUrl:t.url,user:_r(t.author,e),authorAssociation:t.authorAssociation,state:t.state,id:t.databaseId}}function Cu(t,e){const r=[];return t.forEach(i=>{const a=Sh(i.__typename);switch(a){case Tt.Commented:const p=i;r.push({htmlUrl:p.url,body:p.body,bodyHTML:p.bodyHTML,user:_r(p.author,e),event:a,canEdit:p.viewerCanUpdate,canDelete:p.viewerCanDelete,id:p.databaseId,graphNodeId:p.id,createdAt:p.createdAt});return;case Tt.Reviewed:const M=i;r.push({event:a,comments:[],submittedAt:M.submittedAt,body:M.body,bodyHTML:M.bodyHTML,htmlUrl:M.url,user:_r(M.author,e),authorAssociation:M.authorAssociation,state:M.state,id:M.databaseId});return;case Tt.Committed:const B=i;r.push({id:B.databaseId,event:a,sha:B.commit.oid,author:B.commit.author.user?_r(B.commit.author.user,e):{login:B.commit.committer.name},htmlUrl:B.url,message:B.commit.message,authoredDate:new Date(B.commit.authoredDate)});return;case Tt.Merged:const z=i;r.push({id:z.databaseId,event:a,user:_r(z.actor,e),createdAt:z.createdAt,mergeRef:z.mergeRef.name,sha:z.commit.oid,commitUrl:z.commit.commitUrl,url:z.url,graphNodeId:z.id});return;case Tt.Assigned:const K=i;r.push({id:K.databaseId,event:a,user:K.user,actor:K.actor});return;case Tt.HeadRefDeleted:const te=i;r.push({id:te.id,event:a,actor:te.actor,createdAt:te.createdAt,headRef:te.headRefName});return;default:break}}),r}function Rh(t,e){return{login:t.user.login,name:t.user.name,avatarUrl:t.user.avatarUrl?Ks(t.user.avatarUrl,void 0,e.remote.authProviderId):void 0,url:t.user.url,bio:t.user.bio,company:t.user.company,location:t.user.location,commitContributions:Mh(t.user.contributionsCollection)}}function Mh(t){const e=[];return t.commitContributionsByRepository.forEach(r=>{r.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:r.repository.nameWithOwner})})}),e}function Fn(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:xr.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:xr.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:xr.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:xr.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:xr.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:xr.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:xr.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:xr.icons.reactions.EYES}]}function xh(t){const e=[];return t.forEach(r=>{var i,a;hl(r)&&e.push({login:r.author.login,name:r.author.name||""}),Vn(r)&&e.push({login:r.user.login,name:(i=r.user.name)!=null?i:r.user.login}),pl(r)&&e.push({login:r.user.login,name:(a=r.user.name)!=null?a:r.user.login})}),e}function Th(t){return t&&t.repository.viewerPermission&&Object.values(Zt).includes(t.repository.viewerPermission)?t.repository.viewerPermission:Zt.Unknown}function Nu(t,e){for(const r of t.repositories)if(e.path.toLowerCase()===r.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(r.rootUri.path.toLowerCase())&&e.path.substring(r.rootUri.path.length).startsWith("/"))return r}function Pu(t,e,r){const i=e.filter(Vn).filter(M=>M.state!=="PENDING");let a=[];const p=new Map;p.set(r.login,!0);for(let M=i.length-1;M>=0;M--){const B=i[M].user;p.get(B.login)||(p.set(B.login,!0),a.push({reviewer:B,state:i[M].state}))}return t.forEach(M=>{if(!p.get(M.login))a.push({reviewer:M,state:"REQUESTED"});else{const B=a.find(z=>z.reviewer.login===M.login);B.state="REQUESTED"}}),a=a.sort((M,B)=>M.state==="REQUESTED"&&B.state!=="REQUESTED"?1:B.state==="REQUESTED"&&M.state!=="REQUESTED"||M.reviewer.login.toLowerCase()<B.reviewer.login.toLowerCase()?-1:1),a}function Ch(t,e,r){return`is:pull-request ${r.replace(/\$\{user\}/g,e)} type:pr repo:${t}`}function Ws(){return b.env.remoteName==="codespaces"&&b.env.uiKind===b.UIKind.Web}function Qs(){const t=b.workspace.getConfiguration("github-enterprise").get("uri","");if(t)return b.Uri.parse(t,!0)}function Mi(){return!!Qs()}function Nh(t,e=200){return t?`https://www.gravatar.com/avatar/${t}?s=${e}&d=retro`:void 0}function Ks(t,e,r){var i;return r===pt.github?t:e?Nh(vl.js("md5").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0}var Ph=Object.defineProperty,Lt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ph(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const On=class{constructor(t,e,r,i=!1){Lt(this,"id"),Lt(this,"graphNodeId"),Lt(this,"number"),Lt(this,"title"),Lt(this,"html_url"),Lt(this,"state",wt.Open),Lt(this,"author"),Lt(this,"assignees"),Lt(this,"createdAt"),Lt(this,"updatedAt"),Lt(this,"milestone"),Lt(this,"githubRepository"),Lt(this,"remote"),Lt(this,"item"),Lt(this,"bodyHTML"),this.githubRepository=t,this.remote=e,this.item=r,i||this.update(r)}get isOpen(){return this.state===wt.Open}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const t=this.userAvatar;if(t){const e=b.Uri.parse(`${t}&s=${64}`),r=e.toString;return e.toString=function(i){return r.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(t){t.toLowerCase()==="open"?this.state=wt.Open:this.state=wt.Closed}update(t){this.id=t.id,this.graphNodeId=t.graphNodeId,this.number=t.number,this.title=t.title,this.bodyHTML=t.bodyHTML,this.html_url=t.url,this.author=t.user,this.milestone=t.milestone,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.updateState(t.state),t.assignees&&(this.assignees=t.assignees),this.item=t}equals(t){return!(!t||this.number!==t.number||this.html_url!==t.html_url)}async edit(t){try{const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:t.body,title:t.title}}});return i.updatePullRequest.pullRequest}catch(e){throw new Error(L(e))}}canEdit(){const t=this.author&&this.author.login;return this.githubRepository.isCurrentUser(t)}async getIssueComments(){n.debug(`Fetch issue comments of PR #${this.number} - enter`,On.ID);const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.issues.listComments({owner:e.owner,repo:e.repositoryName,issue_number:this.number,per_page:100});return n.debug(`Fetch issue comments of PR #${this.number} - done`,On.ID),r.data}async createIssueComment(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:t}}});return Eu(i.addComment.commentEdge.node)}async editIssueComment(t,e){try{const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:a}=await r({mutation:i.EditIssueComment,variables:{input:{id:t.graphNodeId,body:e}}});return Eu(a.updateIssueComment.issueComment)}catch(r){throw new Error(L(r))}}async deleteIssueComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.deleteComment({owner:r.owner,repo:r.repositoryName,comment_id:Number(t)})}catch(e){throw new Error(L(e))}}async addLabels(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addLabels({owner:r.owner,repo:r.repositoryName,issue_number:this.number,labels:t})}async removeLabel(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeLabel({owner:r.owner,repo:r.repositoryName,issue_number:this.number,name:t})}async getIssueTimelineEvents(){n.debug(`Fetch timeline events of issue #${this.number} - enter`,On.ID);const t=this.githubRepository,{query:e,remote:r,schema:i}=await t.ensure();try{const{data:a}=await e({query:i.IssueTimelineEvents,variables:{owner:r.owner,name:r.repositoryName,number:this.number}}),p=a.repository.pullRequest.timelineItems.nodes;return Cu(p,t)}catch(a){return console.log(a),[]}}};let Ot=On;Lt(Ot,"ID","IssueModel");var Ah=Object.defineProperty,St=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ah(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Sr=class extends Ot{constructor(t,e,r,i,a){super(e,r,i,!0);St(this,"isDraft"),St(this,"localBranchName"),St(this,"mergeBase"),St(this,"suggestedReviewers"),St(this,"_hasPendingReview",!1),St(this,"_onDidChangePendingReviewState",new b.EventEmitter),St(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),St(this,"_reviewThreadsCache",[]),St(this,"_reviewThreadsCacheInitialized",!1),St(this,"_onDidChangeReviewThreads",new b.EventEmitter),St(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),St(this,"fileChangeViewedState",{}),St(this,"_onDidChangeFileViewedState",new b.EventEmitter),St(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),St(this,"isActive"),St(this,"_telemetry"),St(this,"isRemoteHeadDeleted"),St(this,"head"),St(this,"isRemoteBaseDeleted"),St(this,"base"),this._telemetry=t,this.isActive=!!a,this.update(i)}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){if(this._reviewThreadsCacheInitialized)return this._reviewThreadsCache;throw new Error("Cache has not been initialized yet")}get isMerged(){return this.state===wt.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(t){this._hasPendingReview!==t&&(this._hasPendingReview=t,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}updateState(t){t.toLowerCase()==="open"?this.state=wt.Open:this.state=this.item.merged?wt.Merged:wt.Closed}update(t){super.update(t),this.isDraft=t.isDraft,this.suggestedReviewers=t.suggestedReviewers,t.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=t.isRemoteHeadDeleted),t.head&&(this.head=new ma(t.head.ref,t.head.label,t.head.sha,t.head.repo.cloneUrl)),t.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=t.isRemoteBaseDeleted),t.base&&(this.base=new ma(t.base.ref,t.base.label,t.base.sha,t.base.repo.cloneUrl))}isResolved(){return!!this.head}validatePullRequestModel(t){if(this.head)return!0;const e=`There is no upstream branch for Pull Request #${this.number}. View it on GitHub for more details`;return t?t+=`: ${e}`:t=e,b.window.showWarningMessage(t,"Open on GitHub").then(r=>{r&&r==="Open on GitHub"&&b.commands.executeCommand("vscode.open",b.Uri.parse(this.html_url))}),!1}async approve(t){return(await this.getPendingReviewId()?this.submitReview(Dr.Approve,t):this.createReview(Dr.Approve,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.approve"),r))}async requestChanges(t){return(await this.getPendingReviewId()?this.submitReview(Dr.RequestChanges,t):this.createReview(Dr.RequestChanges,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),r))}async close(){const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.pulls.update({owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),ri(r.data,this.githubRepository)}async createReview(t,e){const{octokit:r,remote:i}=await this.githubRepository.ensure(),{data:a}=await r.pulls.createReview({owner:i.owner,repo:i.repositoryName,pull_number:this.number,event:t,body:e});return _h(a,this.githubRepository)}async submitReview(t,e){const r=await this.getPendingReviewId(),{mutate:i,schema:a}=await this.githubRepository.ensure();if(r){const{data:p}=await i({mutation:a.SubmitReview,variables:{id:r,event:t||Dr.Comment,body:e}});this.hasPendingReview=!1,await this.updateDraftModeContext();const M=Eh(p.submitPullRequestReview.pullRequestReview,this.githubRepository),B=this._reviewThreadsCache.find(z=>z.comments.length?z.comments[0].pullRequestReviewId===M.id:void 0);return B&&(B.comments=M.comments,this._onDidChangeReviewThreads.fire({added:[],changed:[B],removed:[]})),M}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),i=t==="null"?null:t;try{await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:i}}})}catch(a){n.appendLine(a)}}async updateAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:t})}async getPendingReviewId(){const{query:t,schema:e}=await this.githubRepository.ensure(),r=await this.githubRepository.getAuthenticatedUser();try{const{data:i}=await t({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:r}});return i.node.reviews.nodes.length>0?i.node.reviews.nodes[0].id:void 0}catch(i){return}}async deleteReview(){const t=await this.getPendingReviewId(),{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.DeleteReview,variables:{input:{pullRequestReviewId:t}}}),{comments:a,databaseId:p}=i.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:p,deletedReviewComments:a.nodes.map(M=>Ri(M,!1))}}async startReview(t){var e;const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:a}=await r({mutation:i.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:t||((e=this.head)==null?void 0:e.sha)}}});if(!a)throw new Error("Failed to start review");return a.addPullRequestReview.pullRequestReview.id}async createReviewThread(t,e,r,i,a){if(!this.validatePullRequestModel("Creating comment failed"))return;const p=await this.getPendingReviewId(),{mutate:M,schema:B}=await this.githubRepository.ensure(),{data:z}=await M({mutation:B.AddReviewThread,variables:{input:{path:e,body:t,pullRequestId:this.graphNodeId,pullRequestReviewId:p,line:r,side:i}}});if(!z)throw new Error("Creating review thread failed.");a||(this.hasPendingReview=!0,await this.updateDraftModeContext());const K=z.addPullRequestReviewThread.thread,te=In(K);return this._reviewThreadsCache.push(te),this._onDidChangeReviewThreads.fire({added:[te],changed:[],removed:[]}),te}async createCommentReply(t,e,r,i){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let p=await this.getPendingReviewId();p||(p=await this.startReview(i));const{mutate:M,schema:B}=await this.githubRepository.ensure(),{data:z}=await M({mutation:B.AddComment,variables:{input:{pullRequestReviewId:p,body:t,inReplyTo:e,commitOID:i||((a=this.head)==null?void 0:a.sha)}}});if(!z)throw new Error("Creating comment reply failed.");const{comment:K}=z.addPullRequestReviewComment,te=Ri(K,!1);r&&(te.isDraft=!1);const ae=this._reviewThreadsCache.find(de=>de.comments.some(_e=>_e.graphNodeId===e));return ae&&(ae.comments.push(te),this._onDidChangeReviewThreads.fire({added:[],changed:[ae],removed:[]})),te}async validateDraftMode(){const t=!!await this.getPendingReviewId();return t!==this.hasPendingReview&&(this.hasPendingReview=t),await this.updateDraftModeContext(),t}async updateDraftModeContext(){this.isActive&&await b.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(t,e){const{mutate:r,schema:i}=await this.githubRepository.ensure();let a=this._reviewThreadsCache.find(B=>B.comments.some(z=>z.graphNodeId===t.graphNodeId));if(!a)return this.editIssueComment(t,e);const{data:p}=await r({mutation:i.EditComment,variables:{input:{pullRequestReviewCommentId:t.graphNodeId,body:e}}});if(!p)throw new Error("Editing review comment failed.");const M=Ri(p.updatePullRequestReviewComment.pullRequestReviewComment,!!t.isResolved);if(a){const B=a.comments.findIndex(z=>z.graphNodeId===t.graphNodeId);a.comments.splice(B,1,M),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}return M}async deleteReviewComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure(),i=Number(t),a=this._reviewThreadsCache.findIndex(p=>p.comments.some(M=>M.id===i));if(a===-1)this.deleteIssueComment(t);else if(await e.pulls.deleteReviewComment({owner:r.owner,repo:r.repositoryName,comment_id:i}),a>-1){const p=this._reviewThreadsCache[a],M=p.comments.findIndex(B=>B.id===i);p.comments.splice(M,1),p.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[p]})):this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}catch(e){throw new Error(L(e))}}async getReviewRequests(){const t=this.githubRepository,{remote:e,octokit:r}=await t.ensure();return(await r.pulls.listRequestedReviewers({owner:e.owner,repo:e.repositoryName,pull_number:this.number})).data.users.map(a=>Wr(a,t))}async requestReview(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.requestReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:t})}async deleteReviewRequest(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.removeRequestedReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:[t]})}async deleteAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:[t]})}diffThreads(t){const e=[],r=[],i=[];t.forEach(a=>{const p=this._reviewThreadsCache.find(M=>M.id===a.id);p?Er()(a,p)||r.push(a):e.push(a)}),this._reviewThreadsCache.forEach(a=>{t.find(p=>p.id===a.id)||i.push(a)}),this._onDidChangeReviewThreads.fire({added:e,changed:r,removed:i})}async getReviewThreads(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}}),a=i.repository.pullRequest.reviewThreads.nodes.map(p=>In(p));return this.diffThreads(a),this._reviewThreadsCache=a,a}catch(i){return n.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getReviewComments(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});return i.repository.pullRequest.reviewThreads.nodes.map(p=>p.comments.nodes.map(M=>Ri(M,p.isResolved),t)).reduce((p,M)=>p.concat(M),[]).sort((p,M)=>p.createdAt>M.createdAt?1:-1)}catch(i){return n.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getCommits(){try{n.debug(`Fetch commits of PR #${this.number} - enter`,Sr.ID);const{remote:t,octokit:e}=await this.githubRepository.ensure(),r=await e.pulls.listCommits({pull_number:this.number,owner:t.owner,repo:t.repositoryName});return n.debug(`Fetch commits of PR #${this.number} - done`,Sr.ID),r.data}catch(t){return b.window.showErrorMessage(`Fetching commits failed: ${L(t)}`),[]}}async getCommitChangedFiles(t){var e,r;try{n.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - enter`,Sr.ID);const{octokit:i,remote:a}=await this.githubRepository.ensure(),p=await i.repos.getCommit({owner:a.owner,repo:a.repositoryName,ref:t.sha});return n.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - done`,Sr.ID),(r=(e=p.data.files)==null?void 0:e.filter(M=>!!M.patch))!=null?r:[]}catch(i){return b.window.showErrorMessage(`Fetching commit file changes failed: ${L(i)}`),[]}}async getFile(t,e){var r;const{octokit:i,remote:a}=await this.githubRepository.ensure(),p=await i.repos.getContent({owner:a.owner,repo:a.repositoryName,path:t,ref:e});if(Array.isArray(p.data))throw new Error(`Unexpected array response when getting file ${t}`);const M=(r=p.data.content)!=null?r:"";return Qe.Buffer.from(M,p.data.encoding).toString()}async getTimelineEvents(){n.debug(`Fetch timeline events of PR #${this.number} - enter`,Sr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await t({query:r.TimelineEvents,variables:{owner:e.owner,name:e.repositoryName,number:this.number}}),a=i.repository.pullRequest.timelineItems.nodes,p=Cu(a,this.githubRepository);return await this.addReviewTimelineEventComments(p),p}catch(i){return console.log(i),[]}}async addReviewTimelineEventComments(t){const e=t.filter(Vn),i=(await this.getReviewThreads()).reduce((K,te)=>K.concat(te.comments),[]),a=e.reduce((K,te)=>(K[te.id]=te,te.comments=[],K),{}),p=i.reduce((K,te)=>(K[te.id]=te,K),{}),M=[];let B=i.length;for(;B-- >0;){const K=i[B];if(!K.inReplyToId){M.unshift(K);continue}const te=p[K.inReplyToId];te.childComments=te.childComments||[],te.childComments=[K,...K.childComments||[],...te.childComments]}M.forEach(K=>{const te=a[K.pullRequestReviewId];te&&(te.comments=te.comments.concat(K).concat(K.childComments||[]))});const z=e.filter(K=>K.state.toLowerCase()==="pending")[0];z&&(z.comments=i.filter(K=>K.isDraft))}async getStatusChecks(){var t;const{query:e,remote:r,schema:i}=await this.githubRepository.ensure();let a;try{a=await e({query:i.GetChecks,variables:{owner:r.owner,name:r.repositoryName,number:this.number}})}catch(M){if((t=M.message)==null?void 0:t.startsWith("GraphQL error: Resource protected by organization SAML enforcement."))return{state:"pending",statuses:[]}}const p=a.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup;return p?{state:p.state.toLowerCase(),statuses:p.contexts.nodes.map(M=>{var B,z,K,te;return ml(M)?{id:M.id,url:(B=M.checkSuite.app)==null?void 0:B.url,avatar_url:(z=M.checkSuite.app)==null?void 0:z.logoUrl,state:((K=M.conclusion)==null?void 0:K.toLowerCase())||"pending",description:M.title,context:M.name,target_url:M.detailsUrl}:{id:M.id,url:M.targetUrl,avatar_url:M.avatarUrl,state:(te=M.state)==null?void 0:te.toLowerCase(),description:M.description,context:M.context,target_url:M.targetUrl}})}:{state:"pending",statuses:[]}}static async openDiffFromComment(t,e,r){const i=await e.getFileChangesInfo(),a=e.mergeBase||e.base.sha,M=(await Vt(i,t.repository,a)).find(te=>te.fileName===r.path||te.previousFileName===r.path);if(!M)throw new Error("Can't find matching file");let B,z;if(e.equals(t.activePullRequest)){const te=b.Uri.file(c.resolve(t.repository.rootUri.fsPath,M.fileName));B=M.status===it.DELETE?pe(te,void 0,void 0,"",!1,{base:!1},t.repository.rootUri):te,z=pe(te,M.status===it.RENAME?M.previousFileName:M.fileName,void 0,M.status===it.ADD?"":a,!1,{base:!0},t.repository.rootUri)}else{const te=e.head.sha,ae=M.status===it.RENAME?M.previousFileName:M.fileName;B=Ne(b.Uri.file(Ie(t.repository.rootUri,M.fileName)),e,M.baseCommit,te,M.fileName,!1,M.status),z=Ne(b.Uri.file(Ie(t.repository.rootUri,ae)),e,M.baseCommit,te,M.fileName,!0,M.status)}const K=r.path.split("/");b.commands.executeCommand("vscode.diff",z,B,`${K[K.length-1]} (Pull Request)`,{})}async getFileChangesInfo(){n.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,Sr.ID);const t=this.githubRepository,{octokit:e,remote:r}=await t.ensure();if(!this.base){const M=await e.pulls.get({owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(ri(M.data,t))}if(this.item.merged){const M=await e.pulls.listFiles({repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,M.data}const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.base.repositoryCloneUrl.owner}:${this.base.ref}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.ref}`});this.mergeBase=i.merge_base_commit.sha;const a=300;let p=[];return i.files.length>=a?(n.debug(`More than ${a} files changed, fetching all file changes of PR #${this.number}`,Sr.ID),p=await e.paginate("GET /repos/:owner/:repo/pulls/:pull_number/files",{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:r.repositoryName,per_page:100})):p=i.files,n.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${p.length} `,Sr.ID),p}async getMergeability(){try{n.debug(`Fetch pull request mergeability ${this.number} - enter`,Sr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await t({query:r.PullRequestMergeability,variables:{owner:e.owner,name:e.repositoryName,number:this.number}});return n.debug(`Fetch pull request mergeability ${this.number} - done`,Sr.ID),js(i.repository.pullRequest.mergeable)}catch(t){return n.appendLine(`PullRequestModel> Unable to fetch PR Mergeability: ${t}`),Hr.Unknown}}async setReadyForReview(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:r}=await t({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});return this._telemetry.sendTelemetryEvent("pr.readyForReview.success"),r.markPullRequestReadyForReview.pullRequest.isDraft}catch(t){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),t}}updateCommentReactions(t,e){const r=this._reviewThreadsCache.find(i=>i.comments.some(a=>a.graphNodeId===t));if(r){const i=r.comments.find(a=>a.graphNodeId===t);i&&(i.reactions=Ru(e),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]}))}}async addCommentReaction(t,e){const r=Fn().reduce((B,z)=>(B[z.label]=z.title,B),{}),{mutate:i,schema:a}=await this.githubRepository.ensure(),{data:p}=await i({mutation:a.AddReaction,variables:{input:{subjectId:t,content:r[e.label]}}});if(!p)throw new Error("Add comment reaction failed.");const M=p.addReaction.subject.reactionGroups;return this.updateCommentReactions(t,M),p}async deleteCommentReaction(t,e){const r=Fn().reduce((B,z)=>(B[z.label]=z.title,B),{}),{mutate:i,schema:a}=await this.githubRepository.ensure(),{data:p}=await i({mutation:a.DeleteReaction,variables:{input:{subjectId:t,content:r[e.label]}}});if(!p)throw new Error("Delete comment reaction failed.");const M=p.removeReaction.subject.reactionGroups;return this.updateCommentReactions(t,M),p}async resolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.ResolveReviewThread,variables:{input:{threadId:t}}});if(!i)throw new Error("Resolve review thread failed.");const a=this._reviewThreadsCache.findIndex(p=>p.id===t);if(a>-1){const p=In(i.resolveReviewThread.thread);this._reviewThreadsCache.splice(a,1,p),this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}async unresolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UnresolveReviewThread,variables:{input:{threadId:t}}});if(!i)throw new Error("Unresolve review thread failed.");const a=this._reviewThreadsCache.findIndex(p=>p.id===t);if(a>-1){const p=In(i.unresolveReviewThread.thread);this._reviewThreadsCache.splice(a,1,p),this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}async getPullRequestFileViewState(){const{query:t,schema:e,remote:r}=await this.githubRepository.ensure(),i=[];let a=null,p=!1;do{const{data:M}=await t({query:e.PullRequestFiles,variables:{owner:r.owner,name:r.repositoryName,number:this.number,after:a}});M.repository.pullRequest.files.nodes.forEach(B=>{this.fileChangeViewedState[B.path]!==B.viewerViewedState&&i.push({fileName:B.path,viewed:B.viewerViewedState}),this.fileChangeViewedState[B.path]=B.viewerViewedState}),p=M.repository.pullRequest.files.pageInfo.hasNextPage,a=M.repository.pullRequest.files.pageInfo.endCursor}while(p);return i.length&&this._onDidChangeFileViewedState.fire({changed:i}),this.fileChangeViewedState}async markFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.MarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=He.VIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:He.VIEWED}]})}async unmarkFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.UnmarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=He.UNVIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:He.UNVIEWED}]})}};let Lr=Sr;St(Lr,"ID","PullRequestModel");var Ih=Object.defineProperty,Au=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ih(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Dh extends lu{constructor(e,r,i){super(e);this._folderRepositoryManager=r,this._item=i,Au(this,"viewType","github:activePullRequest"),Au(this,"_existingReviewers",[]),this.registerFolderRepositoryListener(),Gu(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:wt.Merged})}))}registerFolderRepositoryListener(){this._disposables.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const r=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:r})}}))}resolveWebviewView(e,r,i){super.resolveWebviewView(e,r,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":b.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequest(e);case"pr.request-changes":return this.requestChanges(e);case"pr.submit":return this.submitReview(e);case"pr.openOnGitHub":return Yi(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e)}}async checkoutDefaultBranch(e){try{const r=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.checkoutDefaultBranch(r)}finally{this._replyMessage(e,{})}}async refresh(){await this.updatePullRequest(this._item)}async updatePullRequest(e){return Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e)]).then(r=>{var i,a;const[p,M,B,z,K]=r;if(!p)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._view)return;this._item=p,this._view.title=`${p.title} #${e.number.toString()}`;const te=e.equals(this._folderRepositoryManager.activePullRequest),ae=M.hasWritePermission,de=M.mergeMethodsAvailability,_e=ae||this._item.canEdit(),Se=b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),Re=cu(de,Se),Pe=this._folderRepositoryManager.getCurrentUser(this._item);this._existingReviewers=Pu(z!=null?z:[],B!=null?B:[],p.author);const Ue=p.base&&p.head&&!p.base.repositoryCloneUrl.equals(p.head.repositoryCloneUrl)&&Ws();this._postMessage({command:"pr.initialize",pullrequest:{number:p.number,title:p.title,url:p.html_url,createdAt:p.createdAt,body:p.body,bodyHTML:p.bodyHTML,labels:p.item.labels,author:{login:p.author.login,name:p.author.name,avatarUrl:p.userAvatar,url:p.author.url},state:p.state,isCurrentlyCheckedOut:te,isRemoteBaseDeleted:p.isRemoteBaseDeleted,base:p.base.label,isRemoteHeadDeleted:p.isRemoteHeadDeleted,isLocalHeadDeleted:!K,head:(a=(i=p.head)==null?void 0:i.label)!=null?a:"",canEdit:_e,hasWritePermission:ae,mergeable:p.item.mergeable,isDraft:p.isDraft,status:{statuses:[]},events:[],mergeMethodsAvailability:de,defaultMergeMethod:Re,isIssue:!1,isAuthor:Pe.login===p.author.login,reviewers:this._existingReviewers,continueOnGitHub:Ue}})}).catch(r=>{b.window.showErrorMessage(L(r))})}close(e){b.commands.executeCommand("pr.close",this._item,e.args).then(r=>{r&&this._replyMessage(e,{value:r})})}createComment(e){this._item.createIssueComment(e.args).then(r=>{this._replyMessage(e,{value:r})})}updateReviewers(e){if(e){const r=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);r?r.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}approvePullRequest(e){this._item.approve(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers}),b.commands.executeCommand("pr.refreshList")},r=>{b.window.showErrorMessage(`Approving pull request failed. ${L(r)}`),this._throwError(e,`${L(r)}`)})}requestChanges(e){this._item.requestChanges(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{b.window.showErrorMessage(`Requesting changes failed. ${L(r)}`),this._throwError(e,`${L(r)}`)})}submitReview(e){this._item.submitReview(Dr.Comment,e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{b.window.showErrorMessage(`Submitting review failed. ${L(r)}`),this._throwError(e,`${L(r)}`)})}async deleteBranch(e){const r=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),i=[];if(this._item.isResolved()){const M=this._item.head.ref;await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item)===this._item.head.ref||i.push({label:`Delete remote branch ${this._item.remote.remoteName}/${M}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(r){const M=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");i.push({label:`Delete local branch ${r.branch}`,type:"local",picked:!!M});const B=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");r.remote&&r.createdForPullRequest&&!r.remoteInUse&&i.push({label:`Delete remote ${r.remote}, which is no longer used by any other branch`,type:"remote",picked:!!B})}if(b.env.remoteName==="codespaces"&&i.push({label:"Suspend Codespace",type:"suspend"}),!i.length){b.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(e,{cancelled:!0});return}const a=await b.window.showQuickPick(i,{canPickMany:!0,ignoreFocusOut:!0}),p=[];if(a){const M=this._item.equals(this._folderRepositoryManager.activePullRequest),B=a.map(async z=>{switch(z.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),p.push(z.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(M){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await b.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.cleanAll");else return;const K=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.repository.checkout(K)}return await this._folderRepositoryManager.repository.deleteBranch(r.branch,!0),p.push(z.type);case"remote":return await this._folderRepositoryManager.repository.removeRemote(r.remote),p.push(z.type);case"suspend":return await b.commands.executeCommand("github.codespaces.disconnectSuspend"),p.push(z.type)}});await Promise.all(B),b.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:p})}else this._replyMessage(e,{cancelled:!0})}setReadyForReview(e){this._item.setReadyForReview().then(r=>{b.commands.executeCommand("pr.refreshList"),this._replyMessage(e,{isDraft:r})}).catch(r=>{b.window.showErrorMessage(`Unable to set PR ready for review. ${L(r)}`),this._throwError(e,{})})}async mergePullRequest(e){const{title:r,description:i,method:a}=e.args;if(await b.window.showInformationMessage("Merge this pull request?",{modal:!0},"Yes")!=="Yes"){this._replyMessage(e,{state:wt.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,r,i,a).then(M=>{b.commands.executeCommand("pr.refreshList"),M.merged||b.window.showErrorMessage(`Merging PR failed: ${M.message}`),this._replyMessage(e,{state:M.merged?wt.Merged:wt.Open})}).catch(M=>{b.window.showErrorMessage(`Unable to merge pull request. ${L(M)}`),this._throwError(e,{})})}_getHtmlForWebview(){const e=$s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}class Fh{constructor(e,r){this.reviewManager=e,this.folderRepositoryManager=r}provideTerminalLinks(e,r){var i;const a=e.line.indexOf("https://github.com");if(a===-1)return[];const p=e.line.substring(a),M=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),B=p.match(M);if(B&&B.length===4){const z=B[1],K=B[2],te=B[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(de=>de.remote.owner===z&&de.remote.repositoryName===K)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===te)return[{startIndex:a,length:e.line.length-a,tooltip:"Create a Pull Request",url:p}]}return[]}handleTerminalLink(e){const r=b.workspace.getConfiguration("githubPullRequests").get("terminalLinksHandler");if(r==="github"){b.env.openExternal(b.Uri.parse(e.url));return}if(r==="vscode"){this.reviewManager.createPullRequest();return}b.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?","Yes","No, continue to github.com").then(i=>{i==="Yes"?this.reviewManager.createPullRequest():b.env.openExternal(b.Uri.parse(e.url))})}}var Oh=Object.defineProperty,Xt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Oh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Bh extends lu{constructor(e,r,i,a){super(e);this._folderRepositoryManager=r,this._pullRequestDefaults=i,Xt(this,"viewType","github:createPullRequest"),Xt(this,"_onDone",new b.EventEmitter),Xt(this,"onDone",this._onDone.event),Xt(this,"_onDidChangeBaseRemote",new b.EventEmitter),Xt(this,"onDidChangeBaseRemote",this._onDidChangeBaseRemote.event),Xt(this,"_onDidChangeBaseBranch",new b.EventEmitter),Xt(this,"onDidChangeBaseBranch",this._onDidChangeBaseBranch.event),Xt(this,"_onDidChangeCompareRemote",new b.EventEmitter),Xt(this,"onDidChangeCompareRemote",this._onDidChangeCompareRemote.event),Xt(this,"_onDidChangeCompareBranch",new b.EventEmitter),Xt(this,"onDidChangeCompareBranch",this._onDidChangeCompareBranch.event),Xt(this,"_firstLoad",!0),Xt(this,"_compareBranch"),Xt(this,"_compareRemote"),this._compareBranch=a}resolveWebviewView(e,r,i){super.resolveWebviewView(e,r,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}get compareBranch(){return this._compareBranch}set compareBranch(e){var r,i;e&&((e==null?void 0:e.name)!==this._compareBranch.name||((r=e==null?void 0:e.upstream)==null?void 0:r.remote)!==((i=this._compareBranch.upstream)==null?void 0:i.remote))&&(this._compareBranch=e,this.initializeParams(),this._onDidChangeCompareBranch.fire(this._compareBranch.name))}get compareRemote(){return this._compareRemote}set compareRemote(e){var r,i;e&&(e.owner!==((r=this._compareRemote)==null?void 0:r.owner)||e.repositoryName!==((i=this._compareRemote)==null?void 0:i.repositoryName))&&(this._compareRemote=e,this.initializeParams(),this._onDidChangeCompareRemote.fire(this._compareRemote))}show(e){e&&(this.compareBranch=e),super.show()}async getTotalCommits(){var e,r,i;const a=await this._folderRepositoryManager.getOrigin(this.compareBranch);if((e=this.compareBranch)==null?void 0:e.upstream){const p=this._folderRepositoryManager.findRepo(ki(this.compareBranch.upstream.remote));if(p){const M=`${p.remote.owner}:${(r=this.compareBranch.name)!=null?r:""}`,B=`${this._pullRequestDefaults.owner}:${this._pullRequestDefaults.base}`,{total_commits:z}=await a.compareCommits(B,M);return z}}else if((i=this.compareBranch)==null?void 0:i.commit){const p=await this._folderRepositoryManager.repository.getBranch(this._pullRequestDefaults.base);if(p.commit)return(await this._folderRepositoryManager.repository.diffBetween(p.commit,this.compareBranch.commit)).length}return 0}async getTitle(){var e,r,i;const a=await this._folderRepositoryManager.getOrigin(this.compareBranch);let p=!1;try{await this.getTotalCommits()>1&&(p=await a.getDefaultBranch()!==((e=this.compareBranch)==null?void 0:e.name))}catch(M){}if(p){const M=(r=this.compareBranch)==null?void 0:r.name;return M?`${M.charAt(0).toUpperCase()}${M.slice(1)}`:""}else return((i=this.compareBranch)==null?void 0:i.name)?Hs(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).title:""}async getPullRequestTemplate(){const e=await this._folderRepositoryManager.getPullRequestTemplates();if(e[0])try{return(await b.workspace.fs.readFile(e[0])).toString()}catch(r){n.appendLine(`Reading pull request template failed: ${r}`);return}}async getDescription(){var e,r;const i=await this.getPullRequestTemplate();if(i){try{if(await this.getTotalCommits()===1&&((e=this.compareBranch)==null?void 0:e.name))return`${Hs(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).body}

${i}`}catch(a){}return i}return((r=this.compareBranch)==null?void 0:r.name)?Hs(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).body:""}async initializeParams(e=!1){var r,i;if(!this.compareBranch)throw new vu(this._folderRepositoryManager.repository);const a={owner:this._pullRequestDefaults.owner,repositoryName:this._pullRequestDefaults.repo},p=await this._folderRepositoryManager.getOrigin(this.compareBranch),M={owner:p.remote.owner,repositoryName:p.remote.repositoryName},[B,z,K,te]=await Promise.all([this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.listBranches(this._pullRequestDefaults.owner,this._pullRequestDefaults.repo),this.getTitle(),this.getDescription()]),ae=B.map(_e=>({owner:_e.owner,repositoryName:_e.repositoryName}));let de=z;M.owner!==a.owner&&(de=await this._folderRepositoryManager.listBranches(M.owner,M.repositoryName)),this.compareBranch.name&&!de.includes(this.compareBranch.name)&&(de.push(this.compareBranch.name),de.sort()),this._postMessage({command:e?"reset":"pr.initialize",params:{availableRemotes:ae,defaultBaseRemote:a,defaultBaseBranch:this._pullRequestDefaults.base,defaultCompareRemote:M,defaultCompareBranch:(r=this.compareBranch.name)!=null?r:"",branchesForRemote:z,branchesForCompare:de,defaultTitle:K,defaultDescription:te,compareBranch:(i=this.compareBranch.name)!=null?i:"",isDraft:!1}})}async changeRemote(e,r){var i;const{owner:a,repositoryName:p}=e.args,M=this._folderRepositoryManager.findRepo(K=>a===K.remote.owner&&p===K.remote.repositoryName);if(!M)throw new Error("No matching GitHub repository found.");const B=await M.getDefaultBranch(),z=await this._folderRepositoryManager.listBranches(a,p);if(!r&&((i=this.compareBranch)==null?void 0:i.name)&&!z.includes(this.compareBranch.name)&&(z.push(this.compareBranch.name),z.sort()),r)this._onDidChangeBaseRemote.fire({owner:a,repositoryName:p}),this._onDidChangeBaseBranch.fire(B);else{const K=this.compareRemote;this.compareRemote={owner:a,repositoryName:p},K&&(this.compareRemote.repositoryName!==K.repositoryName||this.compareRemote.owner!==K.owner)&&(this.compareBranch=await this._folderRepositoryManager.repository.getBranch(B))}return this._replyMessage(e,{branches:z,defaultBranch:r?B:this.compareBranch})}async create(e){var r,i;try{let a,p;if(!((r=this.compareBranch)==null?void 0:r.name)){this._throwError(e,"Please create a branch.");return}if(this.compareBranch.type===be.RemoteHead){const K=this.compareBranch.name.indexOf("/");a=this.compareBranch.name.substring(K+1),p=this.compareBranch.name.substring(0,K)}else a=this.compareBranch.name,p=(i=this.compareBranch.upstream)==null?void 0:i.remote;if(!p)if(await b.window.showInformationMessage(`There is no upstream branch for '${a}'.

Do you want to publish it and then create the pull request?`,{modal:!0},"Publish branch")==="Publish branch"){let te;this._folderRepositoryManager.repository.state.remotes.length===1?te=this._folderRepositoryManager.repository.state.remotes[0].name:this._folderRepositoryManager.repository.state.remotes.length>1&&(te=await b.window.showQuickPick(this._folderRepositoryManager.repository.state.remotes.map(ae=>ae.name),{placeHolder:"Remote to push to"})),te?await this._folderRepositoryManager.repository.push(te,a,!0):this._throwError(e,"The current repository has no remotes to push to. Please set up a remote and try again."),this._folderRepositoryManager.repository.state.HEAD&&(p=te)}else{this._throwError(e,"No upstream for the compare branch.");return}const M=this._folderRepositoryManager.findRepo(ki(p));if(!M)throw new Error(`Unable to find GitHub repository matching '${p}'.`);const B=`${M.remote.owner}:${a}`,z=await this._folderRepositoryManager.createPullRequest({...e.args,head:B});z?(await this._replyMessage(e,{}),await yr.associateBranchWithPullRequest(this._folderRepositoryManager.repository,z,a),this._onDone.fire(z)):this._throwError(e,"There must be a difference in commits to create a pull request.")}catch(a){this._throwError(e,a.message)}}async _onDidReceiveMessage(e){var r;if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.cancelCreate":return b.commands.executeCommand("setContext","github:createPullRequest",!1),this._onDone.fire(void 0),this._replyMessage(e,void 0);case"pr.create":return this.create(e);case"pr.changeBaseRemote":return this.changeRemote(e,!0);case"pr.changeBaseBranch":return this._onDidChangeBaseBranch.fire(e.args),this._replyMessage(e,void 0);case"pr.changeCompareRemote":return this.changeRemote(e,!1);case"pr.changeCompareBranch":return this.compareBranch=await this._folderRepositoryManager.repository.getBranch((r=e.args.name)!=null?r:e.args),this._replyMessage(e,void 0);default:b.window.showErrorMessage("Unsupported webview message")}}_getHtmlForWebview(){const e=$s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}var Lh=Object.defineProperty,Ys=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Uh{constructor(){Ys(this,"fileViewedState",new Map),Ys(this,"_onDidChangeFileDecorations",new b.EventEmitter),Ys(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileViewedState(e,r,i,a){this.fileViewedState.set(`${r}:${i}`,a),this._onDidChangeFileDecorations.fire(e)}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!==Ur)return;const i=we(e);if(i){const a=`${i.prNumber}:${i.fileName}`;if(this.fileViewedState.get(a)===He.VIEWED)return{propagate:!1,badge:"\u2713",tooltip:"Viewed"}}}}const Js=new Uh;var qh=Object.defineProperty,Zs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?qh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class $h{constructor(){Zs(this,"fileHasComments",new Map),Zs(this,"_onDidChangeFileDecorations",new b.EventEmitter),Zs(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileComments(e,r,i,a){const p=`${r}:${i}`;this.fileHasComments.get(p)!==a&&(this.fileHasComments.set(`${r}:${i}`,a),this._onDidChangeFileDecorations.fire(e))}provideFileDecoration(e,r){const i=we(e);if(i){const a=`${i.prNumber}:${i.fileName}`;if(this.fileHasComments.get(a))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}}const Iu=new $h;var Hh=Object.defineProperty,Bn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Hh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Qt{constructor(){Bn(this,"childrenDisposables"),Bn(this,"parent"),Bn(this,"label"),Bn(this,"accessibilityInformation")}getParent(){if(this.parent instanceof Qt)return this.parent}async reveal(e,r){return this.parent.reveal(e||this,r)}refresh(e){return this.parent.refresh(e)}async getChildren(){return[]}dispose(){this.childrenDisposables&&(this.childrenDisposables.forEach(e=>e.dispose()),this.childrenDisposables=[])}}var Gh=Object.defineProperty,kt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Gh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function Du(t){const e=b.window.activeTextEditor,r={preserveFocus:!0,viewColumn:b.ViewColumn.Active};return e&&e.document.uri.path===t.path&&(r.selection=e.selection),{command:"vscode.open",arguments:[t,r],title:"Open File"}}async function Xs(t,e,r,i,a){let p=await le(e,t.repository)||e,M=await le(r,t.repository)||r;(p.scheme==="data"||M.scheme==="data")&&(a===it.ADD&&(p=X),a===it.DELETE&&(M=X));const B=r.path.split("/");return{command:"vscode.diff",arguments:[p,M,`${B[B.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class ji extends Qt{constructor(e,r,i,a,p,M,B,z){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=a,this.previousFileName=p,this.blobUrl=M,this.filePath=B,this.parentFilePath=z,kt(this,"description"),kt(this,"iconPath"),kt(this,"command"),kt(this,"resourceUri"),kt(this,"contextValue"),kt(this,"childrenDisposables",[]),kt(this,"_viewed");var K;const te=(K=this.pullRequest.fileChangeViewedState[a])!=null?K:He.UNVIEWED;this.contextValue=`filechange:${it[i]}:${te===He.VIEWED?"viewed":"unviewed"}`,this.label=c.basename(a),this.description=b.workspace.asRelativePath(c.dirname(a),!1),this.description==="."&&(this.description=""),this.iconPath=b.ThemeIcon.File,this.resourceUri=ke(b.Uri.parse(this.blobUrl),r.number,a,i),this.updateViewed(te),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]},this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(ae=>{const de=ae.changed.find(_e=>_e.fileName===this.fileName);de&&(this.updateViewed(de.viewed),this.refresh(this))})),this.accessibilityInformation={label:`View diffs and comments for file ${this.label}`,role:"link"}}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${it[this.status]}:${e===He.VIEWED?"viewed":"unviewed"}`,Js.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}getTreeItem(){return this}}class Fu extends Qt{constructor(e,r,i,a,p,M,B,z,K,te){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=a,this.blobUrl=p,this.filePath=M,this.parentFilePath=B,this.diffHunks=z,this.comments=K,this.sha=te,kt(this,"description"),kt(this,"iconPath"),kt(this,"resourceUri"),kt(this,"parentSha"),kt(this,"contextValue"),kt(this,"command"),kt(this,"opts"),kt(this,"childrenDisposables",[]),kt(this,"_viewed");var ae;const de=(ae=this.pullRequest.fileChangeViewedState[a])!=null?ae:He.UNVIEWED;this.contextValue=`filechange:${it[i]}:${de===He.VIEWED?"viewed":"unviewed"}`,this.label=c.basename(a),this.description=b.workspace.asRelativePath(c.dirname(a),!1),this.description==="."&&(this.description=""),this.iconPath=b.ThemeIcon.File,this.opts={preserveFocus:!0},this.updateShowOptions(),this.resourceUri=ke(b.Uri.file(this.fileName),this.pullRequest.number,this.fileName,this.status),this.updateViewed(de),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(_e=>{[..._e.added,..._e.removed].some(Se=>Se.path===this.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(_e=>{const Se=_e.changed.find(Re=>Re.fileName===this.fileName);Se&&(this.updateViewed(Se.viewed),this.refresh(this))})),this.accessibilityInformation={label:`View diffs and comments for file ${this.label}`,role:"link"}}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${it[this.status]}:${e===He.VIEWED?"viewed":"unviewed"}`,Js.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}updateShowOptions(){const e=this.pullRequest.reviewThreadsCache,i=(ue(e,a=>a.path)[this.fileName]||[]).filter(a=>!a.isOutdated);Iu.updateFileComments(this.resourceUri,this.pullRequest.number,this.fileName,i.length>0),i.length?(i.sort((a,p)=>a.line-p.line),this.opts.selection=new b.Range(i[0].line,0,i[0].line,0)):delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Du(this.filePath)}async openDiff(e){var r;const i=await Xs(e,this.parentFilePath,this.filePath,this.opts,this.status);b.commands.executeCommand(i.command,...(r=i.arguments)!=null?r:[])}}class Ln extends Fu{constructor(e,r,i,a,p,M,B,z,K,te,ae,de,_e,Se){super(r,i,a,p,B,z,K,de,_e,Se);this.folderRepositoryManager=e,this.parent=r,this.pullRequest=i,this.status=a,this.fileName=p,this.previousFileName=M,this.blobUrl=B,this.filePath=z,this.parentFilePath=K,this.isPartial=te,this.patch=ae,this.diffHunks=de,this.comments=_e,this.sha=Se}getTreeItem(){return this}async resolve(){this.command=await Xs(this.folderRepositoryManager,this.parentFilePath,this.filePath,void 0,this.status)}}class xi extends Fu{constructor(e,r,i,a,p,M,B,z,K,te=[],ae,de){super(e,i,a,p,M,B,z,K,te,ae);this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.status=a,this.fileName=p,this.blobUrl=M,this.filePath=B,this.parentFilePath=z,this.diffHunks=K,this.comments=te,this.sha=ae,this.isCurrent=de,kt(this,"_useViewChangesCommand",!1)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===it.DELETE||this.status===it.ADD){const _e=this.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===it.DELETE?[this.parentFilePath,_e,`${this.fileName}`,{preserveFocus:!0}]:[_e,this.parentFilePath,`${this.fileName}`,{preserveFocus:!0}],title:"Open Diff"}}const{path:e,ref:r,commit:i,rootPath:a}=De(this.filePath.query),p=`${i}^`,M={path:e,ref:r,commit:p,base:!0,isOutdated:!0,rootPath:a},B=this.filePath.with({query:JSON.stringify(M)});let z=this.filePath;this.isCurrent&&(z=this.pullRequestManager.repository.rootUri.with({path:c.posix.join(M.rootPath,M.path)}));const K={preserveFocus:!0},te=this.pullRequest.reviewThreadsCache,de=(ue(te,_e=>_e.path)[this.fileName]||[]).filter(_e=>_e.isOutdated).sort((_e,Se)=>_e.line-Se.line);return de.length&&(K.selection=new b.Range(de[0].originalLine,0,de[0].originalLine,0)),{command:"vscode.diff",arguments:[B,z,`${this.fileName} from ${(i||"").substr(0,8)}`,K],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():b.workspace.getConfiguration().get("git.openDiffOnClick",!0)?this.command=await Xs(this.pullRequestManager,this.parentFilePath,this.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Vh extends Qt{constructor(e,r,i,a,p,M){super();this.parent=e,this.fileName=r,this.previousFileName=i,this.status=a,this.baseBranch=p,this.headBranch=M,kt(this,"description"),kt(this,"iconPath"),kt(this,"resourceUri"),kt(this,"command"),this.label=r,this.iconPath=b.ThemeIcon.File,this.resourceUri=b.Uri.file(r).with({scheme:Ur,query:JSON.stringify({status:a,fileName:r})});let B=b.Uri.file(r).with({scheme:Ur,query:JSON.stringify({fileName:r,branch:p})}),z=b.Uri.file(r).with({scheme:Ur,query:JSON.stringify({fileName:r,branch:M})});switch(a){case it.ADD:B=b.Uri.file(r).with({scheme:Ur,query:JSON.stringify({fileName:r,branch:p,isEmpty:!0})});break;case it.RENAME:B=b.Uri.file(i).with({scheme:Ur,query:JSON.stringify({fileName:i,branch:p,isEmpty:!0})});break;case it.DELETE:z=b.Uri.file(r).with({scheme:Ur,query:JSON.stringify({fileName:r,branch:M,isEmpty:!0})});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[B,z,`${r} (Pull Request Preview)`]}}getTreeItem(){return this}}function ea(t){return t.filter(e=>e instanceof xi)}var jh=Object.defineProperty,Ti=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?jh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Ur="githubpr";class zh{constructor(e,r,i,a,p,M,B){this.repository=e,this.baseOwner=r,this.baseBranchName=i,this._compareOwner=a,this.compareBranchName=p,this.compareHasUpstream=M,this.folderRepoManager=B,Ti(this,"_view"),Ti(this,"_onDidChangeTreeData",new b.EventEmitter),Ti(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ti(this,"_contentProvider"),Ti(this,"_disposables",[]),Ti(this,"_gitHubRepository"),this._view=b.window.createTreeView("github:compareChanges",{treeDataProvider:this}),this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(z=>z.remote.owner===this._compareOwner),this._disposables.push(this._view)}get view(){return this._view}updateBaseBranch(e){this.baseBranchName=e,this._onDidChangeTreeData.fire()}updateBaseOwner(e){this.baseOwner=e,this._onDidChangeTreeData.fire()}async reveal(e,r){return this._view.reveal(e,r)}refresh(){this._onDidChangeTreeData.fire()}async updateHasUpstream(e){var r;if(((r=this.repository.state.HEAD)==null?void 0:r.name)===e){const i=await this.repository.getBranch(e);this.compareHasUpstream=!!i.upstream}else this.compareHasUpstream=!0}async updateCompareBranch(e){await this.updateHasUpstream(e),this.compareBranchName=e,this._onDidChangeTreeData.fire()}get compareOwner(){return this._compareOwner}set compareOwner(e){this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(r=>r.remote.owner===e),this._contentProvider&&this._gitHubRepository&&(this._contentProvider.gitHubRepository=this._gitHubRepository),this._compareOwner=e,this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getChildren(){if(this.compareHasUpstream)b.commands.executeCommand("setContext","github:noUpstream",!1);else return b.commands.executeCommand("setContext","github:noUpstream",!0),this._view.message=void 0,[];if(!this._gitHubRepository)return[];this._contentProvider||(this._contentProvider=new Wh(this._gitHubRepository),this._disposables.push(b.workspace.registerTextDocumentContentProvider(Ur,this._contentProvider)));const{octokit:e,remote:r}=await this._gitHubRepository.ensure();try{const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.baseOwner}:${this.baseBranchName}`,head:`${this.compareOwner}:${this.compareBranchName}`});return i.files.length?this._view.message=void 0:this._view.message=`There are no commits between the base '${this.baseBranchName}' branch and the comparing '${this.compareBranchName}' branch`,i.files.map(a=>new Vh(this,a.filename,a.previous_filename,Gt(a.status),i.merge_base_commit.sha,this.compareBranchName))}catch(i){return n.appendLine(`Comparing changes failed: ${i}`),[]}}dispose(){this._disposables.forEach(e=>e.dispose()),this._contentProvider=void 0}}class Wh{constructor(e){this.gitHubRepository=e}async provideTextDocumentContent(e,r){var i;const a=se(e);if(!a||a.isEmpty)return"";const{octokit:p,remote:M}=await this.gitHubRepository.ensure(),B=await p.repos.getContent({owner:M.owner,repo:M.repositoryName,path:a.fileName,ref:a.branch}),z=(i=B.data.content)!=null?i:"";return Qe.Buffer.from(z,B.data.encoding).toString()}}var Qh=Object.defineProperty,zi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Qh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Kh{constructor(e){this.repository=e,zi(this,"_disposables",[]),zi(this,"_createPRViewProvider"),zi(this,"_treeView"),zi(this,"_onDidCreate",new b.EventEmitter),zi(this,"onDidCreate",this._onDidCreate.event)}registerListeners(e){this._disposables.push(this._createPRViewProvider.onDone(async r=>{var i,a;b.commands.executeCommand("setContext","github:createPullRequest",!1),(i=this._createPRViewProvider)==null||i.dispose(),this._createPRViewProvider=void 0,(a=this._treeView)==null||a.dispose(),this._treeView=void 0,this._disposables.forEach(p=>p.dispose()),r&&this._onDidCreate.fire(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareBranch(r=>{var i;(i=this._treeView)==null||i.updateCompareBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareRemote(r=>{this._treeView&&(this._treeView.compareOwner=r.owner)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseBranch(r=>{var i;(i=this._treeView)==null||i.updateBaseBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseRemote(r=>{var i;(i=this._treeView)==null||i.updateBaseOwner(r.owner)})),e&&this._disposables.push(this.repository.state.onDidChange(r=>{this._createPRViewProvider&&this.repository.state.HEAD&&(this._createPRViewProvider.compareBranch=this.repository.state.HEAD)}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,r){if(e.gitHubRepositories.some(i=>i.remote.owner===r.owner&&i.remote.repositoryName===r.repo))return r;{const i=await e.getOrigin(),a=await e.getMetadata(i.remote.remoteName);return{owner:a.owner.login,repo:a.name,base:a.default_branch}}}async create(e,r,i){var a;b.commands.executeCommand("setContext","github:createPullRequest",!0);const p=(a=i?await r.repository.getBranch(i):void 0)!=null?a:r.repository.state.HEAD;if(!this._createPRViewProvider){const M=await this.ensureDefaultsAreLocal(r,await r.getPullRequestDefaults(p));this._createPRViewProvider=new Bh(e,r,M,p);const B=await r.getOrigin(p);this._treeView=new zh(this.repository,M.owner,M.base,B.remote.owner,p.name,!!p.upstream,r),this.registerListeners(!i),this._disposables.push(b.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show(p)}}var Yh=Object.defineProperty,Ou=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Yh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Bu{constructor(e,r,i,a,p=`${e}:${r}`){this.owner=e,this.name=r,this.description=i,this.remote=a,this.label=p,Ou(this,"detail"),Ou(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}function Wi(t){return t===void 0||t===0?0:t-1}function w0(t,e){for(let r=0;r<t.length;r++){const i=t[r];for(let a=0;a<i.diffLines.length;a++)if(i.diffLines[a].positionInHunk===e)return i.diffLines[a]}}function ta(t,e){const r=Ht(t);let i=r.next(),a=0;for(;!i.done;){const p=i.value;if(!(p.oldLineNumber>e))if(p.oldLineNumber+p.oldLength-1<e)a+=p.newLength-p.oldLength;else return a+=p.newLength-p.oldLength,e+a;i=r.next()}return e+a}function ra(t,e){const r=Ht(t);let i=r.next(),a=0;for(;!i.done;){const p=i.value;if(!(p.newLineNumber>e))if(p.newLineNumber+p.newLength-1<e)a+=p.oldLength-p.newLength;else return a+=p.oldLength-p.newLength,e+a;i=r.next()}return e+a}function Lu(t,e){const r=[];for(let i=0;i<t.length;i++){const a=t[i];let p,M;if(e){let B;for(let z=0;z<a.diffLines.length;z++){const K=a.diffLines[z];K.type===Ge.Delete?(p!==void 0||(p=Wi(K.oldLineNumber)),B=Wi(K.oldLineNumber)):p!==void 0&&B!==void 0&&(r.push(new b.Range(p,0,B,0)),p=void 0,B=void 0)}p!==void 0&&B!==void 0&&(r.push(new b.Range(p,0,B,0)),p=void 0,B=void 0)}else a.newLineNumber&&(p=Wi(a.newLineNumber),M=Wi(a.newLength),r.push(new b.Range(p,0,p+M,0)))}return r}var Jh=Object.defineProperty,Nr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Jh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Zh{constructor(e,r,i,a,p){this._reviewManager=e,this._reposManager=r,this._repository=i,this._localFileChanges=a,this._sessionState=p,Nr(this,"_localToDispose",[]),Nr(this,"_onDidChangeComments",new b.EventEmitter),Nr(this,"onDidChangeComments",this._onDidChangeComments.event),Nr(this,"_commentHandlerId"),Nr(this,"_commentController"),Nr(this,"_workspaceFileChangeCommentThreads",{}),Nr(this,"_reviewSchemeFileChangeCommentThreads",{}),Nr(this,"_obsoleteFileChangeCommentThreads",{}),Nr(this,"_visibleNormalTextEditors",[]),Nr(this,"_pendingCommentThreadAdds",[]),this._commentController=b.comments.createCommentController(`github-review-${r.activePullRequest.number}`,r.activePullRequest.title),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this._localToDispose.push(this._commentController),this._commentHandlerId=ou(),Me(this._commentHandlerId,this)}get commentController(){return this._commentController}async initialize(){this._visibleNormalTextEditors=b.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._reposManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}createOutdatedCommentThread(e,r){const i=r.comments[0].originalCommitId,a=b.Uri.file(c.join(`commit~${i.substr(0,8)}`,e)),p=pe(a,e,void 0,i,!0,{base:r.diffSide===Le.LEFT},this._repository.rootUri),M=new b.Range(new b.Position(r.originalLine-1,0),new b.Position(r.originalLine-1,0));return Vi(p,M,r,this._commentController)}async createWorkspaceCommentThread(e,r,i){let a=i.line;const p=await this._repository.diffWithHEAD(r);p&&(a=ta(p,i.line));const M=new b.Range(new b.Position(a-1,0),new b.Position(a-1,0));return Vi(e,M,i,this._commentController)}createReviewCommentThread(e,r,i){var a;if(!((a=this._reposManager.activePullRequest)==null?void 0:a.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const p=pe(e,r,void 0,this._reposManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),M=new b.Range(new b.Position(i.line-1,0),new b.Position(i.line-1,0));return Vi(p,M,i,this._commentController)}async initializeCommentThreads(){if(!this._reposManager.activePullRequest||!this._reposManager.activePullRequest.isResolved())return;const e=this._reposManager.activePullRequest.reviewThreadsCache,r=ue(e,i=>i.path);Object.keys(r).forEach(i=>{const a=r[i],p=a[0];if(p){const M=c.join(this._repository.rootUri.path,p.path).replace(/\\/g,"/"),B=this._repository.rootUri.with({path:M});let z=[],K=[],te=[];const ae=a.map(async de=>{de.isOutdated?te.push(this.createOutdatedCommentThread(i,de)):de.diffSide===Le.RIGHT?z.push(await this.createWorkspaceCommentThread(B,i,de)):K.push(this.createReviewCommentThread(B,i,de))});Promise.all(ae),this._workspaceFileChangeCommentThreads[i]=z,this._reviewSchemeFileChangeCommentThreads[i]=K,this._obsoleteFileChangeCommentThreads[i]=te}})}async registerListeners(){this._localToDispose.push(this._reposManager.activePullRequest.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(r=>{for(const i in r)r[i].forEach(a=>{_u(a,e),Ei(a)})})})),this._localToDispose.push(this._reposManager.activePullRequest.onDidChangeReviewThreads(e=>{e.added.forEach(async r=>{const{path:i}=r,a=this._pendingCommentThreadAdds.findIndex(async B=>{const z=this.gitRelativeRootPath(B.uri.path);if(z!==r.path)return!1;const K=await this.getContentDiff(B.uri,z);return ra(K,B.range.start.line)+1===r.line});let p;if(a>-1)p=this._pendingCommentThreadAdds[a],p.gitHubThreadId=r.id,p.comments=r.comments.map(B=>new Ct(B,p)),this._pendingCommentThreadAdds.splice(a,1);else{const B=c.join(this._repository.rootUri.path,i).replace(/\\/g,"/"),z=this._repository.rootUri.with({path:B});r.isOutdated?p=this.createOutdatedCommentThread(i,r):r.diffSide===Le.RIGHT?p=await this.createWorkspaceCommentThread(z,i,r):p=this.createReviewCommentThread(z,i,r)}const M=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Le.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;M[i]?M[i].push(p):M[i]=[p]}),e.changed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Le.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,a=i[r.path].findIndex(p=>p.gitHubThreadId===r.id);if(a>-1){const p=i[r.path][a];An(p,r)}}),e.removed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Le.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,a=i[r.path].findIndex(p=>p.gitHubThreadId===r.id);if(a>-1){const p=i[r.path][a];i[r.path].splice(a,1),p.dispose()}})})),this._localToDispose.push(this._sessionState.onDidChangeCommentsExpandState(e=>{this.updateCommentExpandState(e)}))}updateCommentExpandState(e){if(!this._reposManager.activePullRequest)return;function r(M,B){if(B.size!==0)for(const z of B.keys()){const K=B.get(z),te=M[z];for(const ae of te){const de=K.get(ae.gitHubThreadId);An(ae,de,e)}}}const i=new Map,a=new Map,p=new Map;for(const M of this._reposManager.activePullRequest.reviewThreadsCache){let B;M.isOutdated?B=i:M.diffSide===Le.RIGHT?B=p:B=a,B.has(M.path)||B.set(M.path,new Map),B.get(M.path).set(M.id,M)}r(this._obsoleteFileChangeCommentThreads,i),r(this._reviewSchemeFileChangeCommentThreads,a),r(this._workspaceFileChangeCommentThreads,p)}visibleEditorsEqual(e,r){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),r=r.filter(i=>i.document.uri.scheme!=="comment"),e=A(e,i=>i.document.uri.toString()),r=A(r,i=>i.document.uri.toString()),e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!r.find(p=>p.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){if(e.uri.scheme==="review")return!0;const r=b.workspace.getWorkspaceFolder(e.uri);return r?!!(e.uri.scheme===r.uri.scheme&&e.uri.fsPath.startsWith(this._repository.rootUri.fsPath)):!1}async provideCommentingRanges(e,r){let i=e.uri.query&&e.uri.query!==""?De(e.uri.query):void 0;if(i){const p=this.findMatchedFileChangeForReviewDiffView(this._localFileChanges,e.uri);if(p)return Lu(p.diffHunks,i.base)}const a=b.workspace.getWorkspaceFolder(e.uri);if(!!a&&e.uri.scheme===a.uri.scheme){if(!this._reposManager.activePullRequest.isResolved())return;const p=this.gitRelativeRootPath(e.uri.path),M=ea(this._localFileChanges).find(z=>z.fileName===p),B=[];if(M){if(M.status===it.RENAME)return[];const z=await this.getContentDiff(e.uri,M.fileName),K=M.diffHunks;for(let te=0;te<K.length;te++){const ae=K[te],de=ta(z,ae.newLineNumber),_e=ta(z,ae.newLineNumber+ae.newLength-1);de>0&&_e>0&&B.push(new b.Range(de-1,0,_e-1,0))}}return B}}async getContentDiff(e,r){var i;const a=b.window.visibleTextEditors.find(p=>p.document.uri.toString()===e.toString());if(!((i=this._reposManager.activePullRequest)==null?void 0:i.head))throw new Error("Cannot get content diff without an active pull request head.");if(a&&a.document.isDirty){const p=a.document.getText(),B=(await this._repository.getObjectDetails(this._reposManager.activePullRequest.head.sha,r)).object,z=await this._repository.hashObject(p);return await this._repository.diffBlobs(B,z)}else return await this._repository.diffWith(this._reposManager.activePullRequest.head.sha,r)}findMatchedFileChangeForReviewDiffView(e,r){const i=De(r.query),a=e.filter(p=>{if(p instanceof ji||p.fileName!==i.path)return!1;if(p.filePath.scheme!=="review"&&p.sha===i.commit)return!0;const M=p.filePath.query?JSON.parse(p.filePath.query):void 0;if(M&&M.commit===i.commit)return!0;const B=p.parentFilePath.query?JSON.parse(p.parentFilePath.query):void 0;return!!(B&&B.commit===i.commit)});if(a&&a.length)return a[0]}gitRelativeRootPath(e){return c.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}getCommentSide(e){return e.uri.scheme==="review"&&De(e.uri.query).base?Le.LEFT:Le.RIGHT}async startReview(e,r){const i=e.comments.length,a=this.optimisticallyAddComment(e,r,!0);try{if(i){const p=e.comments[0];if(p instanceof Ct)await this._reposManager.activePullRequest.createCommentReply(r,p._rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const p=this.gitRelativeRootPath(e.uri.path),M=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let B;if(M===Le.RIGHT){const z=await this.getContentDiff(e.uri,p);B=ra(z,e.range.start.line)}else B=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,p,B+1,M)}}catch(p){b.window.showErrorMessage(`Starting review failed: ${p}`),e.comments=e.comments.map(M=>(M instanceof lr&&M.id===a&&(M.mode=b.CommentMode.Editing),M))}}async openReview(){await this._reviewManager.openDescription(),dr.scrollToReview()}optimisticallyAddComment(e,r,i){const a=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),p=new lr(e,r,i,a);return this.updateCommentThreadComments(e,[...e.comments,p]),p.id}updateCommentThreadComments(e,r){e.comments=r,Ei(e)}optimisticallyEditComment(e,r){const i=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),a=new lr(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(p=>p instanceof Ct&&p.commentId===r.commentId?a:p),a.id}async createOrReplyComment(e,r,i,a){if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const p=e.comments.length,M=i?!1:a!==void 0?a:this._reposManager.activePullRequest.hasPendingReview,B=this.optimisticallyAddComment(e,r,M);try{if(p){const z=e.comments[0];if(z instanceof Ct)await this._reposManager.activePullRequest.createCommentReply(r,z._rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const z=this.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const K=this.getCommentSide(e);let te;if(K===Le.RIGHT){const ae=await this.getContentDiff(e.uri,z);te=ra(ae,e.range.start.line)}else te=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,z,te+1,K,i)}i&&await this._reposManager.activePullRequest.submitReview()}catch(z){b.window.showErrorMessage(`Creating comment failed: ${z}`),e.comments=e.comments.map(K=>(K instanceof lr&&K.id===B&&(K.mode=b.CommentMode.Editing),K))}}async createCommentOnResolve(e,r){if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._reposManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){b.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){b.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,r){if(r instanceof Ct){const i=this.optimisticallyEditComment(e,r);try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");await this._reposManager.activePullRequest.editReviewComment(r._rawComment,r.body instanceof b.MarkdownString?r.body.value:r.body)}catch(a){b.window.showErrorMessage(L(a)),e.comments=e.comments.map(p=>p instanceof lr&&p.id===i?new Ct(r._rawComment,e):p)}}else this.createOrReplyComment(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");r instanceof Ct?await this._reposManager.activePullRequest.deleteReviewComment(r.commentId):e.comments=e.comments.filter(a=>!(a instanceof lr&&a.id===r.id)),e.comments.length===0?e.dispose():Ei(e);const i=await this._reposManager.activePullRequest.validateDraftMode();i!==this._reposManager.activePullRequest.hasPendingReview&&(this._reposManager.activePullRequest.hasPendingReview=i),this.update(this._localFileChanges)}catch(i){throw new Error(L(i))}}async update(e){await this._reposManager.activePullRequest.validateDraftMode(),this._localFileChanges=e}async toggleReaction(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this._reposManager.activePullRequest.addCommentReaction(e._rawComment.graphNodeId,r):await this._reposManager.activePullRequest.deleteCommentReaction(e._rawComment.graphNodeId,r)}catch(i){throw new Error(L(i))}}dispose(){this._commentController&&this._commentController.dispose(),he(this._commentHandlerId),this._localToDispose.forEach(e=>e.dispose())}}var Xh=Object.defineProperty,Et=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Xh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Uu=class{constructor(t,e,r,i,a,p,M){this._context=t,this._repository=e,this._folderRepoManager=r,this._telemetry=i,this.changesInPrDataProvider=a,this._showPullRequest=p,this._sessionState=M,Et(this,"_localToDispose",[]),Et(this,"_disposables"),Et(this,"_comments",[]),Et(this,"_localFileChanges",[]),Et(this,"_obsoleteFileChanges",[]),Et(this,"_lastCommitSha"),Et(this,"_updateMessageShown",!1),Et(this,"_validateStatusInProgress"),Et(this,"_reviewCommentController"),Et(this,"_statusBarItem"),Et(this,"_prNumber"),Et(this,"_previousRepositoryState"),Et(this,"_webviewViewProvider"),Et(this,"_createPullRequestHelper"),Et(this,"_switchingToReviewMode"),Et(this,"justSwitchedToRevieMode",!1),Et(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:e.state.HEAD,remotes:vi(this._repository)},this.registerListeners(),this.updateState(!0),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(t){this._switchingToReviewMode=t,t||this.updateState()}registerListeners(){this._disposables.push(this._repository.state.onDidChange(t=>{const e=this._previousRepositoryState.HEAD,r=this._repository.state.HEAD;if(!e&&!r)return;let i;!e||!r?i=!1:i=e.upstream?r.upstream&&e.upstream.name===r.upstream.name&&e.upstream.remote===r.upstream.remote:!r.upstream;const a=i&&e.ahead===r.ahead&&e.behind===r.behind&&e.commit===r.commit&&e.name===r.name&&e.remote===r.remote&&e.type===r.type,p=vi(this._repository),M=this._previousRepositoryState.remotes.length===p.length&&this._previousRepositoryState.remotes.every(B=>p.some(z=>B.equals(z)));(!a||!M)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:p},this.updateState(!0))})),this._disposables.push(b.workspace.onDidChangeConfiguration(t=>{this.updateFocusedViewMode()})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(t=>{this.updateFocusedViewMode()})),this._disposables.push(b.window.registerTerminalLinkProvider(new Fh(this,this._folderRepoManager)))}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=b.window.createStatusBarItem("github.pullrequest.status",b.StatusBarAlignment.Left),this._statusBarItem.name="GitHub Active Pull Request"),this._statusBarItem}get repository(){return this._repository}get localFileChanges(){return this._localFileChanges}pollForStatusChange(){setTimeout(async()=>{this._validateStatusInProgress||await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}async checkBranchUpToDate(t){var e;const r=this._repository.state.HEAD;if(r){const i=r.upstream?r.upstream.remote:null;if(i&&(await this._repository.fetch(i,(e=this._repository.state.HEAD)==null?void 0:e.name),!this._context.globalState.get(Ps,!1)&&!this._updateMessageShown&&(this._lastCommitSha&&t.head.sha!==this._lastCommitSha||r.behind!==void 0&&r.behind>0))){this._updateMessageShown=!0;const p="Pull",M="Never show again";await b.window.showInformationMessage("There are updates available for this pull request.",{},p,M)===p?(await b.commands.executeCommand("git.pull"),this._updateMessageShown=!1):M&&await this._context.globalState.update(Ps,!0)}}}async updateState(t=!1,e=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(n.appendLine("Review> Queuing additional validate state"),this._validateStatusInProgress=this._validateStatusInProgress.then(async r=>await this.validateState(t,e)),this._validateStatusInProgress):(n.appendLine("Review> Validate state in progress"),this._validateStatusInProgress=this.validateState(t,e),this._validateStatusInProgress)}async validateState(t,e){if(n.appendLine("Review> Validating state..."),await this._folderRepoManager.updateRepositories(t),!this._repository.state.HEAD){this.clear(!0);return}const r=this._repository.state.HEAD;let i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i){n.appendLine(`Review> no matching pull request metadata found for current branch ${r.name}`);const te=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub();te&&(yr.associateBranchWithPullRequest(this._repository,te.model,r.name),i=te)}if(!i){n.appendLine(`Review> no matching pull request metadata found on GitHub for current branch ${r.name}`),this.clear(!0);return}const a=r.commit!==this._lastCommitSha&&r.ahead===0&&r.behind===0;if(this._prNumber===i.prNumber&&!a){b.commands.executeCommand("pr.refreshList");return}if(!(r.upstream?r.upstream.remote:null)){n.appendLine(`Review> current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`),this.clear(!0);return}n.appendLine(`Review> current branch ${this._repository.state.HEAD.name} is associated with pull request #${i.prNumber}`),this.clear(!1),this._prNumber=i.prNumber,this._lastCommitSha=void 0;const{owner:M,repositoryName:B}=i;n.appendLine("Review> Resolving pull request");const z=await this._folderRepoManager.resolvePullRequest(M,B,i.prNumber);if(!z||!z.isResolved()){this._prNumber=void 0,n.appendLine("Review> This PR is no longer valid");return}this._folderRepoManager.activePullRequest=z,this._lastCommitSha=z.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this.checkBranchUpToDate(z)),n.appendLine("Review> Fetching pull request data"),await this.getPullRequestData(z),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,z,this._localFileChanges,this._comments,this.justSwitchedToRevieMode),this.justSwitchedToRevieMode=!1,n.appendLine("Review> register comments provider"),await this.registerCommentController();const K=this._context.workspaceState.get($t);if(this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(z):(this._webviewViewProvider=new Dh(this._context.extensionUri,this._folderRepoManager,z),this._context.subscriptions.push(b.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._context.subscriptions.push(b.commands.registerCommand("pr.refreshActivePullRequest",te=>{var ae;(ae=this._webviewViewProvider)==null||ae.refresh()}))),this.statusBarItem.text=`$(git-pull-request) Pull Request #${this._prNumber}`,this.statusBarItem.command={command:"pr.openDescription",title:"View Pull Request Description",arguments:[z]},n.appendLine("Review> display pull request status bar indicator and refresh pull request tree view."),this.statusBarItem.show(),b.commands.executeCommand("pr.refreshList"),n.appendLine(`Review> using focus mode = ${K}.`),n.appendLine(`Review> state validation silent = ${t}.`),n.appendLine(`Review> PR show should show = ${this._showPullRequest.shouldShow}.`),(!t||this._showPullRequest.shouldShow)&&K)this._doFocusShow(e);else if(!this._showPullRequest.shouldShow&&K){const te=this._showPullRequest.onChangedShowValue(ae=>{n.appendLine(`Review> PR show value changed = ${ae}.`),ae&&this._doFocusShow(e),te.dispose()});this._localToDispose.push(te)}this._validateStatusInProgress=void 0}_doFocusShow(t){var e;if((e=this._webviewViewProvider)==null||e.show(),t&&this.localFileChanges.length>0){let r;for(const i of this.localFileChanges)if(i.status===it.MODIFY){r=i;break}r=r!=null?r:this.localFileChanges[0],r.openDiff(this._folderRepoManager)}}async updateComments(){const t=this._repository.state.HEAD;if(!t)return;const e=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!e||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const i=await this._folderRepoManager.resolvePullRequest(e.owner,e.repositoryName,this._prNumber);if(!i||!i.isResolved()){n.appendLine("Review> This PR is no longer valid");return}return await this.checkBranchUpToDate(i),await this.getPullRequestData(i),await this._reviewCommentController.update(this._localFileChanges),Promise.resolve(void 0)}async getLocalChangeNodes(t,e,r){const i=[],a=t.mergeBase||t.base.sha,p=t.head.sha;for(let M=0;M<e.length;M++){const B=e[M];let z=[];if(B instanceof Ke)z=B.diffHunks;else if(B.status!==it.RENAME)try{const Se=await this._repository.diffBetween(t.base.sha,t.head.sha,B.fileName);z=at(Se)}catch(Se){n.appendLine(`Failed to parse patch for outdated comments: ${Se}`)}const K=c.join(this._repository.rootUri.path,B.fileName).replace(/\\/g,"/"),te=this._repository.rootUri.with({path:K}),ae=B.status===it.DELETE?pe(te,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):te,de=pe(te,B.status===it.RENAME?B.previousFileName:B.fileName,void 0,B.status===it.ADD?"":a,!1,{base:!0},this._repository.rootUri),_e=new xi(this.changesInPrDataProvider,this._folderRepoManager,t,B.status,B.fileName,B.blobUrl,ae,de,z,r.filter(Se=>Se.path===B.fileName),p);i.push(_e)}return i}async getPullRequestData(t){try{this._comments=await t.getReviewComments(),await t.initializeReviewThreadCache(),await t.getPullRequestFileViewState();const e=this._comments.filter(B=>B.position),r=this._comments.filter(B=>!B.position),i=await t.getFileChangesInfo(),a=t.mergeBase||t.base.sha,p=await Vt(i,this._repository,a);this._localFileChanges=await this.getLocalChangeNodes(t,p,e);const M=ue(r,B=>B.originalCommitId);this._obsoleteFileChanges=[];for(const B in M){const z=M[B],K=ue(z,te=>te.path);for(const te in K){let ae=[];try{const Re=await this._repository.diffBetween(t.base.sha,B,te);ae=at(Re)}catch(Re){n.appendLine(`Failed to parse patch for outdated comments: ${Re}`)}const de=K[te],_e=b.Uri.file(c.join(`commit~${B.substr(0,8)}`,te)),Se=new xi(this.changesInPrDataProvider,this._folderRepoManager,t,it.MODIFY,te,void 0,pe(_e,te,void 0,de[0].originalCommitId,!0,{base:!1},this._repository.rootUri),pe(_e,te,void 0,de[0].originalCommitId,!0,{base:!0},this._repository.rootUri),ae,de,B);this._obsoleteFileChanges.push(Se)}}return Promise.resolve(void 0)}catch(e){n.appendLine(`Review> ${e}`)}}async registerCommentController(){this._reviewCommentController=new Zh(this,this._folderRepoManager,this._repository,this._localFileChanges,this._sessionState),await this._reviewCommentController.initialize(),this._localToDispose.push(this._reviewCommentController),this._localToDispose.push(this._reviewCommentController.onDidChangeComments(t=>{this._comments=t}))}async switch(t){n.appendLine(`Review> switch to Pull Request #${t.number} - start`),this.statusBarItem.text="$(sync~spin) Switching to Review Mode",this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await this._folderRepoManager.checkoutExistingPullRequestBranch(t)||await this._folderRepoManager.fetchAndCheckout(t)}catch(e){if(n.appendLine(`Review> checkout failed #${JSON.stringify(e)}`),this.switchingToReviewMode=!1,e.message==="User aborted")return;if(e.gitErrorCode&&(e.gitErrorCode===q.LocalChangesOverwritten||e.gitErrorCode===q.DirtyWorkTree)){b.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}b.window.showErrorMessage(L(e));return}try{this.statusBarItem.text=`$(sync~spin) Fetching additional data: pr/${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(t),this._telemetry.sendTelemetryEvent("pr.checkout"),n.appendLine(`Review> switch to Pull Request #${t.number} - done`,Uu.ID)}finally{this.switchingToReviewMode=!1,this.justSwitchedToRevieMode=!0,this.statusBarItem.text=`Pull Request #${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._repository.status()}}async publishBranch(t){const e=await this._folderRepoManager.getAllGitHubRemotes();let r=(await this.getRemote(e,`Pick a remote to publish the branch '${t.name}' to:`)).remote;if(!r||t.name===void 0)return;const i=this._folderRepoManager.createGitHubRepository(r,this._folderRepoManager.credentialStore),a=await i.getViewerPermission();if(a===Zt.Read||a===Zt.Triage||a===Zt.Unknown){const M=await this._folderRepoManager.tryOfferToFork(i);if(!M)return;r=this._folderRepoManager.getGitHubRemotes().find(B=>B.remoteName===M)}if(!r)return;const p=r;return new Promise(async M=>{const B=b.window.createInputBox();B.value=t.name,B.ignoreFocusOut=!0,B.prompt=e.length===1?`The branch '${t.name}' is not published yet, pick a name for the upstream branch`:"Pick a name for the upstream branch";const z=async function(K){try{B.busy=!0,await this._reposManager.getBranch(p,K)?B.validationMessage=`Branch ${K} already exists in ${p.owner}/${p.repositoryName}`:B.validationMessage=void 0}catch(te){B.validationMessage=void 0}B.busy=!1};await z(t.name),B.onDidChangeValue(z.bind(this)),B.onDidAccept(async()=>{B.validationMessage=void 0,B.hide();try{await this._repository.push(p.remoteName,`${t.name}:${B.value}`,!0)}catch(te){throw te.gitErrorCode===q.PushRejected&&(b.window.showWarningMessage("Can't push refs to remote, try running 'git pull' first to integrate with your change",{modal:!0}),M(void 0)),te.gitErrorCode===q.RemoteConnectionError&&(b.window.showWarningMessage(`Could not read from remote repository '${p.remoteName}'. Please make sure you have the correct access rights and the repository exists.`,{modal:!0}),M(void 0)),te}const K=await this._repository.getBranch(t.name);(!K||!K.upstream)&&M(void 0),M(K)}),B.show()})}async getRemote(t,e,r){if(!t.length){b.window.showWarningMessage("No GitHub remotes found. Add a remote and try again.");return}if(t.length===1&&!r)return Bu.fromRemote(t[0]);if(t.length===1&&r&&r.owner===t[0].owner&&r.name===t[0].repositoryName)return r;let i=!1;const a=t.map(M=>{const B=Bu.fromRemote(M);if(r){const{owner:z,name:K}=r;B.picked=B.owner===z&&B.name===K,B.picked&&(i=!0)}return B});!i&&r&&a.unshift(r);const p=await b.window.showQuickPick(a,{ignoreFocusOut:!0,placeHolder:e});if(!!p)return p}async createPullRequest(t){this._createPullRequestHelper||(this._createPullRequestHelper=new Kh(this.repository),this._createPullRequestHelper.onDidCreate(async e=>{await this.updateState(!1,!1);const r=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await sa(this._context,this._telemetry,e,r,this._folderRepoManager)})),this._createPullRequestHelper.create(this._context.extensionUri,this._folderRepoManager,t)}async openDescription(){const t=this._folderRepoManager.activePullRequest;if(!t)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await sa(this._context,this._telemetry,t,e,this._folderRepoManager)}get isCreatingPullRequest(){var t,e;return(e=(t=this._createPullRequestHelper)==null?void 0:t.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){b.workspace.getConfiguration(Wt).get("focusedMode")&&this._folderRepoManager.activePullRequest?(b.commands.executeCommand("setContext",$t,!0),await this._context.workspaceState.update($t,!0)):(b.commands.executeCommand("setContext",$t,!1),this._context.workspaceState.update($t,!1))}clear(t){this._updateMessageShown=!1,this._localToDispose.forEach(e=>e.dispose()),t&&(this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this.changesInPrDataProvider&&this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._comments=[],b.commands.executeCommand("pr.refreshList"))}async provideTextDocumentContent(t){const{path:e,commit:r}=De(t.query);let i=ea(this._localFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===r||(a.parentSha?a.parentSha:`${a.sha}^`)===r);if(i.length){const a=i[0],p=r===a.sha?Ge.Delete:Ge.Add;return a.diffHunks.map(B=>B.diffLines.filter(z=>z.type!==p).map(z=>z.text)).reduce((B,z)=>B.concat(...z),[]).join(`
`)}if(i=ea(this._obsoleteFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===r||(a.parentSha?a.parentSha:`${a.sha}^`)===r),i.length){const a=i[0],p=r===a.sha?Ge.Delete:Ge.Add,M=[],B=ue(a.comments,z=>String(z.originalPosition));for(const z in B){if(!B[z][0].diffHunks)continue;const K=B[z][0].diffHunks.map(te=>te.diffLines.filter(ae=>ae.type!==p).map(ae=>ae.text)).reduce((te,ae)=>te.concat(...ae),[]);M.push(...K)}return M.join(`
`)}}dispose(){this.clear(!0),this._disposables.forEach(t=>{t.dispose()})}static getReviewManagerForRepository(t,e){return t.find(r=>r._folderRepoManager.gitHubRepositories.some(i=>i.equals(e)))}static getReviewManagerForFolderManager(t,e){return t.find(r=>r._folderRepoManager===e)}};let ii=Uu;Et(ii,"ID","Review");class ep{constructor(){Et(this,"_shouldShow",!1),Et(this,"_onChangedShowValue",new b.EventEmitter),Et(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const r=this._shouldShow;this._shouldShow=e,r!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var tp=Object.defineProperty,ia=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?tp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ni extends Qt{constructor(e,r,i,a){super();this.parent=e,this.label=r,this.iconPath=i,this.pullRequestModel=a,ia(this,"command"),ia(this,"contextValue"),ia(this,"tooltip"),this.command={title:"View Pull Request Description",command:"pr.openDescription",arguments:[this]},this.contextValue="description",this.tooltip=`Description of pull request #${a.number}`,this.accessibilityInformation={label:`Pull request page of pull request number ${a.number}`,role:"button"}}getTreeItem(){return this}}var rp=Object.defineProperty,qu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ip{constructor(){qu(this,"_onDidChange",new b.EventEmitter),qu(this,"_prFileChangeContentProviders",{})}get onDidChange(){return this._onDidChange.event}fireDidChange(e){this._onDidChange.fire(e)}async provideTextDocumentContent(e,r){const i=lt(e);if(i&&i.prNumber){const a=this._prFileChangeContentProviders[i.prNumber];if(a)return await a(e)}return""}registerTextDocumentContentProvider(e,r){return this._prFileChangeContentProviders[e]=r,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}}const np=new ip;function $u(){return np}var sp=Object.defineProperty,na=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?sp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class si extends Qt{constructor(e,r){super();this.parent=e,this.label=r,na(this,"collapsibleState"),na(this,"children",[]),na(this,"pathToChild",new Map),this.collapsibleState=b.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(r=>{r instanceof si&&r.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof si&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children)}sort(){if(this.children.length<=1)return;const e=[],r=[];this.children.forEach(i=>{i instanceof si?(i.sort(),e.push(i)):r.push(i)}),e.sort((i,a)=>i.label<a.label?-1:1),r.sort((i,a)=>i.label<a.label?-1:1),this.children=[...e,...r]}addFile(e){const r=e.fileName.split("/");e.description="",this.addPathRecc(r,e)}addPathRecc(e,r){if(e.length<=0)return;if(e.length===1){this.children.push(r);return}const i=e[0],a=e.slice(1);let p=this.pathToChild.get(i);p||(p=new si(this,i),this.pathToChild.set(i,p),this.children.push(p)),p.addPathRecc(a,r)}getTreeItem(){return this}}var ap=Object.defineProperty,Ci=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ap(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Hu=class extends Qt{constructor(t,e,r,i){super();this.parent=t,this._folderReposManager=e,this.pullRequestModel=r,this._isLocal=i,Ci(this,"_fileChanges"),Ci(this,"_commentController"),Ci(this,"_disposables",[]),Ci(this,"_inMemPRContentProvider"),Ci(this,"_command")}get command(){return this._command}set command(t){this._command=t}async getChildren(){n.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Hu.ID);try{this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(i=>i.dispose()),this.childrenDisposables=[]);const t=new ni(this,"Description",new b.ThemeIcon("git-pull-request"),this.pullRequestModel);if(!this.pullRequestModel.isResolved())return[t];await this.pullRequestModel.initializeReviewThreadCache(),await this.pullRequestModel.getPullRequestFileViewState(),this._fileChanges=await this.resolveFileChanges(),this._inMemPRContentProvider||(this._inMemPRContentProvider=$u().registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this))),this._commentController||await this.resolvePRCommentController(),await this.pullRequestModel.validateDraftMode();const e=[t];if(b.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"){const i=new si(this,"");this._fileChanges.forEach(a=>i.addFile(a)),i.finalize(),i.label===""?e.push(...i.children):e.push(i)}else e.push(...this._fileChanges);return this.childrenDisposables=e,e}catch(t){return n.appendLine(t),[]}}async resolvePRCommentController(){await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async t=>{t||(await this.getFileChanges()).forEach(e=>{e instanceof Ln&&e.comments.forEach(r=>r.isDraft=t)})}))}async getFileChanges(){return this._fileChanges||(this._fileChanges=await this.resolveFileChanges()),this._fileChanges}async resolveFileChanges(){if(!this.pullRequestModel.isResolved())return[];const t=await this.pullRequestModel.getReviewComments(),e=await this.pullRequestModel.getFileChangesInfo(),r=this.pullRequestModel.mergeBase;return r?(await Vt(e,this._folderReposManager.repository,r)).map(a=>{const p=this.pullRequestModel.head.sha,M=a.status===it.RENAME?a.previousFileName:a.fileName;return a instanceof Ye?new ji(this,this.pullRequestModel,a.status,a.fileName,a.previousFileName,a.blobUrl,Ne(b.Uri.file(Ie(this._folderReposManager.repository.rootUri,a.fileName)),this.pullRequestModel,a.baseCommit,p,a.fileName,!1,a.status),Ne(b.Uri.file(Ie(this._folderReposManager.repository.rootUri,M)),this.pullRequestModel,a.baseCommit,p,a.fileName,!0,a.status)):(console.log(b.Uri.file(Ie(this._folderReposManager.repository.rootUri,a.fileName))),new Ln(this._folderReposManager,this,this.pullRequestModel,a.status,a.fileName,a.previousFileName,a.blobUrl,Ne(b.Uri.file(Ie(this._folderReposManager.repository.rootUri,a.fileName)),this.pullRequestModel,a.baseCommit,p,a.fileName,!1,a.status),Ne(b.Uri.file(Ie(this._folderReposManager.repository.rootUri,M)),this.pullRequestModel,a.baseCommit,p,a.fileName,!0,a.status),a.isPartial,a.patch,a.diffHunks,t.filter(z=>z.path===a.fileName&&z.position!==null)))}):[]}getTreeItem(){const t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:e,number:r,author:i,isDraft:a,html_url:p}=this.pullRequestModel,{login:M}=i,B=t?"\u2713 ":"",z=t?"Current Branch * ":"",K=r.toString(),te=`${B}#${K}: ${a?"[DRAFT] ":""}${e}`,ae=`${z}${e} by @${M}`,de=`by @${M}`;return{label:te,id:`${this.parent instanceof Qt?this.parent.label:""}${p}`,tooltip:ae,description:de,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(t?":active":":nonactive"),iconPath:this.pullRequestModel.userAvatarUri?this.pullRequestModel.userAvatarUri:new b.ThemeIcon("github"),accessibilityInformation:{label:`${a?"Draft ":""}Pull request number ${K}: ${e} by ${M}`}}}async provideCommentingRanges(t,e){if(t.uri.scheme==="pr"){const r=lt(t.uri);if(!r||r.prNumber!==this.pullRequestModel.number)return;const i=(await this.getFileChanges()).find(a=>a.fileName===r.fileName);return!i||i instanceof ji?void 0:Lu(i.diffHunks,r.isBase)}}async provideDocumentContent(t){const e=lt(t);if(!e)return"";const r=(await this.getFileChanges()).find(i=>i.fileName===e.fileName);if(!r)return n.appendLine(`PR> can not find content for document ${t.toString()}`),"";if(e.isBase&&r.status===it.ADD||!e.isBase&&r.status===it.DELETE)return"";if(r instanceof ji||r.isPartial)try{return e.isBase?this.pullRequestModel.getFile(r.previousFileName||r.fileName,e.baseCommit):this.pullRequestModel.getFile(r.fileName,e.headCommit)}catch(i){return n.appendLine(`PR> Fetching file content failed: ${i}`),b.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(a=>{a==="Open on GitHub"&&b.commands.executeCommand("vscode.open",b.Uri.parse(r.blobUrl))}),""}if(r instanceof Ln)if(r.status===it.ADD||r.status===it.DELETE)if(e.isBase){const a=[];for(let p=0;p<r.diffHunks.length;p++)for(let M=0;M<r.diffHunks[p].diffLines.length;M++){const B=r.diffHunks[p].diffLines[M];B.type===Ge.Add||(B.type===Ge.Delete?a.push(B.text):B.type===Ge.Control||a.push(B.text))}return a.join(`
`)}else{const a=[];for(let p=0;p<r.diffHunks.length;p++)for(let M=0;M<r.diffHunks[p].diffLines.length;M++){const B=r.diffHunks[p].diffLines[M];B.type===Ge.Add?a.push(B.text):B.type===Ge.Delete||B.type===Ge.Control||a.push(B.text)}return a.join(`
`)}else{const a=r.status===it.RENAME?r.previousFileName:r.fileName,p=b.Uri.joinPath(this._folderReposManager.repository.rootUri,a),M=await this._folderReposManager.repository.show(e.baseCommit,p.fsPath);return e.isBase?M:ot(M,r.patch)}return""}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,this._disposables.forEach(t=>t.dispose()),this._disposables=[]}};let Ni=Hu;Ci(Ni,"ID","PRNode");const Un=new b.EventEmitter,Gu=Un.event;function Qi(t,e){if(e)return e instanceof Ni?e.pullRequestModel:e;if(!t.activePullRequest)throw b.window.showErrorMessage("Unable to find current pull request."),new Error("Unable to find current pull request.");return t.activePullRequest}async function sa(t,e,r,i,a){const p=Qi(a,r);i==null||i.reveal(i,{select:!0,focus:!0}),await dr.createOrShow(t.extensionUri,a,p),e.sendTelemetryEvent("pr.openDescription")}async function Ki(t,e,r){var i;if(t.length===1)return t[0];const a=t.map(p=>({label:e(p),itemValue:p}));return(i=await b.window.showQuickPick(a,r))==null?void 0:i.itemValue}async function Yi(t,e){t instanceof Ni||t instanceof ni?b.commands.executeCommand("vscode.open",b.Uri.parse(t.pullRequestModel.html_url)):b.commands.executeCommand("vscode.open",b.Uri.parse(t.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function op(t,e,r,i,a,p,M){t.subscriptions.push(b.commands.registerCommand("pr.openPullRequestOnGitHub",async K=>{if(K)Yi(K,a);else{const te=r.folderManagers.map(ae=>ae.activePullRequest).filter(ae=>!!ae);if(te.length>=1){const ae=await Ki(te,de=>de.html_url);ae&&Yi(ae,a)}}})),t.subscriptions.push(b.commands.registerCommand("review.suggestDiff",async K=>{try{const te=await Ki(r.folderManagers,$e=>c.basename($e.repository.rootUri.fsPath));if(!te||!te.activePullRequest)return;const{indexChanges:ae,workingTreeChanges:de}=te.repository.state;if(!ae.length)if(de.length)if(await b.window.showWarningMessage(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`,{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.stageAll");else return;else{b.window.showInformationMessage("There are no changes to suggest.");return}const _e=await te.repository.diff(!0);let Se="";K&&K.inputBox&&K.inputBox.value&&(Se=`${K.inputBox.value}
`,K.inputBox.value="");const Re=`${Se}\`\`\`diff
${_e}
\`\`\``;await te.activePullRequest.createIssueComment(Re),await b.commands.executeCommand("git.unstageAll");const Pe=c.join(te.repository.rootUri.path,".git",`${te.activePullRequest.number}.diff`),xe=new TextEncoder,Ue=b.Uri.parse(Pe);await b.workspace.fs.writeFile(Ue,xe.encode(_e)),await te.repository.apply(Pe,!0),await b.workspace.fs.delete(Ue)}catch(te){n.appendLine(`Applying patch failed: ${te}`),b.window.showErrorMessage(`Applying patch failed: ${L(te)}`)}})),t.subscriptions.push(b.commands.registerCommand("pr.openFileOnGitHub",async K=>{if(!(K instanceof ji&&!await b.window.showInformationMessage(`${K.fileName} can't be opened locally. Do you want to open it on GitHub?`,"Open"))&&K.blobUrl)return b.commands.executeCommand("vscode.open",b.Uri.parse(K.blobUrl))})),t.subscriptions.push(b.commands.registerCommand("pr.copyCommitHash",K=>{b.env.clipboard.writeText(K.sha)})),t.subscriptions.push(b.commands.registerCommand("pr.openOriginalFile",async K=>{const te=r.getManagerForIssueModel(K.pullRequest);if(te){const ae=await le(K.parentFilePath,te.repository);b.commands.executeCommand("vscode.open",ae||K.parentFilePath)}})),t.subscriptions.push(b.commands.registerCommand("pr.openModifiedFile",K=>{b.commands.executeCommand("vscode.open",K.filePath)})),t.subscriptions.push(b.commands.registerCommand("pr.openDiffView",K=>{const te=r.getManagerForIssueModel(K.pullRequest);!te||K.openDiff(te)})),t.subscriptions.push(b.commands.registerCommand("pr.deleteLocalBranch",async K=>{const te=r.getManagerForIssueModel(K.pullRequestModel);if(!te)return;const ae=Qi(te,K),de="delete branch (even if not merged)";let _e=null;try{await te.deleteLocalPullRequest(ae)}catch(Se){if(Se.gitErrorCode===q.BranchNotFullyMerged){if(await b.window.showErrorMessage(`The branch '${ae.localBranchName}' is not fully merged, are you sure you want to delete it? `,de)!==de)return;try{await te.deleteLocalPullRequest(ae,!0)}catch(Pe){_e=Pe}}else _e=Se}_e?(a.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await b.window.showErrorMessage(`Deleting local pull request branch failed: ${_e}`)):(a.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),b.commands.executeCommand("pr.refreshList"))}));function B(K){if(K){const te=b.Uri.file(K).toString();for(const ae of i)if(ae.repository.rootUri.toString()===te)return ae}return Ki(i,te=>c.basename(te.repository.rootUri.fsPath),{placeHolder:"Choose a repository to create a pull request in",ignoreFocusOut:!0})}function z(K){return!!(K==null?void 0:K.rootUri)}t.subscriptions.push(b.commands.registerCommand("pr.create",async K=>{var te,ae;z(K)?(te=await B(K.rootUri.fsPath))==null||te.createPullRequest():(ae=await B(K==null?void 0:K.repoPath))==null||ae.createPullRequest(K==null?void 0:K.compareBranch)})),t.subscriptions.push(b.commands.registerCommand("pr.pick",async K=>{let te;K instanceof Ni||K instanceof ni?te=K.pullRequestModel:te=K;const ae=K instanceof Lr;return a.sendTelemetryEvent("pr.checkout",{fromDescription:ae.toString()}),b.window.withProgress({location:b.ProgressLocation.SourceControl,title:`Switching to Pull Request #${te.number}`},async()=>{var de;await((de=ii.getReviewManagerForRepository(i,te.githubRepository))==null?void 0:de.switch(te))})})),t.subscriptions.push(b.commands.registerCommand("pr.exit",async K=>{let te;K instanceof Ni||K instanceof ni?te=K.pullRequestModel:te=K;const ae=K instanceof Lr;return a.sendTelemetryEvent("pr.exit",{fromDescription:ae.toString()}),b.window.withProgress({location:b.ProgressLocation.SourceControl,title:"Exiting Pull Request"},async()=>{const de=await te.githubRepository.getDefaultBranch(),_e=r.getManagerForIssueModel(te);_e&&_e.checkoutDefaultBranch(de)})})),t.subscriptions.push(b.commands.registerCommand("pr.merge",async K=>{const te=r.getManagerForIssueModel(K==null?void 0:K.pullRequestModel);if(!te)return;const ae=Qi(te,K);return ae.base&&ae.head&&!ae.base.repositoryCloneUrl.equals(ae.head.repositoryCloneUrl)&&Ws()?Yi(ae,a):b.window.showWarningMessage("Are you sure you want to merge this pull request on GitHub?",{modal:!0},"Yes").then(async Se=>{let Re;if(Se==="Yes")try{return Re=await te.mergePullRequest(ae),Re}catch(Pe){return b.window.showErrorMessage(`Unable to merge pull request. ${L(Pe)}`),Re}})})),t.subscriptions.push(b.commands.registerCommand("pr.readyForReview",async K=>{const te=r.getManagerForIssueModel(K==null?void 0:K.pullRequestModel);if(!te)return;const ae=Qi(te,K);return b.window.showWarningMessage("Are you sure you want to mark this pull request as ready to review on GitHub?",{modal:!0},"Yes").then(async de=>{let _e;if(de==="Yes")try{return _e=await ae.setReadyForReview(),b.commands.executeCommand("pr.refreshList"),_e}catch(Se){return b.window.showErrorMessage(`Unable to mark pull request as ready to review. ${L(Se)}`),_e}})})),t.subscriptions.push(b.commands.registerCommand("pr.close",async(K,te)=>{let ae;if(K)ae=K instanceof Lr?K:K.pullRequestModel;else{const _e=r.folderManagers.map(Se=>Se.activePullRequest).filter(Se=>!!Se);ae=await Ki(_e,Se=>`${Se.number}: ${Se.title}`,{placeHolder:"Pull request to close"})}if(!ae)return;const de=ae;return b.window.showWarningMessage("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging.",{modal:!0},"Yes","No").then(async _e=>{if(_e==="Yes")try{let Se;te&&(Se=await de.createIssueComment(te));const Re=await de.close();return b.commands.executeCommand("pr.refreshList"),Un.fire(Re),Se}catch(Se){b.window.showErrorMessage(`Unable to close pull request. ${L(Se)}`),Un.fire()}Un.fire()})})),t.subscriptions.push(b.commands.registerCommand("pr.openDescription",async K=>{let te;if(K)te=K instanceof ni?K.pullRequestModel:K;else{const _e=r.folderManagers.map(Se=>Se.activePullRequest).filter(Se=>!!Se);_e.length>=1&&(te=await Ki(_e,Se=>Se.title))}if(!te){n.appendLine("No pull request found.");return}const ae=r.getManagerForIssueModel(te);if(!ae)return;let de;if(K instanceof ni)de=K;else{const _e=ii.getReviewManagerForFolderManager(i,ae);if(!_e)return;de=_e.changesInPrDataProvider.getDescriptionNode(ae)}await sa(t,a,te,de,ae)})),t.subscriptions.push(b.commands.registerCommand("pr.refreshDescription",async()=>{dr.currentPanel&&dr.refresh()})),t.subscriptions.push(b.commands.registerCommand("pr.openDescriptionToTheSide",async K=>{const te=r.getManagerForIssueModel(K.pullRequestModel);if(!te)return;const ae=K.pullRequestModel,de=Qi(te,ae);K.reveal(K,{select:!0,focus:!0}),dr.createOrShow(t.extensionUri,te,de,!0),a.sendTelemetryEvent("pr.openDescriptionToTheSide")})),t.subscriptions.push(b.commands.registerCommand("pr.signin",async()=>{await r.authenticate()})),t.subscriptions.push(b.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const K of r.folderManagers)await K.deleteLocalBranchesNRemotes()})),t.subscriptions.push(b.commands.registerCommand("pr.signinAndRefreshList",async()=>{await r.authenticate()&&b.commands.executeCommand("pr.refreshList")})),t.subscriptions.push(b.commands.registerCommand("pr.configureRemotes",async()=>b.commands.executeCommand("workbench.action.openSettings",`@ext:${Ve} remotes`))),t.subscriptions.push(b.commands.registerCommand("pr.startReview",async K=>{a.sendTelemetryEvent("pr.startReview");const te=Te(K.thread);te&&te.startReview(K.thread,K.text)})),t.subscriptions.push(b.commands.registerCommand("pr.openReview",async K=>{a.sendTelemetryEvent("pr.openReview");const te=Te(K.thread);te&&await te.openReview(K.thread)})),t.subscriptions.push(b.commands.registerCommand("pr.resolveReviewThread",async K=>{a.sendTelemetryEvent("pr.resolveReviewThread");const te=Te(K.thread);te&&await te.resolveReviewThread(K.thread.value,K.text)})),t.subscriptions.push(b.commands.registerCommand("pr.unresolveReviewThread",async K=>{a.sendTelemetryEvent("pr.unresolveReviewThread");const te=Te(K.thread);te&&await te.unresolveReviewThread(K.thread.value,K.text)})),t.subscriptions.push(b.commands.registerCommand("pr.createComment",async K=>{a.sendTelemetryEvent("pr.createComment");const te=Te(K.thread);te&&te.createOrReplyComment(K.thread,K.text,!1)})),t.subscriptions.push(b.commands.registerCommand("pr.createSingleComment",async K=>{a.sendTelemetryEvent("pr.createSingleComment");const te=Te(K.thread);te&&te.createOrReplyComment(K.thread,K.text,!0)})),t.subscriptions.push(b.commands.registerCommand("pr.editComment",async K=>{a.sendTelemetryEvent("pr.editComment"),K.startEdit()})),t.subscriptions.push(b.commands.registerCommand("pr.cancelEditComment",async K=>{a.sendTelemetryEvent("pr.cancelEditComment"),K.cancelEdit()})),t.subscriptions.push(b.commands.registerCommand("pr.saveComment",async K=>{a.sendTelemetryEvent("pr.saveComment");const te=Te(K.parent);te&&await te.editComment(K.parent,K)})),t.subscriptions.push(b.commands.registerCommand("pr.deleteComment",async K=>{if(a.sendTelemetryEvent("pr.deleteComment"),await b.window.showWarningMessage("Delete comment?",{modal:!0},"Delete")==="Delete"){const ae=Te(K.parent);ae&&await ae.deleteComment(K.parent,K)}})),t.subscriptions.push(b.commands.registerCommand("review.openFile",K=>{var te;const ae=K instanceof xi?K.openFileCommand():Du(K);b.commands.executeCommand(ae.command,...(te=ae.arguments)!=null?te:[])})),t.subscriptions.push(b.commands.registerCommand("pr.refreshChanges",K=>{i.forEach(te=>{te.updateComments(),dr.refresh(),te.changesInPrDataProvider.refresh()})})),t.subscriptions.push(b.commands.registerCommand("pr.setFileListLayoutAsTree",K=>{b.workspace.getConfiguration("githubPullRequests").update("fileListLayout","tree",!0)})),t.subscriptions.push(b.commands.registerCommand("pr.setFileListLayoutAsFlat",K=>{b.workspace.getConfiguration("githubPullRequests").update("fileListLayout","flat",!0)})),t.subscriptions.push(b.commands.registerCommand("pr.refreshPullRequest",K=>{var te;const ae=r.getManagerForIssueModel(K.pullRequestModel);ae&&K.pullRequestModel.equals(ae==null?void 0:ae.activePullRequest)&&((te=ii.getReviewManagerForFolderManager(i,ae))==null||te.updateComments()),dr.refresh(),M.refresh(K)})),t.subscriptions.push(b.commands.registerCommand("pr.markFileAsViewed",async K=>{try{await K.pullRequest.markFileAsViewed(K.fileName)}catch(te){b.window.showErrorMessage(`Marked file as viewed failed: ${te}`)}})),t.subscriptions.push(b.commands.registerCommand("pr.unmarkFileAsViewed",async K=>{try{await K.pullRequest.unmarkFileAsViewed(K.fileName)}catch(te){b.window.showErrorMessage(`Marked file as not viewed failed: ${te}`)}})),t.subscriptions.push(b.commands.registerCommand("pr.expandAllComments",()=>{e.commentsExpandState=!0})),t.subscriptions.push(b.commands.registerCommand("pr.collapseAllComments",()=>{e.commentsExpandState=!1}))}var up=Object.defineProperty,aa=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class lp{constructor(e){aa(this,"_commentsExpandState"),aa(this,"_onDidChangeCommentsExpandState",new b.EventEmitter),aa(this,"onDidChangeCommentsExpandState",this._onDidChangeCommentsExpandState.event);var r;const i=(r=b.workspace.getConfiguration(Wt))==null?void 0:r.get(Pn);this._commentsExpandState=i===Gs,e.subscriptions.push(b.workspace.onDidChangeConfiguration(a=>{var p;if(a.affectsConfiguration(`${Wt}.${Pn}`)){const M=(p=b.workspace.getConfiguration(Wt))==null?void 0:p.get(Pn);this.commentsExpandState=M===Gs}}))}get commentsExpandState(){return this._commentsExpandState}set commentsExpandState(e){this._commentsExpandState=e,this._onDidChangeCommentsExpandState.fire(this._commentsExpandState)}}var Pi=nt(59035),cp=Object.defineProperty,Vu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class dp{constructor(e){this.baseReporter=e,Vu(this,"sharedProperties",{})}sendTelemetryEvent(e,r,i){var a;(a=this.baseReporter)==null||a.sendTelemetryEvent(e,{...this.sharedProperties,...r},i)}sendTelemetryErrorEvent(e,r,i){var a;(a=this.baseReporter)==null||a.sendTelemetryErrorEvent(e,{...this.sharedProperties,...r})}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){const i={};for(const[a,p]of r)i[a]=p;this.sendTelemetryEvent(e,i)}async dispose(){var e;return(e=this.baseReporter)==null?void 0:e.dispose()}}function fp(){switch(b.env.uriScheme){case"vscode":return Pi.aU.Public;case"vscode-insiders":return Pi.aU.Insiders;case"vscode-exploration":return Pi.aU.Internal;case"code-oss":return Pi.aU.Team;default:return Pi.aU.Public}}class hp{constructor(){Vu(this,"initializePromise",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}}async function pp(t,e){const r=t.extension.id,i=t.extension.packageJSON.name,a=t.extension.packageJSON.version,p=fp();return i==="vscode-pull-request-github"?(0,Pi.X7)(r,a,p,e,t.globalState):new hp}var mp=Object.defineProperty,Ji=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?mp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class _0 extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class S0 extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class k0 extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:a}=this;return`The upstream ref ${e}/${r} for branch ${i} ${a}.`}}const E0="No Milestone";class ju{constructor(e,r,i,a){this._folderManagers=e,this._credentialStore=r,this._telemetry=i,this._sessionState=a,Ji(this,"_subs"),Ji(this,"_onDidChangeState",new b.EventEmitter),Ji(this,"onDidChangeState",this._onDidChangeState.event),Ji(this,"_state",fr.Initializing),this._subs=[],b.commands.executeCommand("setContext",gu,this._state),this._subs.push(...e.map(p=>p.onDidLoadRepositories(M=>this.state=M)))}get folderManagers(){return this._folderManagers}insertFolderManager(e){const r=b.workspace.workspaceFolders;if(r){const i=r.findIndex(a=>a.uri.toString()===e.repository.rootUri.toString());if(i>-1){const a=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...a);return}}this._folderManagers.push(e)}removeRepo(e){const r=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(r>-1){const i=this._folderManagers[r];this._folderManagers.splice(r),i.dispose()}}getManagerForIssueModel(e){if(e===void 0)return;const r=e.remote.url.substring(0,e.remote.url.length-c.extname(e.remote.url).length);for(const i of this._folderManagers)if(i.gitHubRepositories.map(a=>a.remote.url.substring(0,a.remote.url.length-c.extname(a.remote.url).length)).includes(r))return i}getManagerForFile(e){for(const r of this._folderManagers){const i=r.repository.rootUri.path,a=e.path.substring(i.length>1?i.length+1:i.length);if(P(b.Uri.joinPath(r.repository.rootUri,a).path,e.path)===0)return r}}get state(){return this._state}set state(e){const r=e!==this._state;this._state=e,r&&(b.commands.executeCommand("setContext",gu,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=fr.Initializing}async authenticate(){const e=await this._credentialStore.login(pt.github);let r;return Mi()&&(r=await this._credentialStore.login(pt["github-enterprise"])),!!e||!!r}createGitHubRepository(e,r){return new _i(e,r,this._telemetry,this._sessionState)}createGitHubRepositoryFromOwnerName(e,r){const i=`https://github.com/${e}/${r}`;return new _i(new Sn(r,i,new Bt(i)),this._credentialStore,this._telemetry,this._sessionState)}dispose(){this._subs.forEach(e=>e.dispose())}}Ji(ju,"ID","RepositoriesManager");function R0(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var vp=Object.defineProperty,Pr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?vp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class oa{constructor(e){Pr(this,"_onDidOpenRepository",new b.EventEmitter),Pr(this,"onDidOpenRepository",this._onDidOpenRepository.event),Pr(this,"_onDidCloseRepository",new b.EventEmitter),Pr(this,"onDidCloseRepository",this._onDidCloseRepository.event),Pr(this,"_onDidChangeState",new b.EventEmitter),Pr(this,"onDidChangeState",this._onDidChangeState.event),Pr(this,"_onDidPublish",new b.EventEmitter),Pr(this,"onDidPublish",this._onDidPublish.event),Pr(this,"_gitAPI"),Pr(this,"_disposables");const r=e.exports;try{this._gitAPI=r.getAPI(1)}catch(i){throw b.window.showErrorMessage("Activating the Pull Requests and Issues extension failed. Please make sure you have git installed."),i}this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._disposables.push(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._disposables.push(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._disposables.push(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=b.extensions.getExtension("vscode.git");if(e)return await e.activate(),new oa(e)}dispose(){this._disposables.forEach(e=>e.dispose())}}var gp=Object.defineProperty,Nt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?gp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class bp{constructor(e){this._liveShareAPI=e,Nt(this,"_onDidOpenRepository",new b.EventEmitter),Nt(this,"onDidOpenRepository",this._onDidOpenRepository.event),Nt(this,"_onDidCloseRepository",new b.EventEmitter),Nt(this,"onDidCloseRepository",this._onDidCloseRepository.event),Nt(this,"_openRepositories",[]),Nt(this,"_sharedServiceProxy"),Nt(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(hr)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(b.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(r)}),e.removed.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(r)})}async _refreshWorkspaces(e){b.workspace.workspaceFolders&&b.workspace.workspaceFolders.forEach(async r=>{r.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(r):await this.closeVSLSRepository(r))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new _p(e,this._sharedServiceProxy),a=new yp,p=new Proxy(i,a);await p.initialize(),this.openRepository(p)}async closeVSLSRepository(e){const r=this.getRepository(e);!r||this.closeRepository(r)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(r=>r!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(r=>r.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class yp{constructor(){}get(e,r){return r in e?e[r]:function(...i){return e.proxy.request(je,[r,e.workspaceFolder.uri.toString(),...i])}}}class wp{constructor(e){Nt(this,"HEAD"),Nt(this,"refs"),Nt(this,"remotes"),Nt(this,"submodules",[]),Nt(this,"rebaseCommit"),Nt(this,"mergeChanges",[]),Nt(this,"indexChanges",[]),Nt(this,"workingTreeChanges",[]),Nt(this,"_onDidChange",new b.EventEmitter),Nt(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs,this._onDidChange.fire()}}class _p{constructor(e,r){this.workspaceFolder=e,this.proxy=r,Nt(this,"rootUri"),Nt(this,"state")}async initialize(){const e=await this.proxy.request(je,[ze,this.workspaceFolder.uri.toString()]);this.state=new wp(e),this.rootUri=b.Uri.parse(e.rootUri),this.proxy.onNotify(We,this._notifyHandler.bind(this))}_notifyHandler(e){var r;(r=this.state)==null||r.update(e)}}var Sp=Object.defineProperty,zu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Sp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class kp{constructor(e,r){this._liveShareAPI=e,this._api=r,zu(this,"_sharedService"),zu(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(hr)||void 0,this._sharedService&&this._sharedService.onRequest(je,this._gitHandler.bind(this))}async _gitHandler(e){const r=e[0],i=e[1],a=b.Uri.parse(i),p=this._liveShareAPI.convertSharedUriToLocal(a),M=this._api.getGitProvider(p);if(!M)return;const B=M.repositories.filter(z=>z.rootUri.toString()===p.toString())[0];if(B){const z=e.slice(2);if(r===ze)return this._disposables.push(B.state.onDidChange(K=>{this._sharedService.notify(We,{HEAD:B.state.HEAD,remotes:B.state.remotes,refs:B.state.refs})})),{HEAD:B.state.HEAD,remotes:B.state.remotes,refs:B.state.refs,rootUri:a.toString()};if(r==="show"){const K=z[1],te=a.with({path:K}),ae=this._liveShareAPI.convertSharedUriToLocal(te);return z[1]=ae.fsPath,B[r](...z)}if(B[r])return B[r](...z)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var Ep=Object.defineProperty,Zi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);async function Rp(){const t=b.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!t)return null;const e=t.isActive?t.exports:await t.activate();if(!e)return null;const r="0.3.967";return e.getApi?e.getApi(r):e.getApiAsync(r)}class Mp{constructor(e){this._api=e,Zi(this,"_liveShareAPI"),Zi(this,"_host"),Zi(this,"_guest"),Zi(this,"_localDisposables"),Zi(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await Rp()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(r=>r.dispose()),e.role===1){this._host=new kp(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new bp(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function xp(t){return new Mp(t)}async function Tp(t,e){const r=await oa.createProvider();if(r)return e.registerGitProvider(r),r}var Cp=Object.defineProperty,Wu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Np{constructor(e){this.pullRequestManager=e,Wu(this,"onNotifiedEmitter",new b.EventEmitter),Wu(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(r=>{r.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,r,i){let a=null;switch(e){case"initialize":a={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const p=new Map;for(const M of this.pullRequestManager.folderManagers){const B=M.getAllAssignableUsers();if(!!B)for(const z of B)p.has(z.login)||p.set(z.login,z)}p.size>0&&this.notifySuggestedAccounts(Array.from(p.values()));break;default:throw new Error(`type:${e} not supported`)}return a}async notifySuggestedAccounts(e){let r;try{r=await this.getCurrentUserLogin()}catch(i){}r&&e.findIndex(i=>i.login===r)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const r=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(r){const i=r.hub.currentUser;if(i)return i.login}}notify(e,r){this.onNotifiedEmitter.fire({type:e,body:r})}notifySuggestedUsers(e,r){this.notify("suggestedUsers",{contacts:e,exclusive:r})}}var Pp=Object.defineProperty,Qu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Pp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ap{constructor(){Qu(this,"_extensionsDisposable"),Qu(this,"_subscriptions",[]),this._extensionsDisposable=b.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),b.Disposable.from(...this._subscriptions).dispose()}register(e){this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(r){r.branch.isRemote||b.commands.executeCommand("pr.create",{repoPath:r.repoPath,compareBranch:r.branch.name})}}))}async onExtensionsChanged(){var e;const r=(e=b.extensions.getExtension("eamodio.gitlens"))!=null?e:b.extensions.getExtension("eamodio.gitlens-insiders");if(r)if(this._extensionsDisposable.dispose(),r.isActive)this.register(await r.exports);else{let i=0;const a=setInterval(async()=>{r.isActive?(clearInterval(a),this.register(await r.exports)):(i++,i>60&&clearInterval(a))},1e3)}}}var Ip=Object.defineProperty,ai=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ip(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ku{constructor(e,r,i,a,p){this.issueModel=e,this.manager=r,this.stateManager=i,this.shouldPromptForBranch=p,ai(this,"repoChangeDisposable"),ai(this,"_branchName"),ai(this,"user"),ai(this,"repo"),ai(this,"_repoDefaults"),ai(this,"_onDidChangeCurrentIssueState",new b.EventEmitter),ai(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(a!=null?a:this.issueModel.githubRepository.remote)}setRepo(e){var r;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const a=this.stateManager.gitAPI.repositories[i];for(let p=0;p<a.state.remotes.length;p++){const M=a.state.remotes[p];if(M.name===(e==null?void 0:e.remoteName)&&((r=M.fetchUrl)==null?void 0:r.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=a;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(){var e;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch()){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const r=this.manager.getCurrentUser(this.issueModel).login;return b.workspace.getConfiguration("githubIssues").get("assignWhenWorking")&&!((e=this.issueModel.assignees)==null?void 0:e.find(i=>i.login===r))&&(this.manager.gitHubRepositories.find(i=>i.remote.owner===this.issueModel.remote.owner&&i.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,r),await this.stateManager.refresh()),!0}}catch(r){b.window.showErrorMessage("There is no remote. Can't start working on an issue.")}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(){this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&await this.manager.repository.checkout(this._repoDefaults.base),this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async branchExists(e){try{return!!await this.manager.repository.getBranch(e)}catch(r){}return!1}async createOrCheckoutBranch(e){try{return await this.branchExists(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(r){return r.message!=="User aborted"&&b.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${r.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async ensureBranchTitleConfigMigrated(){var e;const r=b.workspace.getConfiguration(Mt),i=r.inspect(Qo);async function a(p,M){await r.update(Is,p,M),await r.update(Qo,void 0,M)}return(i==null?void 0:i.globalValue)&&await a(i.globalValue,b.ConfigurationTarget.Global),(i==null?void 0:i.workspaceValue)&&await a(i.workspaceValue,b.ConfigurationTarget.Workspace),(i==null?void 0:i.workspaceFolderValue)&&await a(i.workspaceFolderValue,b.ConfigurationTarget.WorkspaceFolder),(e=b.workspace.getConfiguration(Mt).get(Is))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const r=/[^ \\@\~\^\?\*\[]+/,i=e.match(r);if(i&&i.length>0&&i[0]!==e)return"Branch name cannot contain a space or the following characters: \\@~^?*["}showBranchNameError(e){const r="Edit Setting";b.window.showErrorMessage(e,r).then(i=>{i===r&&b.commands.executeCommand("workbench.action.openSettings",`${Mt}.${Is}`)})}async createIssueBranch(){const e=this.shouldPromptForBranch?"prompt":b.workspace.getConfiguration(Mt).get(Ko);if(e==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);if(this._branchName=this.shouldPromptForBranch?void 0:r.branch,!this._branchName){const i=await Mn(await this.ensureBranchTitleConfigMigrated(),this.issue,void 0,await this.getUser());if(e==="on"){const a=this.validateBranchName(i);if(a)return this.showBranchNameError(a),!1;this._branchName=i}else this._branchName=await b.window.showInputBox({value:i,prompt:"Enter the label for the new branch."})}return this._branchName?(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1)):!1}async getCommitMessage(){const e=b.workspace.getConfiguration(Mt).get(xf);if(typeof e=="string")return Mn(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}class Yu extends b.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,b.CompletionItemKind.Issue);this.issue=e}}class Dp{constructor(e,r,i){this.stateManager=e,this.repositoriesManager=r,this.context=i}async provideCompletionItems(e,r,i,a){var p,M,B,z;if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&r.character>0&&a.triggerKind===b.CompletionTriggerKind.Invoke&&!e.getText(e.getWordRangeAtPosition(r)).match(/#[0-9]*$/))return[];if(r.character<=6&&e.languageId==="markdown"&&e.getText(new b.Range(r.with(void 0,0),r))===new Array(r.character+1).join("#"))return[];if(a.triggerKind===b.CompletionTriggerKind.TriggerCharacter&&b.workspace.getConfiguration(Mt).get("ignoreCompletionTrigger",[]).find(Re=>Re===e.languageId))return[];if(e.languageId!=="scminput"&&!await Ls(e,r))return[];let K=new b.Range(r,r);r.character-1>=0&&e.getText(new b.Range(r.translate(0,-1),r))==="#"&&(K=new b.Range(r.translate(0,-1),r)),await this.stateManager.tryInitializeAndWait();const te=new Map,ae=new Date;let de,_e;if(e.languageId==="scminput"?_e=su(e.uri):e.uri.scheme==="comment"?_e=b.window.visibleTextEditors.length>0?(p=b.workspace.getWorkspaceFolder(b.Uri.file(b.window.visibleTextEditors[0].document.uri.fsPath)))==null?void 0:p.uri:void 0:_e=(M=b.workspace.getWorkspaceFolder(e.uri))==null?void 0:M.uri,!_e)return[];try{de=await((B=this.repositoriesManager.getManagerForFile(_e))==null?void 0:B.getPullRequestDefaults())}catch(Re){}const Se=this.stateManager.getIssueCollection(_e);for(const Re of Se){const Pe=(z=await Re[1])!=null?z:[];if(Pe.length!==0)if(Pe[0]instanceof Ot){let xe=0;for(const Ue of Pe)te.set(bi(Ue),await this.completionItemFromIssue(de,Ue,ae,K,e,xe++))}else for(let xe=0;xe<Pe.length;xe++){const Ue=Pe[xe];for(const $e of Ue.issues)te.set(bi($e),await this.completionItemFromIssue(de,$e,ae,K,e,xe,Ue.milestone))}}return[...te.values()]}async completionItemFromIssue(e,r,i,a,p,M,B){var z;const K=new Yu(r);if(p.languageId==="markdown")K.insertText=`[${bi(r,e)}](${r.html_url})`;else{const ae=b.workspace.getConfiguration(Mt).get("issueCompletionFormatScm");p.uri.path.match(/scm\/git\/scm\d\/input/)&&typeof ae=="string"?K.insertText=await Mn(ae,r,e):K.insertText=`${bi(r,e)}`}K.documentation=r.body,K.range=a,K.detail=B?B.title:(z=r.milestone)==null?void 0:z.title;let te=(i.getTime()-new Date(r.updatedAt).getTime()).toString();return te=new Array(20-te.length).join("0")+te,K.sortText=`${M} ${te}`,K.filterText=`${K.detail} # ${r.number} ${r.title} ${K.documentation}`,K}async resolveCompletionItem(e,r){return e instanceof Yu&&(e.documentation=await Os(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:"Issue Completion Chose,"}),e}}var Fp=Object.defineProperty,Xi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const qr="newIssue",Op="NewIssue.md",qn="Assignees:",en="Labels:";function ua(t){const e=JSON.parse(t.query);if(e.origin)return b.Uri.parse(e.origin)}class Bp{constructor(){Xi(this,"content"),Xi(this,"createTime",0),Xi(this,"modifiedTime",0),Xi(this,"_onDidChangeFile",new b.EventEmitter),Xi(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,r){const i=this.onDidChangeFile(a=>{a.length===0&&a[0].type===b.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var r,i;return{type:b.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(r=this.content)==null?void 0:r.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var r;return(r=this.content)!=null?r:new Uint8Array(0)}writeFile(e,r,i={create:!1,overwrite:!1}){const a=this.content;this.content=r,a===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Changed}]))}delete(e,r){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Deleted}])}rename(e,r,i){}}class Lp{constructor(e){this.manager=e}async provideCompletionItems(e,r,i,a){if(!e.lineAt(r.line).text.startsWith(en))return[];const p=ua(e.uri);if(!p)return[];const M=this.manager.getManagerForFile(p);if(!M)return[];const B=await M.getPullRequestDefaults();return(await M.getLabels(void 0,B)).map(K=>{const te=new b.CompletionItem(K.name,b.CompletionItemKind.Color);return te.documentation=`#${K.color}`,te.commitCharacters=[" ",","],te})}}class Up{constructor(e,r,i,a){this.manager=e,this.stateManager=r,this.context=i,this.telemetry=a}async provideHover(e,r,i){if(!await nu(e,r))return;let a=e.getWordRangeAtPosition(r,$i);if(a&&a.start.character>0){a=new b.Range(new b.Position(a.start.line,a.start.character-1),a.end);const M=e.getText(a).match($i),B=Ds(M),z=this.manager.getManagerForFile(e.uri);if(!z)return;if(B&&M&&B.issueNumber<=this.stateManager.maxIssueNumber(z.repository.rootUri))return this.createHover(z,M[0],B,a)}else return}async createHover(e,r,i,a){const p=await Tf(this.stateManager,e,r,i);if(!!p)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new b.Hover(await Os(p,this.context,this.manager,i.commentNumber),a)}}var qp=Object.defineProperty,Ju=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?qp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class oi extends b.TreeItem{constructor(e,r,i){super(r,i);this.uri=e}get labelAsString(){var e;return typeof this.label=="string"?this.label:(e=this.label)==null?void 0:e.label}}class $p{constructor(e,r,i){this.stateManager=e,this.manager=r,this.context=i,Ju(this,"_onDidChangeTreeData",new b.EventEmitter),Ju(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getTreeItem(e){var r;let i;return e instanceof oi?i=e:e instanceof Si?i=new oi(e.repository.rootUri,c.basename(e.repository.rootUri.fsPath),b.TreeItemCollapsibleState.Expanded):e instanceof Ot?(i=new oi(void 0,`${e.number}: ${e.title}`,b.TreeItemCollapsibleState.None),i.iconPath=e.isOpen?new b.ThemeIcon("issues",new b.ThemeColor("issues.open")):new b.ThemeIcon("issue-closed",new b.ThemeColor("issues.closed")),((r=this.stateManager.currentIssue(e.uri))==null?void 0:r.issue.number)===e.number?(i.label=`\u2713 ${i.label}`,i.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?i.contextValue="continueissue":i.contextValue="issue",Sf(e)&&(i.contextValue="link"+i.contextValue)):i=new oi(e.uri,e.milestone.title,e.issues.length>0?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.None),i}getChildren(e){return e===void 0&&this.manager.state!==fr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,r){return r instanceof Ot&&(e.tooltip=await Os(r,this.context,this.manager)),e}getStateChildren(){return this.manager.state===fr.NeedsAuthentication?[]:[new oi(void 0,"Loading...")]}getQueryItems(e){const r=this.stateManager.getIssueCollection(e.repository.rootUri);if(r.size===1)return Array.from(r.values())[0];const i=Array.from(r.keys()),a=i[0];return i.map(p=>{const M=new oi(e.repository.rootUri,p);return M.contextValue="query",M.collapsibleState=p===a?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.Collapsed,M})}getIssuesChildren(e){var r;return e===void 0?this.manager.folderManagers.length===1?this.getQueryItems(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]:e instanceof Si?this.getQueryItems(e):e instanceof oi?e.uri?(r=this.stateManager.getIssueCollection(e.uri).get(e.labelAsString))!=null?r:[]:[]:e instanceof Ot?[]:e.issues.map(i=>{const a=Object.assign(i);return a.uri=e.uri,a})}}var Hp=Object.defineProperty,Gp=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Hp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Vp{constructor(e){Gp(this,"expression"),e.subscriptions.push(b.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=b.workspace.getConfiguration(Mt).get("createIssueTriggers",[]);this.expression=e.length>0?new RegExp(e.join("|")):void 0}async provideCodeActions(e,r,i,a){if(this.expression===void 0||i.only&&i.only!==b.CodeActionKind.QuickFix)return[];const p=[];let M=r.start.line;do{const B=e.lineAt(M).text,z=B.substring(0,Rf);if(!z.match($i)){const te=z.search(this.expression);if(te>=0){const ae=new b.CodeAction("Create GitHub Issue",b.CodeActionKind.QuickFix),de=z.substring(te).search(/\s/),_e=te+(de>0?de:z.match(this.expression)[0].length);ae.command={title:"Create GitHub Issue",command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:M,line:B,insertIndex:_e,range:r}]},p.push(ae);break}}M++}while(r.end.line>=M);return p}}var jp=Object.defineProperty,cr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?jp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const zp=["Recovery"],Wp="currentIssue",la="issues",Zu="ignoreMilestones",ca=[{label:"My Issues",query:"default"}];class M0 extends null{constructor(){super(...arguments);cr(this,"uri")}}class Qp{constructor(e,r,i){this.gitAPI=e,this.manager=r,this.context=i,cr(this,"resolvedIssues",new Map),cr(this,"_singleRepoStates",new Map),cr(this,"_onRefreshCacheNeeded",new b.EventEmitter),cr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),cr(this,"_onDidChangeIssueData",new b.EventEmitter),cr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),cr(this,"_queries",[]),cr(this,"_onDidChangeCurrentIssue",new b.EventEmitter),cr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),cr(this,"initializePromise"),cr(this,"statusBarItem"),cr(this,"isSettingIssue",!1),r.folderManagers.forEach(a=>{this.context.subscriptions.push(a.onDidChangeRepositories(()=>this.refresh()))})}getIssueCollection(e){var r;let i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,r){let i=this._singleRepoStates.get(e.path);return i||(r||(r=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:r},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.state===fr.RepositoriesLoaded)this.doInitialize(),e();else{const r=this.manager.onDidChangeState(()=>{this.manager.state===fr.RepositoriesLoaded&&(this.doInitialize(),r.dispose(),e())});this.context.subscriptions.push(r)}})),this.initializePromise}registerRepositoryChangeEvent(){this.gitAPI.repositories.forEach(e=>{this.context.subscriptions.push(e.state.onDidChange(async()=>{var r;const i=this.getOrCreateSingleRepoState(e.rootUri),a=i.lastHead,p=i.lastBranch,M=e.state.HEAD?e.state.HEAD.commit:void 0;(e.state.HEAD?e.state.HEAD.commit:void 0)!==a&&await this.setIssueData(i.folderManager);const B=(r=e.state.HEAD)==null?void 0:r.name;(a!==M||p!==B)&&(!i.currentIssue||B!==i.currentIssue.branchName)&&(B?i.folderManager&&await this.setCurrentIssueFromBranch(i,B):await this.setCurrentIssue(i,void 0)),i.lastHead=e.state.HEAD?e.state.HEAD.commit:void 0,i.lastBranch=e.state.HEAD?e.state.HEAD.name:void 0}))})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(){return this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=b.workspace.getConfiguration(Mt).get(gi,ca),this._queries.length===0&&(this._queries=ca),this.context.subscriptions.push(b.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Mt}.${gi}`)?(this._queries=b.workspace.getConfiguration(Mt).get(gi,ca),this._onRefreshCacheNeeded.fire()):r.affectsConfiguration(`${Mt}.${Zu}`)&&this._onRefreshCacheNeeded.fire()})),await this.setAllIssueData(),this.registerRepositoryChangeEvent(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const r of this.manager.folderManagers){const i=this.getOrCreateSingleRepoState(r.repository.rootUri,r);i.lastHead=r.repository.state.HEAD?r.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(r.repository.rootUri.path,i);const a=(e=r.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&a&&await this.setCurrentIssueFromBranch(i,a)}}cleanIssueState(){const e=this.context.workspaceState.get(la),r=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const a in r.issues)r.issues[a].stateModifiedTime<i&&(r.branches&&r.branches[a]&&delete r.branches[a],delete r.issues[a])}async getUsers(e){var r;await this.initializePromise;const i=await((r=this.manager.getManagerForFile(e))==null?void 0:r.getAssignableUsers()),a=new Map;for(const p in i)i[p].forEach(M=>{a.set(M.login,M)});return a}getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const r=this.getOrCreateSingleRepoState(e);return r.userMap||(r.userMap=this.getUsers(e)),r.userMap}async getCurrentUser(e){var r;return(r=this.manager.credentialStore.getCurrentUser(e))==null?void 0:r.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var r,i;const a=this.getOrCreateSingleRepoState(e.repository.rootUri,e);a.issueCollection.clear();let p,M;for(const B of this._queries){let z;if(B.query===Mf)z=this.setMilestones(e);else{if(!p)try{p=await e.getPullRequestDefaults()}catch(K){}if(!M){const K=vi(e.repository).filter(te=>te.authProviderId===pt["github-enterprise"]);M=await this.getCurrentUser(K.length?pt["github-enterprise"]:pt.github)}z=this.setIssues(e,await Mn(B.query,void 0,p,M))}a.issueCollection.set(B.label,z)}a.maxIssueNumber=await e.getMaxIssue(),a.lastHead=(r=e.repository.state.HEAD)==null?void 0:r.commit,a.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,r){return new Promise(async i=>{const a=await e.getIssues({fetchNextPage:!1},r);this._onDidChangeIssueData.fire(),i(a.items.map(p=>{const M=p;return M.uri=e.repository.rootUri,M}))})}async setCurrentIssueFromBranch(e,r){if(b.workspace.getConfiguration(Mt).get(Ko)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch(M){return}if(r===a.base){await this.setCurrentIssue(e,void 0);return}if(e.currentIssue&&e.currentIssue.branchName===r)return;const p=this.getSavedState();for(const M in p.branches)if(M===r){const B=await e.folderManager.resolveIssue(p.branches[M].owner,p.branches[M].repositoryName,p.branches[M].number);B&&await this.setCurrentIssue(e,new Ku(B,e.folderManager,this));return}}setMilestones(e){return new Promise(async r=>{const i=new Date,a=b.workspace.getConfiguration(Mt).get(Zu,[]),p=await e.getMilestones({fetchNextPage:!1},a.indexOf(bu)<0);let M;const B=new Map,z=[];for(let K=0;K<p.items.length;K++){const te=p.items[K];te.uri=e.repository.rootUri;const ae=p.items[K].milestone;if(te.issues&&te.issues.length<=0||a.indexOf(ae.title)>=0)continue;z.push(te);let de=ae.dueOn?new Date(ae.dueOn):void 0;de||(de=new Date(this.removeDateExcludeStrings(ae.title)),isNaN(de.getTime())&&(de=new Date(ae.createdAt))),de<i&&(M===void 0||de>M)&&(M=de),B.set(ae.id?ae.id:ae.title,de)}z.sort((K,te)=>{const ae=B.get(K.milestone.id?K.milestone.id:K.milestone.title),de=B.get(te.milestone.id?te.milestone.id:te.milestone.title);return M&&ae>=M&&de>=M?ae<=de?-1:1:ae>=de?-1:1}),this._onDidChangeIssueData.fire(),r(z)})}removeDateExcludeStrings(e){return zp.forEach(r=>e=e.replace(r,"")),e}currentIssue(e){var r;return(r=this._singleRepoStates.get(e.path))==null?void 0:r.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var r,i;return(i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,r){if(!(this.isSettingIssue&&r===void 0)){if(this.isSettingIssue=!0,e instanceof Si){const i=this._singleRepoStates.get(e.repository.rootUri.path);if(!i)return;e=i}try{if(e.currentIssue&&(r==null?void 0:r.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(),r&&this.context.subscriptions.push(r.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(Wp,r==null?void 0:r.issue.number),(!r||await r.startWorking())&&(e.currentIssue=r,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(i){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),r=e.length>0;if(!r){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}r&&!this.statusBarItem&&(this.statusBarItem=b.window.createStatusBarItem("github.issues.status",b.StatusBarAlignment.Left,0),this.statusBarItem.name="GitHub Active Issue");const i=this.statusBarItem;i.text=`$(issues) Issue ${e.map(a=>bi(a.issue,a.repoDefaults)).join(", ")}`,i.tooltip=e.map(a=>a.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(la);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var r;return(r=this.getSavedState().issues[`${e}`])!=null?r:{}}async setSavedIssueState(e,r){const i=this.getSavedState();return i.issues[`${e.number}`]={...r,stateModifiedTime:new Date().valueOf()},r.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[r.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(la,JSON.stringify(i))}}class Kp{constructor(e,r,i){this.stateManager=e,this.manager=r}async provideCompletionItems(e,r,i,a){var p;if(e.languageId!=="scminput"&&e.uri.scheme!==qr&&r.character>0&&a.triggerKind===b.CompletionTriggerKind.Invoke&&e.getText(new b.Range(r.with(void 0,r.character-1),r))!=="@")return[];if(a.triggerKind===b.CompletionTriggerKind.TriggerCharacter&&b.workspace.getConfiguration(Mt).get("ignoreUserCompletionTrigger",[]).find(K=>K===e.languageId))return[];if(e.languageId!=="scminput"&&!await Ls(e,r))return[];let M=new b.Range(r,r);r.character-1>=0&&e.getText(new b.Range(r.translate(0,-1),r))==="@"&&(M=new b.Range(r.translate(0,-1),r));const B=e.uri.scheme===qr?(p=ua(e.uri))!=null?p:e.uri:e.languageId==="scminput"?su(e.uri):e.uri;if(!B)return[];const z=[];return(await this.stateManager.getUserMap(B)).forEach(K=>{const te=new Nf({label:K.login,description:K.name},b.CompletionItemKind.User);te.insertText=`@${K.login}`,te.login=K.login,te.uri=B,te.range=M,te.detail=K.name,te.filterText=`@ ${K.login} ${K.name}`,e.uri.scheme===qr&&(te.commitCharacters=[" ",","]),z.push(te)}),z}async resolveCompletionItem(e,r){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const a=await i.getPullRequestDefaults(),p=await i.resolveUser(a.owner,a.repo,e.login);return p&&(e.documentation=Fs(a,p),e.command={command:"issues.userCompletion",title:"User Completion Chosen"}),e}}class Yp{constructor(e,r){this.manager=e,this.telemetry=r}async provideHover(e,r,i){if(!await nu(e,r))return;let a=e.getWordRangeAtPosition(r,As);if(a&&a.start.character>0){a=new b.Range(new b.Position(a.start.line,a.start.character),a.end);const M=e.getText(a).match(As);if(M)return this.createHover(e.uri,M[1],a)}else return}async createHover(e,r,i){try{const a=this.manager.getManagerForFile(e);if(!a)return;const p=await a.getPullRequestDefaults(),M=await a.resolveUser(p.owner,p.repo,r);return M&&M.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new b.Hover(Fs(p,M),i)):void 0}catch(a){return}}}var Jp=Object.defineProperty,da=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Jp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Zp="issueCompletions.enabled",Xp="userCompletions.enabled";class em{constructor(e,r,i,a,p){this.gitAPI=e,this.manager=r,this.reviewManagers=i,this.context=a,this.telemetry=p,da(this,"_stateManager"),da(this,"createIssueInfo"),da(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},"*"]),this._stateManager=new Qp(e,this.manager,this.context)}async initialize(){return this.context.subscriptions.push(b.workspace.registerFileSystemProvider(qr,new Bp)),this.registerCompletionProviders(),this.context.subscriptions.push(b.languages.registerCompletionItemProvider({scheme:qr},new Lp(this.manager)," ",",")),this.context.subscriptions.push(b.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new $p(this._stateManager,this.manager,this.context)})),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromSelection",(e,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(e,r)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyGithubPermalink",e=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(e instanceof b.Uri?e:void 0)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyMarkdownGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.openIssue",e=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorking",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.continueWorking",e=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorkingBranchPrompt",e=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.stopWorking",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyIssueNumber",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.copyIssueUrl",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.editQuery",e=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromFile",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),this.createIssueFromFile()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(b.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(b.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(b.commands.registerCommand("issue.goToLinkedCode",async e=>kf(e,this.manager))),this._stateManager.tryInitializeAndWait().then(()=>{this.context.subscriptions.push(b.languages.registerHoverProvider("*",new Up(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(b.languages.registerHoverProvider("*",new Yp(this.manager,this.telemetry))),this.context.subscriptions.push(b.languages.registerCodeActionsProvider("*",new Vp(this.context)))})}dispose(){}registerCompletionProviders(){const e=[{provider:Dp,trigger:"#",disposable:void 0,configuration:Zp},{provider:Kp,trigger:"@",disposable:void 0,configuration:Xp}];for(const r of e)b.workspace.getConfiguration(Mt).get(r.configuration,!0)&&this.context.subscriptions.push(r.disposable=b.languages.registerCompletionItemProvider(this.documentFilters,new r.provider(this._stateManager,this.manager,this.context),r.trigger));this.context.subscriptions.push(b.workspace.onDidChangeConfiguration(r=>{for(const i of e)if(r.affectsConfiguration(`${Mt}.${i.configuration}`)){const a=b.workspace.getConfiguration(Mt).get(i.configuration,!0);!a&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):a&&!i.disposable&&this.context.subscriptions.push(i.disposable=b.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,r;let i=(e=b.window.activeTextEditor)==null?void 0:e.document.uri;if(i||(i=(r=await this.chooseRepo("Select the repo to create the issue in."))==null?void 0:r.repository.rootUri),i)return this.makeNewIssueFile(i)}async createIssueFromFile(){var e,r,i,a;let p;if(!b.window.activeTextEditor||b.window.activeTextEditor.document.uri.scheme!==qr)return;p=b.window.activeTextEditor.document.getText();const M=p.indexOf(`\r
\r
`),B=p.indexOf(`

`);let z;if(M<0&&B<0)return;M<0?z=B:B<0?z=M:z=Math.min(M,B);const K=p.substring(0,z);let te;if(p=p.substring(z+2).trim(),p.startsWith(qn)){const Se=p.split(/\r\n|\n/,1);Se.length===1&&(te=Se[0].substring(qn.length).split(",").map(Re=>(Re=Re.trim(),Re.startsWith("@")&&(Re=Re.substring(1)),Re)),p=p.substring(Se[0].length).trim())}let ae;if(p.startsWith(en)){const Se=p.split(/\r\n|\n/,1);Se.length===1&&(ae=Se[0].substring(en.length).split(",").map(Re=>Re.trim()).filter(Re=>Re),p=p.substring(Se[0].length).trim())}const de=p;if(!K||!de)return;const _e=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(r=this.createIssueInfo)==null?void 0:r.newIssue,K,de,te,ae,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(a=this.createIssueInfo)==null?void 0:a.insertIndex,ua(b.window.activeTextEditor.document.uri));this.createIssueInfo=void 0,_e&&await b.commands.executeCommand("workbench.action.closeActiveEditor")}async editQuery(e){const r=b.workspace.getConfiguration(Mt),i=r.inspect(gi);let a;if(i==null?void 0:i.workspaceValue)a="workbench.action.openWorkspaceSettingsFile";else{const M=r.get(gi);(i==null?void 0:i.defaultValue)&&JSON.stringify(i==null?void 0:i.defaultValue)===JSON.stringify(M)&&r.update(gi,i.defaultValue,b.ConfigurationTarget.Global),a="workbench.action.openSettingsJson"}await b.commands.executeCommand(a);const p=b.window.activeTextEditor;if(p){const B=p.document.getText().search(e.labelAsString);if(B>=0){const z=p.document.positionAt(B);p.revealRange(new b.Range(z,z)),p.selection=new b.Selection(z,z)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await b.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),b.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Ot)return b.env.openExternal(b.Uri.parse(e.html_url))}async doStartWorking(e,r,i){let a=e,p=r.githubRepository,M=r.remote;if(!a){if(a=await this.chooseRepo("Choose which repository you want to work on this isssue in."),!a)return;p=await a.getOrigin(),M=p.remote}const B=await a.findUpstreamForItem({githubRepository:p,remote:M});B.needsFork&&await a.tryOfferToFork(p)===void 0||await this._stateManager.setCurrentIssue(a,new Ku(r,a,this._stateManager,B.remote,i))}async startWorking(e){e instanceof Ot&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e)}async startWorkingBranchPrompt(e){e instanceof Ot&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var r;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo("Choose which repository you want to stop working on this issue in."),!i)||e instanceof Ot&&((r=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:r.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0)}async statusBarActions(e){const r=`$(globe) Open #${e.issue.number} ${e.issue.title}`,i=`$(git-pull-request) Create pull request for #${e.issue.number} (pushes branch)`;let a;try{a=await e.manager.getPullRequestDefaults()}catch(z){}const p=`$(primitive-square) Stop working on #${e.issue.number}`,M=e.branchName&&a?[r,i,p]:[r,i,p];switch(await b.window.showQuickPick(M,{placeHolder:"Current issue options"})){case r:return this.openIssue(e.issue);case i:{const z=ii.getReviewManagerForFolderManager(this.reviewManagers,e.manager);if(z)return Hf(e.manager,z,this._stateManager);break}case p:return this._stateManager.setCurrentIssue(e.manager,void 0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const r=e.map(a=>({label:`#${a.issue.number} from ${a.issue.githubRepository.remote.owner}/${a.issue.githubRepository.remote.repositoryName}`,currentIssue:a})),i=await b.window.showQuickPick(r);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Ot)return b.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Ot)return b.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await b.env.clipboard.readText())}async createTodoIssue(e,r){let i,a,p,M,B,z;if(!e&&b.window.activeTextEditor)i=b.window.activeTextEditor.document,z=i.getText(b.window.activeTextEditor.selection);else if(e)i=e.document,p=e.insertIndex,M=e.lineNumber,a=e.line.substring(p,e.line.length).trim(),z=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const K=z.match(As);K&&K.length===2&&(await this._stateManager.getUserMap(i.uri)).has(K[1])&&(B=[K[1]]);let te;const ae=r||(e==null?void 0:e.document.isUntitled)?r:(await Bs(this.gitAPI,e)).permalink,de=b.window.createInputBox();de.value=a!=null?a:"",de.prompt="Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description.",de.title="Create Issue",de.buttons=[{iconPath:new b.ThemeIcon("edit"),tooltip:"Edit Description"}],de.onDidAccept(async()=>{te=de.value,te&&(de.busy=!0,await this.doCreateIssue(i,e,te,ae,B,void 0,M,p),de.busy=!1),de.hide()}),de.onDidTriggerButton(async()=>{te=de.value,de.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:M,insertIndex:p},this.makeNewIssueFile(i.uri,te,ae,B),de.busy=!1,de.hide()}),de.show()}async makeNewIssueFile(e,r,i,a){const p=`?{"origin":"${e.toString()}"}`,M=b.Uri.parse(`${qr}:/${Op}${p}`);if(b.window.visibleTextEditors.filter(Re=>Re.document.uri.scheme===qr).length>0)return;await b.workspace.fs.delete(M);const B=`${qn} ${a&&a.length>0?a.map(Re=>"@"+Re).join(", ")+" ":""}`,z=`${en} `,K=`${r!=null?r:"Issue Title"}

${B}
${z}

${i!=null?i:""}

<!-- Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue. -->`;await b.workspace.fs.writeFile(M,this.stringToUint8Array(K));const te=b.window.createTextEditorDecorationType({after:{contentText:" Comma-separated usernames, either @username or just username.",fontStyle:"italic",color:new b.ThemeColor("issues.newIssueDecoration")}}),ae=b.window.createTextEditorDecorationType({after:{contentText:" Comma-separated labels.",fontStyle:"italic",color:new b.ThemeColor("issues.newIssueDecoration")}}),de=b.window.onDidChangeActiveTextEditor(Re=>{if((Re==null?void 0:Re.document.uri.scheme)===qr){const Pe=Re.document.lineAt(2);Pe.text.startsWith(qn)&&Re.setDecorations(te,[new b.Range(new b.Position(2,0),new b.Position(2,Pe.text.length))]);const xe=Re.document.lineAt(3);xe.text.startsWith(en)&&Re.setDecorations(ae,[new b.Range(new b.Position(3,0),new b.Position(3,xe.text.length))])}}),_e=await b.window.showTextDocument(M),Se=b.workspace.onDidCloseTextDocument(Re=>{Re===_e.document&&(de.dispose(),Se.dispose())})}async verifyLabels(e,r){var i;if(!r.labels)return!0;const a=(await e.getLabels(void 0,r)).map(B=>B.name),p=[],M=[];if((i=r.labels)==null||i.forEach(B=>{let z=typeof B=="string"?B:B.name;!z||(a.includes(z)?M.push(z):p.push(z))}),p.length>0){const B="Yes",z="No";switch(await b.window.showInformationMessage(`The following labels don't exist in this repository: ${p.join(", ")}. 
Do you want to create these labels?`,{modal:!0},B,z)){case B:return!0;case z:return r.labels=M,!0;default:return!1}}return!0}async chooseRepo(e){const r=[];for(const a of this.manager.folderManagers)try{const p=await a.getPullRequestDefaults();r.push({label:`${p.owner}/${p.repo}`,repo:a})}catch(p){}if(r.length===0)return;if(r.length===1)return r[0].repo;const i=await b.window.showQuickPick(r,{placeHolder:e});return i==null?void 0:i.repo}async doCreateIssue(e,r,i,a,p,M,B,z,K){let te,ae;if(e?ae=this.manager.getManagerForFile(e.uri):K&&(ae=this.manager.getManagerForFile(K)),ae||(ae=await this.chooseRepo("Choose where to create the issue.")),!ae)return!1;try{te=await ae.getPullRequestDefaults()}catch(Re){return b.window.showErrorMessage("There is no remote. Can't create an issue."),!1}const de=a||(r==null?void 0:r.document.isUntitled)?a:(await Bs(this.gitAPI,r)).permalink,_e={owner:te.owner,repo:te.repo,title:i,body:de,assignees:p,labels:M};if(!await this.verifyLabels(ae,_e))return!1;const Se=await ae.createIssue(_e);if(Se){if(e!==void 0&&z!==void 0&&B!==void 0){const Re=new b.WorkspaceEdit,Pe=b.workspace.getConfiguration(Mt).get("createInsertFormat","number")==="number"?`#${Se.number}`:Se.html_url;Re.insert(e.uri,new b.Position(B,z),` ${Pe}`),await b.workspace.applyEdit(Re)}else{const Re="Copy URL",Pe="Open Issue";b.window.showInformationMessage("Issue created",Re,Pe).then(async xe=>{switch(xe){case Re:await b.env.clipboard.writeText(Se.html_url);break;case Pe:await b.env.openExternal(b.Uri.parse(Se.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1}async getPermalinkWithError(e){const r=await Bs(this.gitAPI,void 0,e);return r.error&&b.window.showWarningMessage(`Unable to create a GitHub permalink for the selection. ${r.error}`),r}async getContextualizedPermalink(e,r){let i;try{i=await b.env.asExternalUri(e)}catch(B){return r}const a=i.scheme==="https"&&/^(vscode|github)\./.test(i.authority)?i.authority:void 0;if(!a)return r;const p=b.Uri.parse(r),M=/^(github)\./.test(i.authority)?p.path:`/github${p.path}`;return p.with({authority:a,path:M}).toString()}async copyPermalink(e){const r=await this.getPermalinkWithError(e);if(r.permalink)return b.env.clipboard.writeText(r.originalFile?await this.getContextualizedPermalink(r.originalFile,r.permalink):r.permalink)}getMarkdownLinkText(){if(!b.window.activeTextEditor)return;let e=b.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new b.Range(e.start,new b.Position(e.start.line+1,0)));const r=b.window.activeTextEditor.document.getText(e);if(r)return r;if(e=b.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return b.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(){const e=await this.getPermalinkWithError(),r=this.getMarkdownLinkText();if(e.permalink&&r)return b.env.clipboard.writeText(`[${r.trim()}](${e.permalink})`)}async openPermalink(){const e=await this.getPermalinkWithError();if(e.permalink)return b.env.openExternal(b.Uri.parse(e.originalFile?await this.getContextualizedPermalink(e.originalFile,e.permalink):e.permalink))}}var tm=Object.defineProperty,rm=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?tm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class im{constructor(){rm(this,"_disposables"),this._disposables=[],this._disposables.push(b.window.registerFileDecorationProvider(this))}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!==Ur)return;const i=we(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status)};const a=lt(e);if(a&&a.status!==void 0)return{propagate:!1,badge:this.letter(a.status)}}letter(e){switch(e){case it.MODIFY:return"M";case it.ADD:return"A";case it.DELETE:return"D";case it.RENAME:return"R";case it.UNKNOWN:return"U";case it.UNMERGED:return"C"}return""}dispose(){this._disposables.forEach(e=>e.dispose())}}var nm=Object.defineProperty,$n=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?nm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class sm extends Qt{constructor(e,r,i,a,p,M){super();this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.commit=a,this.comments=p,this.isCurrent=M,$n(this,"sha"),$n(this,"collapsibleState"),$n(this,"iconPath"),$n(this,"contextValue"),this.label=a.commit.message,this.sha=a.sha,this.collapsibleState=b.TreeItemCollapsibleState.Collapsed;let B;try{a.author&&a.author.avatar_url&&(B=b.Uri.parse(`${a.author.avatar_url}&s=${64}`))}catch(z){}this.iconPath=B,this.contextValue="commit"}getTreeItem(){return this}async getChildren(){var e;const i=((e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[]).map(a=>{const p=this.comments.filter(K=>K.path===a.filename&&K.originalCommitId===this.commit.sha),M=a.filename,B=b.Uri.parse(c.posix.join(`commit~${this.commit.sha.substr(0,8)}`,M)),z=new xi(this,this.pullRequestManager,this.pullRequest,Gt(a.status),M,void 0,pe(B,M,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),pe(B,M,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),[],p,this.commit.sha,this.isCurrent);return z.useViewChangesCommand(),z});return Promise.resolve(i)}}var am=Object.defineProperty,tn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?am(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class om extends Qt{constructor(e,r,i,a){super();tn(this,"label","Commits"),tn(this,"collapsibleState"),tn(this,"_folderRepoManager"),tn(this,"_pr"),tn(this,"_comments"),this.parent=e,this._pr=i,this._folderRepoManager=r,this._comments=a,this.collapsibleState=b.TreeItemCollapsibleState.Collapsed}getTreeItem(){return this}async getChildren(){try{const e=await this._pr.getCommits(),r=e.map((i,a)=>new sm(this,this._folderRepoManager,this._pr,i,this._comments,a===e.length-1));return Promise.resolve(r)}catch(e){return Promise.resolve([])}}}var um=Object.defineProperty,fa=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?um(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class lm extends Qt{constructor(e,r){super();this.parent=e,this._fileChanges=r,fa(this,"label","Files"),fa(this,"collapsibleState"),fa(this,"directories",[]),this.collapsibleState=b.TreeItemCollapsibleState.Expanded;const i=new si(this,"");this._fileChanges.forEach(a=>i.addFile(a)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i]}getTreeItem(){return this}async getChildren(){let e;return b.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"?e=this.directories:e=this._fileChanges,Promise.resolve(e)}}var cm=Object.defineProperty,Hn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?cm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class dm extends ni{constructor(e,r,i,a,p){super(e,r.title,r.userAvatarUri,r);this.parent=e,this._pullRequest=r,this._pullRequestManager=i,this._comments=a,this._localFileChanges=p,Hn(this,"_filesCategoryNode"),Hn(this,"_commitsCategoryNode"),Hn(this,"collapsibleState",b.TreeItemCollapsibleState.Expanded),Hn(this,"_disposables",[]),this.label=this._pullRequest.title,this._disposables.push(b.window.onDidChangeActiveTextEditor(M=>{const B=M==null?void 0:M.document.uri.toString();this.revealActiveEditorInTree(B)})),this._disposables.push(this.parent.view.onDidChangeVisibility(M=>{var B;const z=(B=b.window.activeTextEditor)==null?void 0:B.document.uri.toString();this.revealActiveEditorInTree(z)}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const r=this._localFileChanges.find(i=>i.filePath.toString()===e);r&&this.reveal(r,{select:!0})}}async getChildren(){return(!this._filesCategoryNode||!this._commitsCategoryNode)&&(this._filesCategoryNode=new lm(this.parent,this._localFileChanges),this._commitsCategoryNode=new om(this.parent,this._pullRequestManager,this._pullRequest,this._comments)),[this._filesCategoryNode,this._commitsCategoryNode]}getTreeItem(){return this}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}var fm=Object.defineProperty,rn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?fm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Xu extends b.Disposable{constructor(e){super(()=>this.dispose());this._context=e,rn(this,"_onDidChangeTreeData",new b.EventEmitter),rn(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),rn(this,"_disposables",[]),rn(this,"_pullRequestManagerMap",new Map),rn(this,"_view"),this._view=b.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(b.workspace.onDidChangeConfiguration(async r=>{if(r.affectsConfiguration(`${Wt}.fileListLayout`)){this._onDidChangeTreeData.fire();const i=b.workspace.getConfiguration(`${Wt}`).get("fileListLayout");await b.commands.executeCommand("setContext","fileListLayout:flat",i==="flat")}else r.affectsConfiguration("git.openDiffOnClick")&&this._onDidChangeTreeData.fire()}))}get view(){return this._view}refresh(){this._onDidChangeTreeData.fire()}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const r=this._pullRequestManagerMap.values().next();r.done||(e=r.value.pullRequestModel.number)}this._view.title=e?`Changes in Pull Request #${e}`:"Changes in Pull Request"}async addPrToView(e,r,i,a,p){const M=new dm(this,r,e,a,i);this._pullRequestManagerMap.set(e,M),this.updateViewTitle(),await b.commands.executeCommand("setContext","github:inReviewMode",!0),this._onDidChangeTreeData.fire(),p&&this._view.reveal(M)}async removePrFromView(e){this._pullRequestManagerMap.delete(e),this.updateViewTitle(),this._pullRequestManagerMap.size===0&&this.hide(),this._onDidChangeTreeData.fire()}async hide(){await b.commands.executeCommand("setContext","github:inReviewMode",!1)}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,r){this._view.reveal(e,r)}async getChildren(e){if(e)return await e.getChildren();{const r=[];if(this._pullRequestManagerMap.size>=1)for(const i of this._pullRequestManagerMap.values())r.push(i);return r}}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,r){return r instanceof xi&&await r.resolve(),r}dispose(){this._disposables.forEach(e=>e.dispose())}}var hm=Object.defineProperty,Qr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?hm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),$r;(function(t){t[t.Empty=0]="Empty",t[t.More=1]="More",t[t.TryOtherRemotes=2]="TryOtherRemotes",t[t.Login=3]="Login",t[t.NoRemotes=4]="NoRemotes",t[t.NoGitRepositories=5]="NoGitRepositories",t[t.NoOpenFolder=6]="NoOpenFolder",t[t.NoMatchingRemotes=7]="NoMatchingRemotes",t[t.ConfigureRemotes=8]="ConfigureRemotes",t[t.Initializing=9]="Initializing"})($r||($r={}));class Ar extends Qt{constructor(e,r,i){super();switch(Qr(this,"collapsibleState"),Qr(this,"iconPath"),Qr(this,"type"),Qr(this,"command"),this.parent=e,this.type=r,this.collapsibleState=b.TreeItemCollapsibleState.None,r){case 0:this.label="0 pull requests in this category";break;case 1:this.label="Load more",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 2:this.label="Continue fetching from other remotes",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 3:this.label="Sign in",this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label="No GitHub repositories found.";break;case 5:this.label="No git repositories found.";break;case 6:this.label="You have not yet opened a folder.";break;case 7:this.label="No remotes match the current setting.";break;case 8:this.label="Configure remotes...",this.command={title:"Configure remotes",command:"pr.configureRemotes",arguments:[]};break;case 9:this.label="Loading...";break;default:break}}getTreeItem(){return this}}class ha extends Qt{constructor(e,r,i,a,p,M){super();switch(this.parent=e,this._folderRepoManager=r,this._telemetry=i,this._type=a,this._categoryQuery=M,Qr(this,"collapsibleState"),Qr(this,"prs"),Qr(this,"fetchNextPage",!1),Qr(this,"repositoryPageInformation",new Map),this.prs=[],this.collapsibleState=this._type===Pt.All?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.Collapsed,a){case Pt.All:this.label="All Open";break;case Pt.Query:this.label=p;break;case Pt.LocalPullRequest:this.label="Local Pull Request Branches";break;default:break}}async getChildren(){this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(a=>a.dispose()),this.childrenDisposables=[]);let e=!1,r=!1,i=!1;if(this._type===Pt.LocalPullRequest)try{this.prs=await this._folderRepoManager.getLocalPullRequests(),this._telemetry.sendTelemetryEvent("pr.expand.local")}catch(a){b.window.showErrorMessage(`Fetching local pull requests failed: ${L(a)}`),i=a instanceof xn}else if(this.fetchNextPage){try{const a=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!0},this._categoryQuery);this.prs=this.prs.concat(a.items),e=a.hasMorePages,r=a.hasUnsearchedRepositories}catch(a){b.window.showErrorMessage(`Fetching pull requests failed: ${L(a)}`),i=a instanceof xn}this.fetchNextPage=!1}else try{const a=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!1},this._categoryQuery);switch(this.prs=a.items,e=a.hasMorePages,r=a.hasUnsearchedRepositories,this._type){case Pt.All:this._telemetry.sendTelemetryEvent("pr.expand.all");break;case Pt.Query:this._telemetry.sendTelemetryEvent("pr.expand.query");break}}catch(a){b.window.showErrorMessage(`Fetching pull requests failed: ${L(a)}`),i=a instanceof xn}if(this.prs&&this.prs.length){const a=this.prs.map(p=>new Ni(this,this._folderRepoManager,p,this._type===Pt.LocalPullRequest));return e?a.push(new Ar(this,1,this)):r&&a.push(new Ar(this,2,this)),this.childrenDisposables=a,a}else{const a=i?3:0,p=[new Ar(this,a)];return this.childrenDisposables=p,p}}getTreeItem(){return this}}var pm=Object.defineProperty,el=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?pm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const tl="queries";class nn extends Qt{constructor(e,r,i,a){super();this.folderManager=i,this.telemetry=a,el(this,"collapsibleState"),el(this,"iconPath"),this.parent=e,this.collapsibleState=b.TreeItemCollapsibleState.Expanded,this.label=c.basename(r.fsPath)}static getQueries(e){return b.workspace.getConfiguration(Wt,e.repository.rootUri).get(tl)||[]}getTreeItem(){return this}async getChildren(){return nn.getCategoryTreeNodes(this.folderManager,this.telemetry,this)}static getCategoryTreeNodes(e,r,i){const a=nn.getQueries(e).map(p=>new ha(i,e,r,Pt.Query,p.label,p.query));return[new ha(i,e,r,Pt.LocalPullRequest),...a,new ha(i,e,r,Pt.All)]}}var mm=Object.defineProperty,Kr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?mm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class rl{constructor(e){this._telemetry=e,Kr(this,"_onDidChangeTreeData",new b.EventEmitter),Kr(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Kr(this,"_onDidChange",new b.EventEmitter),Kr(this,"_disposables"),Kr(this,"_childrenDisposables"),Kr(this,"_view"),Kr(this,"_reposManager"),Kr(this,"_initialized",!1),this._disposables=[],this._disposables.push(b.workspace.registerTextDocumentContentProvider("pr",$u())),this._disposables.push(b.window.registerFileDecorationProvider(Iu)),this._disposables.push(b.window.registerFileDecorationProvider(Js)),this._disposables.push(b.commands.registerCommand("pr.refreshList",r=>{this._onDidChangeTreeData.fire()})),this._disposables.push(b.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=b.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._childrenDisposables=[],this._disposables.push(b.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await b.window.showQuickPick(["Configure Remotes...","Configure Queries..."])){case"Configure Queries...":return b.commands.executeCommand("workbench.action.openSettings",`@ext:${Ve} queries`);case"Configure Remotes...":return b.commands.executeCommand("workbench.action.openSettings",`@ext:${Ve} remotes`);default:return}})),this._disposables.push(b.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Wt}.fileListLayout`)&&this._onDidChangeTreeData.fire()}))}get onDidChange(){return this._onDidChange.event}get view(){return this._view}async reveal(e,r){return this._view.reveal(e,r)}initialize(e){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._reposManager=e,this._disposables.push(this._reposManager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(...this._reposManager.folderManagers.map(r=>r.onDidChangeRepositories(()=>{this._onDidChangeTreeData.fire()}))),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(b.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${Wt}.${tl}`)&&this.refresh()}))}refresh(e){return e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,r){return r instanceof Ln&&await r.resolve(),r}needsRemotes(){var e;return((e=this._reposManager)==null?void 0:e.state)===fr.NeedsAuthentication?Promise.resolve([]):b.workspace.getConfiguration(Wt).get(Gi)?Promise.resolve([new Ar(this,$r.NoMatchingRemotes),new Ar(this,$r.ConfigureRemotes)]):Promise.resolve([new Ar(this,$r.NoRemotes)])}async getChildren(e){if(!this._reposManager)return b.workspace.workspaceFolders?Promise.resolve([new Ar(this,$r.NoGitRepositories)]):Promise.resolve([new Ar(this,$r.NoOpenFolder)]);if(this._reposManager.state===fr.Initializing)return Promise.resolve([new Ar(this,$r.Initializing)]);if(this._reposManager.folderManagers.filter(r=>r.getGitHubRemotes().length>0).length===0)return this.needsRemotes();if(!e){this._childrenDisposables&&this._childrenDisposables.length&&this._childrenDisposables.forEach(i=>i.dispose());let r;return this._reposManager.folderManagers.length===1?r=nn.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this):r=this._reposManager.folderManagers.map(i=>new nn(this,i.repository.rootUri,i,this._telemetry)),this._childrenDisposables=r,Promise.resolve(r)}return this._reposManager.folderManagers.filter(r=>r.repository.state.remotes.length>0).length===0?Promise.resolve([new Ar(this,$r.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var vm=Object.defineProperty,il=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?vm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class gm{constructor(e){this.gitAPI=e,il(this,"_onDidChange",new b.EventEmitter),il(this,"_fallback")}get onDidChange(){return this._onDidChange.event}async provideTextDocumentContent(e,r){if(!this._fallback)return"";const{path:i,commit:a,rootPath:p}=De(e.query);if(!i||!a)return"";const M=Nu(this.gitAPI,b.Uri.file(p));if(!M)return b.window.showErrorMessage(`We couldn't find an open repository for ${a} locally.`),"";const B=c.join(M.rootUri.fsPath,i).replace(/\\/g,"/");let z;try{if(z=await M.show(a,B),!z)throw new Error}catch(K){if(z=await this._fallback(e),!z)try{await M.getCommit(a)}catch(te){b.window.showErrorMessage(`We couldn't find commit ${a} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return z||""}registerTextDocumentContentFallback(e){this._fallback=e}}var bm=Object.defineProperty,nl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?bm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class sl{constructor(e,r,i,a,p,M,B){this._context=e,this._reposManager=r,this._reviewManagers=i,this._prsTreeDataProvider=a,this._prFileChangesProvider=p,this._telemetry=M,nl(this,"_disposables"),this._disposables=[];const z=new gm(B);z.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(b.workspace.registerTextDocumentContentProvider("review",z)),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}registerListeners(){this._disposables.push(b.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new Xu(this._context);for(const r of this._reviewManagers)r.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new rl(this._telemetry),this._prsTreeDataProvider.initialize(this._reposManager),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const r of this._reviewManagers)if(e.fsPath.startsWith(r.repository.rootUri.fsPath))return r.provideTextDocumentContent(e);return""}dispose(){this._disposables.forEach(e=>{e.dispose()})}}nl(sl,"ID","Reviews");const ym="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let Ut;const al="prompts",ol="createPROnPublish";async function ul(t,e,r,i,a,p,M){t.subscriptions.push(n),n.appendLine("Git repository found, initializing review manager and pr tree view."),b.authentication.onDidChangeSessions(async xe=>{xe.provider.id==="github"&&(await te.clearCredentialCache(),de&&de.forEach(Ue=>Ue.updateState(!0)))}),t.subscriptions.push(e.onDidPublish(async xe=>{if(!xe.branch||Io(al,ol)===!1)return;const Ue=de.find(vt=>vt.repository.rootUri.toString()===xe.repository.rootUri.toString());if((Ue==null?void 0:Ue.isCreatingPullRequest)||!K.find(vt=>vt.gitHubRepositories.length>0))return;const $e="Create Pull Request...",Oe="Don't Show Again",st=await b.window.showInformationMessage(`Would you like to create a Pull Request for branch '${xe.branch}'?`,$e,Oe);st===$e?Ue==null||Ue.createPullRequest(xe.branch):st===Oe&&Do(al,ol,!1)})),t.subscriptions.push(b.window.registerUriHandler(dt)),t.subscriptions.push(new im);const B=b.workspace.workspaceFolders;B&&(i=i.sort((xe,Ue)=>{let $e=B.length,Oe=B.length;for(let st=0;st<B.length&&(B[st].uri.toString()===xe.rootUri.toString()?$e=st:B[st].uri.toString()===Ue.rootUri.toString()&&(Oe=st),!($e!==B.length&&Oe!==B.length));st++);return $e-Oe}));const z=new lp(t),K=i.map(xe=>new Si(t,xe,Ut,e,r,z));t.subscriptions.push(...K);const te=new ju(K,r,Ut,z);t.subscriptions.push(te),p.then(xe=>{xe&&xe.registerContactServiceProvider("github-pr",new Np(te))});const ae=new Xu(t);t.subscriptions.push(ae);const de=K.map(xe=>new ii(t,xe.repository,xe,Ut,ae,M,z)),_e=new sl(t,te,de,a,ae,Ut,e);t.subscriptions.push(_e),e.onDidChangeState(()=>{n.appendLine(`Git initialization state changed: state=${e.state}`),de.forEach(xe=>xe.updateState(!0))}),e.onDidOpenRepository(xe=>{const Ue=xe.state.onDidChange(()=>{if(n.appendLine(`Repo state for ${xe.rootUri} changed.`),te.getManagerForFile(xe.rootUri)){n.appendLine(`Repo ${xe.rootUri} has already been setup.`);return}const Oe=new Si(t,xe,Ut,e,r,z);te.insertFolderManager(Oe);const st=new ii(t,Oe.repository,Oe,Ut,ae,M,z);de.push(st),a.refresh(),Ue.dispose()})}),e.onDidCloseRepository(xe=>{te.removeRepo(xe);const Ue=de.findIndex($e=>$e.repository.rootUri.toString()===xe.rootUri.toString());if(Ue){const $e=de[Ue];de.splice(Ue),$e.dispose()}a.refresh()}),a.initialize(te),bf(t),op(t,z,te,de,Ut,r,a);const Se=b.workspace.getConfiguration("githubPullRequests").get("fileListLayout");await b.commands.executeCommand("setContext","fileListLayout:flat",Se==="flat");const Re=new em(e,te,de,t,Ut);t.subscriptions.push(Re),await Re.initialize(),t.subscriptions.push(new Ap),await b.commands.executeCommand("setContext","github:initialized",!0);const Pe=await pp(t,Ut);await Pe.initializePromise,await Pe.isCachedFlightEnabled("githubaa"),Ut.sendTelemetryEvent("startup")}async function wm(t){if(Ve==="GitHub.vscode-pull-request-github-insiders"&&b.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const e=new ep;b.commands.registerCommand("github.api.preloadPullRequest",async p=>{await b.commands.executeCommand("setContext",$t,!0),await b.commands.executeCommand("github:activePullRequest:welcome.focus"),e.shouldShow=p});const r=b.workspace.getConfiguration("git").get("openDiffOnClick",!0);await b.commands.executeCommand("setContext","openDiffOnClick",r),xr.initialize(t);const i=new oe,a=b.extensions.getExtension(Ve).packageJSON.version;return Ut=new dp(new $.Z(Ve,a,ym)),t.subscriptions.push(Ut),_m(t,i,e),i}async function _m(t,e,r){lf(t),qe.init(t);const i=new hf(Ut);t.subscriptions.push(i),await i.initialize(pt.github),Mi()&&await i.initialize(pt["github-enterprise"]);const a=await Tp(i,e);a&&t.subscriptions.push(a);const p=xp(e);t.subscriptions.push(p);const M=p.initialize();t.subscriptions.push(e);const B=new rl(Ut);t.subscriptions.push(B),n.appendLine("Looking for git repository");const z=e.repositories;n.appendLine(`Found ${z.length} repositories during activation`),z.length>0?await ul(t,e,i,z,B,M,r):(n.appendLine("Waiting for git repository"),re(e.onDidOpenRepository)(async K=>{n.appendLine(`Repository ${K.rootUri} opened`),await ul(t,e,i,[K],B,M,r)}))}async function Sm(){Ut&&Ut.dispose()}})(),module.exports=Gn})();
