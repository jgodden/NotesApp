/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=c(e),a=o[0],s=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},764:(e,t,n)=>{"use strict";var r=n(742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|d(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function d(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function I(e,t,n,r){return j(F(t,e.length-n),e,n,r)}function b(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return b(e,t,n,r)}function x(e,t,n,r){return j(q(t),e,n,r)}function C(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return I(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=H[e[o]];return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:c.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var O=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},645:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*g}},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},300:(e,t)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},798:(e,t,n)=>{"use strict";var r=65536,i=n(91).Buffer,o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}(),a=o.crypto||o.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>r)for(var o=0;o<e;o+=r)a.getRandomValues(n.slice(o,o+r));else a.getRandomValues(n);return"function"==typeof t?process.nextTick((function(){t(null,n)})):n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},91:(e,t,n)=>{var r=n(764),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},509:(e,t,n)=>{var r=n(764),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},66:(e,t,n)=>{var r=n(509).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(a+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},72:(e,t,n)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(448),r.sha1=n(336),r.sha224=n(432),r.sha256=n(499),r.sha384=n(686),r.sha512=n(816)},448:(e,t,n)=>{var r=n(717),i=n(66),o=n(509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var h=0;h<80;++h){var p=~~(h/20),d=0|((t=r)<<5|t>>>27)+l(p,i,o,s)+c+n[h]+a[p];c=s,s=o,o=u(i),i=r,r=d}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},336:(e,t,n)=>{var r=n(717),i=n(66),o=n(509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=(t=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|t>>>31;for(var p=0;p<80;++p){var d=~~(p/20),g=u(r)+f(d,i,o,s)+c+n[p]+a[d]|0;c=s,s=o,o=l(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},432:(e,t,n)=>{var r=n(717),i=n(499),o=n(66),a=n(509).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},499:(e,t,n)=>{var r=n(717),i=n(66),o=n(509).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,g=0|this._g,v=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+p(n[m-15])+n[m-16];for(var y=0;y<64;++y){var w=v+h(c)+u(c,d,g)+a[y]+n[y]|0,_=f(r)+l(r,i,o)|0;v=g,g=d,d=c,c=s+w|0,s=o,o=i,i=r,r=w+_|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=v+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},686:(e,t,n)=>{var r=n(717),i=n(816),o=n(66),a=n(509).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},816:(e,t,n)=>{var r=n(717),i=n(66),o=n(509).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,w=0|this._hh,_=0|this._al,I=0|this._bl,b=0|this._cl,T=0|this._dl,x=0|this._el,C=0|this._fl,E=0|this._gl,k=0|this._hl,S=0;S<32;S+=2)t[S]=e.readInt32BE(4*S),t[S+1]=e.readInt32BE(4*S+4);for(;S<160;S+=2){var A=t[S-30],R=t[S-30+1],P=p(A,R),N=d(R,A),D=g(A=t[S-4],R=t[S-4+1]),L=v(R,A),M=t[S-14],U=t[S-14+1],B=t[S-32],O=t[S-32+1],F=N+U|0,q=P+M+m(F,N)|0;q=(q=q+D+m(F=F+L|0,L)|0)+B+m(F=F+O|0,O)|0,t[S]=q,t[S+1]=F}for(var j=0;j<160;j+=2){q=t[j],F=t[j+1];var V=l(n,r,i),z=l(_,I,b),H=f(n,_),W=f(_,n),K=h(s,x),G=h(x,s),$=a[j],X=a[j+1],Y=u(s,c,y),J=u(x,C,E),Z=k+G|0,Q=w+K+m(Z,k)|0;Q=(Q=(Q=Q+Y+m(Z=Z+J|0,J)|0)+$+m(Z=Z+X|0,X)|0)+q+m(Z=Z+F|0,F)|0;var ee=W+z|0,te=H+V+m(ee,W)|0;w=y,k=E,y=c,E=C,c=s,C=x,s=o+Q+m(x=T+Z|0,T)|0,o=i,T=b,i=r,b=I,r=n,I=_,n=Q+te+m(_=Z+ee|0,Z)|0}this._al=this._al+_|0,this._bl=this._bl+I|0,this._cl=this._cl+b|0,this._dl=this._dl+T|0,this._el=this._el+x|0,this._fl=this._fl+C|0,this._gl=this._gl+E|0,this._hl=this._hl+k|0,this._ah=this._ah+n+m(this._al,_)|0,this._bh=this._bh+r+m(this._bl,I)|0,this._ch=this._ch+i+m(this._cl,b)|0,this._dh=this._dh+o+m(this._dl,T)|0,this._eh=this._eh+s+m(this._el,x)|0,this._fh=this._fh+c+m(this._fl,C)|0,this._gh=this._gh+y+m(this._gl,E)|0,this._hh=this._hh+w+m(this._hl,k)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{v1:()=>p,v3:()=>b,v4:()=>T,v5:()=>E});var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));const c=function(e,t){var n=t||0;return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()};var u,l,f=0,h=0;const p=function(e,t,n){var r=t&&n||0,i=t||new Array(16),a=(e=e||{}).node||u,s=void 0!==e.clockseq?e.clockseq:l;if(null==a||null==s){var p=e.random||(e.rng||o)();null==a&&(a=u=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==s&&(s=l=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:h+1,v=d-f+(g-h)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||d>f)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=d,h=g,l=s;var m=(1e4*(268435455&(d+=122192928e5))+g)%4294967296;i[r++]=m>>>24&255,i[r++]=m>>>16&255,i[r++]=m>>>8&255,i[r++]=255&m;var y=d/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var w=0;w<6;++w)i[r+w]=a[w];return t||c(i)};function d(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=n(r.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return c(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function g(e){return 14+(e+64>>>9<<4)+1}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,r,i,o){return v((a=v(v(t,e),v(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function y(e,t,n,r,i,o,a){return m(t&n|~t&r,e,t,i,o,a)}function w(e,t,n,r,i,o,a){return m(t&r|n&~r,e,t,i,o,a)}function _(e,t,n,r,i,o,a){return m(t^n^r,e,t,i,o,a)}function I(e,t,n,r,i,o,a){return m(n^(t|~r),e,t,i,o,a)}const b=d("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,c=r,u=i,l=o;n=y(n,r,i,o,e[a],7,-680876936),o=y(o,n,r,i,e[a+1],12,-389564586),i=y(i,o,n,r,e[a+2],17,606105819),r=y(r,i,o,n,e[a+3],22,-1044525330),n=y(n,r,i,o,e[a+4],7,-176418897),o=y(o,n,r,i,e[a+5],12,1200080426),i=y(i,o,n,r,e[a+6],17,-1473231341),r=y(r,i,o,n,e[a+7],22,-45705983),n=y(n,r,i,o,e[a+8],7,1770035416),o=y(o,n,r,i,e[a+9],12,-1958414417),i=y(i,o,n,r,e[a+10],17,-42063),r=y(r,i,o,n,e[a+11],22,-1990404162),n=y(n,r,i,o,e[a+12],7,1804603682),o=y(o,n,r,i,e[a+13],12,-40341101),i=y(i,o,n,r,e[a+14],17,-1502002290),n=w(n,r=y(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=w(o,n,r,i,e[a+6],9,-1069501632),i=w(i,o,n,r,e[a+11],14,643717713),r=w(r,i,o,n,e[a],20,-373897302),n=w(n,r,i,o,e[a+5],5,-701558691),o=w(o,n,r,i,e[a+10],9,38016083),i=w(i,o,n,r,e[a+15],14,-660478335),r=w(r,i,o,n,e[a+4],20,-405537848),n=w(n,r,i,o,e[a+9],5,568446438),o=w(o,n,r,i,e[a+14],9,-1019803690),i=w(i,o,n,r,e[a+3],14,-187363961),r=w(r,i,o,n,e[a+8],20,1163531501),n=w(n,r,i,o,e[a+13],5,-1444681467),o=w(o,n,r,i,e[a+2],9,-51403784),i=w(i,o,n,r,e[a+7],14,1735328473),n=_(n,r=w(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=_(o,n,r,i,e[a+8],11,-2022574463),i=_(i,o,n,r,e[a+11],16,1839030562),r=_(r,i,o,n,e[a+14],23,-35309556),n=_(n,r,i,o,e[a+1],4,-1530992060),o=_(o,n,r,i,e[a+4],11,1272893353),i=_(i,o,n,r,e[a+7],16,-155497632),r=_(r,i,o,n,e[a+10],23,-1094730640),n=_(n,r,i,o,e[a+13],4,681279174),o=_(o,n,r,i,e[a],11,-358537222),i=_(i,o,n,r,e[a+3],16,-722521979),r=_(r,i,o,n,e[a+6],23,76029189),n=_(n,r,i,o,e[a+9],4,-640364487),o=_(o,n,r,i,e[a+12],11,-421815835),i=_(i,o,n,r,e[a+15],16,530742520),n=I(n,r=_(r,i,o,n,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=I(o,n,r,i,e[a+7],10,1126891415),i=I(i,o,n,r,e[a+14],15,-1416354905),r=I(r,i,o,n,e[a+5],21,-57434055),n=I(n,r,i,o,e[a+12],6,1700485571),o=I(o,n,r,i,e[a+3],10,-1894986606),i=I(i,o,n,r,e[a+10],15,-1051523),r=I(r,i,o,n,e[a+1],21,-2054922799),n=I(n,r,i,o,e[a+8],6,1873313359),o=I(o,n,r,i,e[a+15],10,-30611744),i=I(i,o,n,r,e[a+6],15,-1560198380),r=I(r,i,o,n,e[a+13],21,1309151649),n=I(n,r,i,o,e[a+4],6,-145523070),o=I(o,n,r,i,e[a+11],10,-1120210379),i=I(i,o,n,r,e[a+2],15,718787259),r=I(r,i,o,n,e[a+9],21,-343485551),n=v(n,s),r=v(r,c),i=v(i,u),o=v(o,l)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(g(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),T=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)};function x(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function C(e,t){return e<<t|e>>>32-t}const E=d("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=s[f][p];for(var d=16;d<80;++d)h[d]=C(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);for(var g=n[0],v=n[1],m=n[2],y=n[3],w=n[4],_=0;_<80;++_){var I=Math.floor(_/20),b=C(g,5)+x(I,v,m,y)+w+t[I]+h[_]>>>0;w=y,y=m,m=C(v,30)>>>0,v=g,g=b}n[0]=n[0]+g>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))},924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ni});var r=n(549),i=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))s.call(t,n)&&c(e,n,t[n]);return e},l="function",f="object",h="undefined",p=Object,d=p.prototype,g=p.assign,v=p.create,m=p.defineProperty,y=d.hasOwnProperty;function w(){return typeof globalThis!==h&&globalThis?globalThis:typeof self!==h&&self?self:typeof window!==h&&window?window:typeof global!==h&&global?global:null}function _(e){throw new TypeError(e)}function I(e){if(v)return v(e);if(null==e)return{};var t=typeof e;function n(){}return t!==f&&t!==l&&_("Object prototype may only be an Object:"+e),n.prototype=e,new n}(w()||{}).Symbol,(w()||{}).Reflect;var b=g||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])d.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T=function(e,t){return(T=p.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function x(e,t){function n(){this.constructor=e}typeof t!==l&&null!==t&&_("Class extends value "+String(t)+" is not a constructor or null"),T(e,t),e.prototype=null===t?I(t):(n.prototype=t.prototype,new n)}var C="prototype",E="function",k="_dynClass",S="_unknown_",A=Object,R=A.getPrototypeOf,P=0;function N(e,t){return e&&A.prototype.hasOwnProperty.call(e,t)}function D(e){return e&&(e===A.prototype||e===Array.prototype)}function L(e){return D(e)||e===Function.prototype}function M(e){if(e){if(R)return R(e);var t=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);if(t)return t}return null}function U(e,t){var n=[],r=A.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&N(e,i)&&n.push(i);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function B(e,t,n){return"constructor"!==t&&typeof e[t]===E&&(n||N(e,t))}function O(e){throw new TypeError("DynamicProto: "+e)}function F(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function q(e,t,n,r){var i=null;if(e&&N(n,k)){var o=e._dynInstFuncs||{};if((i=(o[n._dynClass]||{})[t])||O("Missing ["+t+"] "+E),!i._dynInstChk&&!1!==o._dynInstChk){for(var a=!N(e,t),s=M(e),c=[];a&&s&&!L(s)&&!F(c,s);){var u=s[t];if(u){a=u===r;break}c.push(s),s=M(s)}try{a&&(e[t]=i),i._dynInstChk=1}catch(e){o._dynInstChk=!1}}}return i}function j(e,t,n){var r=t[e];return r===n&&(r=M(t)[e]),typeof r!==E&&O("["+e+"] is not a "+E),r}function V(e,t){return N(e,C)?e.name||t||S:((e||{}).constructor||{}).name||t||S}function z(e,t,n,r){N(e,C)||O("theClass is an invalid class definition.");var i=e.prototype;(function(e,t){if(R)for(var n=[],r=M(t);r&&!L(r)&&!F(n,r);){if(r===e)return!0;n.push(r),r=M(r)}return!1})(i,t)||O("["+V(e)+"] is not in class hierarchy of ["+V(t)+"]");var o=null;N(i,k)?o=i._dynClass:(o="_dynCls$"+V(e,"_")+"$"+P,P++,i._dynClass=o);var a=z._dfOpts,s=!!a.useBaseInst;s&&r&&void 0!==r.useBaseInst&&(s=!!r.useBaseInst);var c=function(e){var t={};return U(e,(function(n){!t[n]&&B(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,r){function i(e,t,n){var i=t[n];if(i._isDynProxy&&r){var o=e._dynInstFuncs||{};!1!==o._dynInstChk&&(i=(o[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};U(n,(function(e){o[e]=i(t,n,e)}));for(var a=M(e),s=[];a&&!L(a)&&!F(s,a);)U(a,(function(e){!o[e]&&B(a,e,!R)&&(o[e]=i(t,a,e))})),s.push(a),a=M(a);return o}(i,t,c,s));var u=!!R&&!!a.setInstFuncs;u&&r&&(u=!!r.setInstFuncs),function(e,t,n,r,i){if(!D(e)){var o=n._dynInstFuncs=n._dynInstFuncs||{},a=o[t]=o[t]||{};!1!==o._dynInstChk&&(o._dynInstChk=!!i),U(n,(function(t){var i,o,s;B(n,t,!1)&&n[t]!==r[t]&&(a[t]=n[t],delete n[t],(!N(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=(i=e,o=t,(s=function(){return(q(this,o,i,s)||j(o,i,s)).apply(this,arguments)})._isDynProxy=1,s)))}))}}(i,o,t,c,!1!==u)}z._dfOpts={setInstFuncs:!0,useBaseInst:!0};var H,W,K=z;(W=H||(H={}))[W.CRITICAL=1]="CRITICAL",W[W.WARNING=2]="WARNING";var G=40,$=m;function X(e){return d.toString.call(e)}function Y(e){return void 0===e||typeof e===h}function J(e){return null===e||Y(e)}function Z(e){return!J(e)}function Q(e,t){return e&&y.call(e,t)}function ee(e){return typeof e===f}function te(e){return typeof e===l}function ne(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!J(e))try{J(e.addEventListener)?J(e.attachEvent)||(e.attachEvent("on"+t,n),i=!0):(e.addEventListener(t,n,r),i=!0)}catch(e){}return i}function re(e,t,n,r){if(void 0===r&&(r=!1),!J(e))try{J(e.removeEventListener)?J(e.detachEvent)||e.detachEvent("on"+t,n):e.removeEventListener(t,n,r)}catch(e){}}function ie(e,t){if(e)for(var n in e)y.call(e,n)&&t.call(e,n,e[n])}function oe(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function ae(e){return"[object Array]"===X(e)}function se(e){return"[object Error]"===X(e)}function ce(e){return"string"==typeof e}function ue(e){return"number"==typeof e}function le(e){if("[object Date]"===X(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function fe(e,t,n){for(var r=e.length,i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}function he(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function pe(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e));return o}function de(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}p.freeze,p.seal;var ge=!{toString:null}.propertyIsEnumerable("toString"),ve=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function me(e){var t=typeof e;t===l||t===f&&null!==e||_("objKeys called on non-object");var n=[];for(var r in e)e&&y.call(e,r)&&n.push(r);if(ge)for(var i=ve.length,o=0;o<i;o++)e&&y.call(e,ve[o])&&n.push(ve[o]);return n}function ye(e,t,n,r){if($)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),$(e,t,i),!0}catch(e){}return!1}function we(){var e=Date;return e.now?e.now():(new e).getTime()}function _e(e){return se(e)?e.name:""}function Ie(e,t,n,r,i){var o=n;return e&&((o=e[t])===n||i&&!i(o)||r&&!r(n)||(o=n,e[t]=o)),o}function be(e,t,n){var r;return e?!(r=e[t])&&J(r)&&(r=Y(n)?{}:n,e[t]=r):r=Y(n)?{}:n,r}function Te(e){return!e}function xe(e){return!!e}function Ce(e){throw new Error(e)}function Ee(e){return e&&(e=p(g?g({},e):e)),e}var ke="window",Se="JSON",Ae="msie",Re="trident/",Pe=null,Ne=null;function De(e){var t=w();return t&&t[e]?t[e]:e===ke&&Le()?window:null}function Le(){return Boolean(typeof window===f&&window)}function Me(){return Le()?window:De(ke)}function Ue(){return Boolean(typeof document===f&&document)}function Be(){return Ue()?document:De("document")}function Oe(){return Boolean(typeof navigator===f&&navigator)?navigator:De("navigator")}function Fe(e){return typeof location===f&&location?location:De("location")}function qe(){return De("performance")}function je(){return Boolean(typeof JSON===f&&JSON||null!==De(Se))}function Ve(){return je()?JSON||De(Se):null}function ze(){var e=Oe();if(e&&(e.userAgent!==Ne||null===Pe)){var t=((Ne=e.userAgent)||"").toLowerCase();Pe=oe(t,Ae)||oe(t,Re)}return Pe}function He(e){if(void 0===e&&(e=null),!e){var t=Oe()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(oe(n,Ae))return parseInt(n.split(Ae)[1]);if(oe(n,Re)){var r=parseInt(n.split(Re)[1]);if(r)return r+4}return null}function We(e){var t=Object.prototype.toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":je()&&(n=Ve().stringify(e)),t+n}function Ke(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var Ge=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var o="";je()&&(o=Ve().stringify(r));var a=(t?" message:"+Ke(t):"")+(r?" props:"+Ke(o):"");i.message+=a}return e.dataType="MessageData",e}();function $e(e,t){return(e||{}).logger||new Xe(t)}var Xe=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};K(e,this,(function(e){function i(e,n){var r=t[e];return J(r)?n:r}J(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,a){void 0===a&&(a=!1);var s=new Ge(n,i,a,o);if(e.enableDebugExceptions())throw s;if(!Y(s.message)){var c=e.consoleLoggingLevel();if(a){var u=+s.messageId;!r[u]&&c>=H.WARNING&&(e.warnToConsole(s.message),r[u]=!0)}else c>=H.WARNING&&e.warnToConsole(s.message);e.logInternalMessage(t,s)}},e.warnToConsole=function(e){var t=typeof console!==h?console:De("console");if(t){var n="log";t.warn&&(n="warn"),te(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,a="AITR_"+i.messageId;if(r[a]?o=!1:r[a]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",c=new Ge(23,s,!1);e.queue.push(c),e.warnToConsole(s)}}}}))},Ye=function(){function e(t,n,r){var i,o=this,a=!1;o.start=we(),o.name=t,o.isAsync=r,o.isChildEvt=function(){return!1},te(n)&&(a=ye(o,"payload",(function(){return!i&&te(n)&&(i=n(),n=null),i}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,r=o.getCtx(e.ChildrenContextKey);if(ae(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(t+=s.time)}o.time=we()-o.start,o.exTime=o.time-t,o.complete=function(){},!a&&te(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Je=function e(t){this.ctx={},K(e,this,(function(e){e.create=function(e,t,n){return new Ye(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},Ze="CoreUtils.doPerf";function Qe(e,t,n,r,i){if(e){var o=e;if(te(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Ze);try{if(a=o.create(t(),r,i)){if(s&&a.setCtx&&(a.setCtx(Ye.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(Ye.ChildrenContextKey);c||(c=[],s.setCtx(Ye.ChildrenContextKey,c)),c.push(a)}return o.setCtx(Ze,a),n(a)}}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(Ze,s)}}}return n()}var et=function(e,t){var n=this,r=null,i=te(e.processTelemetry),o=te(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(a,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";Qe(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{s.setNext(r),o&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(a,s)}catch(n){var t=r&&r._hasRun;r&&t||s.diagLog().throwInternal(H.CRITICAL,73,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),r&&!t&&r.processTelemetry(a,s)}}else r&&(n._hasRun=!0,r.processTelemetry(a,s))}),(function(){return{item:a}}),!a.sync)}};function tt(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&te(o.processTelemetry)){var a=new et(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}var nt=function e(t,n,r,i){var o=this,a=null;null!==i&&(t&&te(t.getPlugin)?a=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),tt(r,t)}(t,o,i||t.getPlugin()):i?a=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],fe(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),tt(r,t)}(t,o,i):Y(i)&&(a=tt(t,o))),o.core=function(){return r},o.diagLog=function(){return $e(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var a=o.getExtCfg(e,null);return a&&!J(a[t])?i=a[t]:n&&!J(n[t])&&(i=n[t]),J(i)?r:i},o.hasNext=function(){return null!=a},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||a,n,r,i)}},rt="extensionConfig",it=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&te(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new nt(null,{},e.core);i=r&&r.getPlugin?o.createNew(null,r.getPlugin):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,a,s){i&&Ie(i,rt,[],null,J),!s&&o&&(s=o.getProcessTelContext().getNext());var c=r;r&&r.getPlugin&&(c=r.getPlugin()),e.core=o,n=new nt(s,i,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}();function ot(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&te(r.setNextPlugin)&&te(o.processTelemetry)&&r.setNextPlugin(o),te(o.isInitialized)&&o.isInitialized()||n.push(o),r=o,i=i.getNext())}fe(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function at(e){return e.sort((function(e,t){var n=0,r=te(t.processTelemetry);return te(e.processTelemetry)?n=r?e.priority-t.priority:1:r&&(n=-1),n}))}var st=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){fe(e,(function(e){e.priority<500&&Ce("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,K(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&fe(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,o,a){e.isInitialized()||(t.initialize(r,o,a),function(e,t){if(n=[],e&&fe(e,(function(e){return i(e)})),t){var r=[];fe(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,a),fe(n,(function(e){return ot(new nt(e,r,o),a)})))}})),r}var n;return x(t,e),t._staticInit=(ye(n=t.prototype,"ChannelControls",n.getChannelControls),void ye(n,"channelQueue",n.getChannelControls)),t}(it),ct="toGMTString",ut="toUTCString",lt="",ft=null,ht=null,pt=null,dt=Be(),gt={},vt={};function mt(e){return!e||e.isEnabled()}function yt(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:wt(t)}return n||(n=function(e,t){var n=wt._ckMgr||vt._ckMgr;return n||(n=wt._ckMgr=wt(e,t),vt._ckMgr=n),n}(t,(e||{}).logger)),n}function wt(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ie(t,"domain",e.cookieDomain,Z,J),Ie(t,"path",e.cookiePath||"/",null,J),J(t.enabled)){var n=void 0;Y(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),Y(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||vt),r=n.path||"/",i=n.domain,o=!1!==n.enabled,a={isEnabled:function(){var e=o&&_t(t),n=vt._ckMgr;return e&&n&&a!==n&&(e=mt(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,s,c){if(mt(a)){var u={},l=de(t||lt),f=l.indexOf(";");if(-1!==f&&(l=de(t.substring(0,f)),u=It(t.substring(f+1))),Ie(u,"domain",s||i,xe,Y),!J(o)){var h=ze();if(Y(u.expires)){var p=we()+1e3*o;if(p>0){var d=new Date;d.setTime(p),Ie(u,"expires",bt(d,h?ct:ut)||bt(d,h?ct:ut)||lt,xe)}}h||Ie(u,"max-age",lt+o,null,Y)}var g=Fe();g&&"https:"===g.protocol&&(Ie(u,"secure",null,null,Y),null===ht&&(v=(Oe()||{}).userAgent,ht=!(ce(v)&&(oe(v,"CPU iPhone OS 12")||oe(v,"iPad; CPU OS 12")||oe(v,"Macintosh; Intel Mac OS X 10_14")&&oe(v,"Version/")&&oe(v,"Safari")||oe(v,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}(v,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||oe(v,"Chrome/5")||oe(v,"Chrome/6")||oe(v,"UnrealEngine")&&!oe(v,"Chrome")||oe(v,"UCBrowser/12")||oe(v,"UCBrowser/11")))),ht&&Ie(u,"SameSite","None",null,Y)),Ie(u,"path",c||r,null,Y),(n.setCookie||Ct)(e,Tt(l,u))}var v},get:function(e){var t=lt;return mt(a)&&(t=(n.getCookie||xt)(e)),t},del:function(e,t){mt(a)&&a.purge(e,t)},purge:function(e,r){if(_t(t)){var i=((o={}).path=r||"/",o.expires="Thu, 01 Jan 1970 00:00:01 GMT",o);ze()||(i["max-age"]="0"),(n.delCookie||Ct)(e,Tt(lt,i))}var o}};return a._ckMgr=a,a}function _t(e){if(null===ft){ft=!1;try{ft=void 0!==(dt||{}).cookie}catch(t){e&&e.throwInternal(H.WARNING,68,"Cannot access document.cookie - "+_e(t),{exception:We(t)})}}return ft}function It(e){var t={};return e&&e.length&&fe(de(e).split(";"),(function(e){if(e=de(e||lt)){var n=e.indexOf("=");-1===n?t[e]=null:t[de(e.substring(0,n))]=de(e.substring(n+1))}})),t}function bt(e,t){return te(e[t])?e[t]():null}function Tt(e,t){var n=e||lt;return ie(t,(function(e,t){n+="; "+e+(J(t)?lt:"="+t)})),n}function xt(e){var t=lt;if(dt){var n=dt.cookie||lt;pt!==n&&(gt=It(n),pt=n),t=de(gt[e]||lt)}return t}function Ct(e,t){dt&&(dt.cookie=e+"="+t)}var Et=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;K(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=he(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=he(e.listeners,t)},e.eventsSent=function(t){fe(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){fe(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){fe(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||fe(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))},kt=function(e){function t(){var n=e.call(this)||this;return K(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new Xe(e),i||new Et(e))},e.track=function(r){Qe(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),Ce("Invalid telemetry item")),function(e){if(J(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];fe(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:le(new Date),baseType:Ge.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)}})),n}return x(t,e),t}((function e(){var t,n,r,i,o,a=!1;K(e,this,(function(e){e._extensions=new Array,n=new st,e.logger=I({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return a},e.initialize=function(t,i,o,s){e.isInitialized()&&Ce("Core should not be initialized more than once"),t&&!J(t.instrumentationKey)||Ce("Please provide instrumentation key"),r=s,e._notificationManager=s,e.config=t||{},t.extensions=J(t.extensions)?[]:t.extensions,be(t,rt).NotificationManager=s,o&&(e.logger=o);var c=[];c.push.apply(c,i.concat(t.extensions)),c=at(c);var u=[],l=[],f={};fe(c,(function(e){(J(e)||J(e.initialize))&&Ce("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(J(f[t])?f[t]=r:o.warnToConsole("Two extensions have same priority #"+t+" - "+f[t]+", "+r)),!t||t<n.priority?u.push(e):l.push(e)})),c.push(n),u.push(n),c=at(c),e._extensions=c,ot(new nt([n],t,e),c),ot(new nt(u,t,e),c),e._extensions=u,0===e.getTransmissionControls().length&&Ce("No channels available"),a=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){Ie(n,"iKey",e.config.instrumentationKey,null,Te),Ie(n,"time",le(new Date),null,Te),Ie(n,"ver","4.0",null,J),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return t&&0!==t.length||(r=[n]),new nt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=I({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=r),r},e.getCookieMgr=function(){return o||(o=wt(e.config,e.logger)),o},e.setCookieMgr=function(e){o=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&(i=new Je(e.getNotifyMgr())),i},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(fe(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))})),St=4294967296,At=4294967295,Rt=!1,Pt=123456789,Nt=987654321;function Dt(e){var t,n=De("crypto")||De("msCrypto");return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&At:ze()?(Rt||function(){try{var e=2147483647&we();(t=(Math.random()*St^e)+e)<0&&(t>>>=0),Pt=123456789+t&At,Nt=987654321-t&At,Rt=!0}catch(e){}var t}(),t=function(e){var t=((Nt=36969*(65535&Nt)+(Nt>>16)&At)<<16)+(65535&(Pt=18e3*(65535&Pt)+(Pt>>16)&At))>>>0&At|0;return t>>>=0}()&At):t=Math.floor(St*Math.random()|0),e||(t>>>=0),t}function Lt(e,t){var n=!1,r=Me();r&&(n=ne(r,e,t),n=ne(r.body,e,t)||n);var i=Be();return i&&(n=Bt.Attach(i,e,t)||n),n}function Mt(e){void 0===e&&(e=22);for(var t=Dt()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Dt()<<2&4294967295|3&t)>>>0,n=0);return r}function Ut(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Dt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Dt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var Bt={Attach:ne,AttachEvent:ne,Detach:re,DetachEvent:re},Ot=["req","rsp","hkErr","fnErr"];function Ft(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function qt(e,t,n,r,i){i>=0&&i<=2&&Ft(e,(function(e,o){var a=e.cbks,s=a[Ot[i]];if(s){t.ctx=function(){return r[o]=r[o]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var u=a[Ot[2]];u&&(t.err=e,u.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}var jt=Object.getPrototypeOf;function Vt(e,t,n){var r=null;return e&&(Q(e,t)?r=e:n&&(r=Vt(function(e){if(e){if(jt)return jt(e);var t=e.__proto__||e.prototype||e.constructor;if(t)return t}return null}(e),t,!1))),r}function zt(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=Vt(e,t,r);if(i){var o=i[t];if(typeof o===l){var a=o._aiHooks;if(!a){var s=(u=a={i:0,n:t,f:o,h:[]},function(){var e=this,t=arguments,n=u.h,r={name:u.n,inst:e,ctx:null,set:s},i=[],o=a([r],t);function a(e,t){return Ft(t,(function(t){e.push(t)})),e}function s(e,n){(t=a([],t))[e]=n,o=a([r],t)}qt(n,r,o,i,0);var c=u.f;try{r.rslt=c.apply(e,t)}catch(e){throw r.err=e,qt(n,r,o,i,3),e}return qt(n,r,o,i,1),r.rslt});s._aiHooks=a,i[t]=s}var c={id:a.i,cbks:n,rm:function(){var e=this.id;Ft(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(c),c}}}var u;return null}var Ht="Request-Context",Wt="appId=cid-v1:",Kt="Request-Id",Gt="traceparent",$t="Sdk-Context",Xt="appId";function Yt(e,t,n){var r,i=t.length,o=function(e,t){var n;return t&&(t=de(t.toString())).length>150&&(n=t.substring(0,150),e.throwInternal(H.WARNING,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(o.length!==i){for(var a=0,s=o;void 0!==n[s];)a++,s=o.substring(0,147)+(r=void 0,(r="00"+a).substr(r.length-3));o=s}return o}function Jt(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=de(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(H.WARNING,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Zt(e,t){return nn(e,t,2048,66)}function Qt(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(H.WARNING,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function en(e,t){if(t){var n={};ie(t,(function(t,r){if(ee(r)&&je())try{r=Ve().stringify(r)}catch(t){e.throwInternal(H.WARNING,49,"custom property is not valid",{exception:t},!0)}r=Jt(e,r,8192),t=Yt(e,t,n),n[t]=r})),t=n}return t}function tn(e,t){if(t){var n={};ie(t,(function(t,r){t=Yt(e,t,n),n[t]=r})),t=n}return t}function nn(e,t,n,r){var i;return t&&(t=de(t)).length>n&&(i=t.substring(0,n),e.throwInternal(H.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function rn(e){var t=null;if(te(Event))t=new Event(e);else{var n=Be();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}function on(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function an(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function sn(){var e=Oe();return"sendBeacon"in e&&e.sendBeacon}var cn,un,ln,fn,hn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",pn="http.method",dn="not_specified";(un=cn||(cn={}))[un.LocalStorage=0]="LocalStorage",un[un.SessionStorage=1]="SessionStorage",(fn=ln||(ln={}))[fn.AI=0]="AI",fn[fn.AI_AND_W3C=1]="AI_AND_W3C",fn[fn.W3C=2]="W3C";var gn=void 0,vn=void 0;function mn(){return _n()?yn(cn.LocalStorage):null}function yn(e){try{if(J(w()))return null;var t=new Date,n=De(e===cn.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function wn(){return In()?yn(cn.SessionStorage):null}function _n(){return void 0===gn&&(gn=!!yn(cn.LocalStorage)),gn}function In(){return void 0===vn&&(vn=!!yn(cn.SessionStorage)),vn}function bn(e,t){var n=wn();if(null!==n)try{return n.getItem(t)}catch(t){vn=!1,e.throwInternal(H.WARNING,2,"Browser failed read of session storage. "+_e(t),{exception:We(t)})}return null}function Tn(e,t,n){var r=wn();if(null!==r)try{return r.setItem(t,n),!0}catch(t){vn=!1,e.throwInternal(H.WARNING,4,"Browser failed write to session storage. "+_e(t),{exception:We(t)})}return!1}var xn=Be()||{},Cn=0,En=[null,null,null,null,null];function kn(e){var t=Cn,n=En,r=n[t];return xn.createElement?n[t]||(r=n[t]=xn.createElement("a")):r={host:Sn(e,!0)},r.href=e,++t>=n.length&&(t=0),Cn=t,r}function Sn(e,t){var n=An(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&ce(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function An(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&ce(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";("http"===i&&":80"===o||"https"===i&&":443"===o)&&(o=""),n+=o}}return n}var Rn=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Pn(e){return-1!==Rn.indexOf(e.toLowerCase())}var Nn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=kn(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(An(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o,a=e&&e.correlationHeaderDomains;if(a&&(fe(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||t.test(i)})),!o))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++)if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Nn.getCorrelationContextValue(e,"appId");if(t&&t!==Nn.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function Dn(){var e=qe();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return we()}function Ln(e,t){var n=null;return 0===e||0===t||J(e)||J(t)||(n=t-e),n}var Mn=function(e){function t(){return e.call(this)||this}return x(t,e),t}((function(){})),Un=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=Jt(t,r)||dn,i.data=n,i.time=le(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===i.sampleRate?4:1},tags:1,data:1},i}return x(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),Bn=function(){this.ver=2,this.properties={},this.measurements={}},On=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=Jt(t,n)||dn,o.properties=en(t,r),o.measurements=tn(t,i),o}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(Bn);function Fn(e,t){var n=e;return n&&!ce(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=te(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function qn(e,t){var n=e;return e&&((n=e.message||e.description||"")&&!ce(n)&&(n=Fn(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function jn(e){return e&&e.src&&ce(e.src)&&e.obj&&ae(e.obj)}function Vn(e){var t=e||"";ce(t)||(t=ce(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function zn(e){var t=null;if(e)try{if(e.stack)t=Vn(e.stack);else if(e.error&&e.error.stack)t=Vn(e.error.stack);else if(e.exception&&e.exception.stack)t=Vn(e.exception.stack);else if(jn(e))t=e;else if(jn(e.stackDetails))t=e.stackDetails;else if(window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(ce(e))t=Vn(e);else{var n=e.message||e.description||"";ce(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=Vn(n))}}catch(e){t=Vn(e)}return t||{src:"",obj:null}}function Hn(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Wn(e){if(e)try{if(!ce(e)){var t=Hn(e),n=Fn(e,!1);return n&&"{}"!==n||(e.error&&(t=Hn(e=e.error)),n=Fn(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Kn,Gn,$n=function(e){function t(t,n,r,i,o,a){var s,c=e.call(this)||this;return c.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},ee(s=n)&&"ver"in s&&"exceptions"in s&&"properties"in s?(c.exceptions=n.exceptions,c.properties=n.properties,c.measurements=n.measurements,n.severityLevel&&(c.severityLevel=n.severityLevel),n.id&&(c.id=n.id),n.problemGroup&&(c.problemGroup=n.problemGroup),c.ver=2,J(n.isManual)||(c.isManual=n.isManual)):(r||(r={}),c.exceptions=[new Xn(t,n,r)],c.properties=en(t,r),c.measurements=tn(t,i),o&&(c.severityLevel=o),a&&(c.id=a)),c}return x(t,e),t.CreateAutoException=function(e,t,n,r,i,o,a,s){var c=Hn(i||o||e);return{message:qn(e,c),url:t,lineNumber:n,columnNumber:r,error:Wn(i||o||e),evt:Wn(o||e),typeName:c,stackDetails:zn(a||i||o),errorSrc:s}},t.CreateFromInterface=function(e,n,r,i){var o=n.exceptions&&pe(n.exceptions,(function(t){return Xn.CreateFromInterface(e,t)}));return new t(e,b({},n,{exceptions:o}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=(e.ver,e.problemGroup),a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&pe(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:a,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Wn,t}((function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}})),Xn=function(e){function t(t,n,r){var i,o=e.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},ee(i=n)&&"hasFullStack"in i&&"typeName"in i)o.typeName=n.typeName,o.message=n.message,o.stack=n.stack,o.parsedStack=n.parsedStack,o.hasFullStack=n.hasFullStack;else{var a=n,s=a&&a.evt;se(a)||(a=a.error||s||a),o.typeName=Jt(t,Hn(a))||dn,o.message=Qt(t,qn(n||a,o.typeName))||dn;var c=n.stackDetails||zn(n);o.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;if(fe(n,(function(e){var n=e.toString();if(Yn.regex.test(n)){var o=new Yn(n,r++);i+=o.sizeInBytes,t.push(o)}})),i>32768)for(var o=0,a=t.length-1,s=0,c=o,u=a;o<a;){if((s+=t[o].sizeInBytes+t[a].sizeInBytes)>32768){var l=u-c+1;t.splice(c,l);break}c=o,u=a,o++,a--}}return t}(c),o.stack=function(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(H.WARNING,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(t,function(e){var t="";return e&&(e.obj?fe(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(c)),o.hasFullStack=ae(o.parsedStack)&&o.parsedStack.length>0,r&&(r.typeName=r.typeName||o.typeName)}return o}return x(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&pe(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&pe(n.parsedStack,(function(e){return Yn.CreateFromInterface(e)}))||n.parsedStack;return new t(e,b({},n,{parsedStack:r}))},t}((function(){this.hasFullStack=!0,this.parsedStack=[]})),Yn=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var o=n;i.level=r,i.method="<no_method>",i.assembly=de(o),i.fileName="",i.line=0;var a=o.match(t.regex);a&&a.length>=5&&(i.method=de(a[2])||i.method,i.fileName=de(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return x(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}((function(){}));(Gn=Kn||(Kn={}))[Gn.Measurement=0]="Measurement",Gn[Gn.Aggregation=1]="Aggregation";var Jn,Zn,Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return x(t,e),t}((function(){this.kind=Kn.Measurement})),er=function(e){function t(t,n,r,i,o,a,s,c){var u=e.call(this)||this;u.aiDataContract={ver:1,metrics:1,properties:0};var l=new Qn;return l.count=i>0?i:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(o)||null===o?void 0:o,l.name=Jt(t,n)||dn,l.value=r,u.metrics=[l],u.properties=en(t,s),u.measurements=tn(t,c),u}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}((function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}})),tr=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(Bn),nr=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=function(e,t){return t?nn(e,t,128,69).toString():t}(t,s),c.url=Zt(t,r),c.name=Jt(t,n)||dn,isNaN(i)||(c.duration=an(i)),c.properties=en(t,o),c.measurements=tn(t,a),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(tr),rr=function(e){function t(t,n,r,i,o,a,s,c,u,l,f,h){void 0===u&&(u="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=n,p.duration=an(o),p.success=a,p.resultCode=s+"",p.type=Jt(t,u);var d=function(e,t,n,r){var i,o=r,a=r;if(t&&t.length>0){var s=kn(t);if(i=s.host,!o)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),a=s.pathname,o=Jt(e,n?n+" "+c:c)}else o=Jt(e,t)}else i=r,o=r;return{target:i,name:o,data:a}}(t,r,c,i);return p.data=Zt(t,i)||d.data,p.target=Jt(t,d.target),l&&(p.target=p.target+" | "+l),p.name=Jt(t,d.name),p.properties=en(t,f),p.measurements=tn(t,h),p}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}((function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}})),ir=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||dn,a.message=Qt(t,n),a.properties=en(t,i),a.measurements=tn(t,o),r&&(a.severityLevel=r),a}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}((function(){this.ver=2,this.properties={},this.measurements={}})),or=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Zt(t,r),c.name=Jt(t,n)||dn,c.properties=en(t,o),c.measurements=tn(t,a),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(tr)),ar=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:1,baseData:1},r.baseType=t,r.baseData=n,r}return x(t,e),t}(Mn);function sr(e){var t="ai."+e+".";return function(e){return t+e}}(Zn=Jn||(Jn={}))[Zn.Verbose=0]="Verbose",Zn[Zn.Information=1]="Information",Zn[Zn.Warning=2]="Warning",Zn[Zn.Error=3]="Error",Zn[Zn.Critical=4]="Critical";var cr,ur=sr("application"),lr=sr("device"),fr=sr("location"),hr=sr("operation"),pr=sr("session"),dr=sr("user"),gr=sr("cloud"),vr=sr("internal"),mr=function(e){function t(){return e.call(this)||this}return x(t,e),t}((cr={applicationVersion:ur("ver"),applicationBuild:ur("build"),applicationTypeId:ur("typeId"),applicationId:ur("applicationId"),applicationLayer:ur("layer"),deviceId:lr("id"),deviceIp:lr("ip"),deviceLanguage:lr("language"),deviceLocale:lr("locale"),deviceModel:lr("model"),deviceFriendlyName:lr("friendlyName"),deviceNetwork:lr("network"),deviceNetworkName:lr("networkName"),deviceOEMName:lr("oemName"),deviceOS:lr("os"),deviceOSVersion:lr("osVersion"),deviceRoleInstance:lr("roleInstance"),deviceRoleName:lr("roleName"),deviceScreenResolution:lr("screenResolution"),deviceType:lr("type"),deviceMachineName:lr("machineName"),deviceVMName:lr("vmName"),deviceBrowser:lr("browser"),deviceBrowserVersion:lr("browserVersion"),locationIp:fr("ip"),locationCountry:fr("country"),locationProvince:fr("province"),locationCity:fr("city"),operationId:hr("id"),operationName:hr("name"),operationParentId:hr("parentId"),operationRootId:hr("rootId"),operationSyntheticSource:hr("syntheticSource"),operationCorrelationVector:hr("correlationVector"),sessionId:pr("id"),sessionIsFirst:pr("isFirst"),sessionIsNew:pr("isNew"),userAccountAcquisitionDate:dr("accountAcquisitionDate"),userAccountId:dr("accountId"),userAgent:dr("userAgent"),userId:dr("id"),userStoreRegion:dr("storeRegion"),userAuthUserId:dr("authUserId"),userAnonymousUserAcquisitionDate:dr("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:dr("authUserAcquisitionDate"),cloudName:gr("name"),cloudRole:gr("role"),cloudRoleVer:gr("roleVer"),cloudRoleInstance:gr("roleInstance"),cloudEnvironment:gr("environment"),cloudLocation:gr("location"),cloudDeploymentUnit:gr("deploymentUnit"),internalNodeName:vr("nodeName"),internalSdkVersion:vr("sdkVersion"),internalAgentVersion:vr("agentVersion"),internalSnippet:vr("snippet"),internalSdkSrc:vr("sdkSrc")},function(){var e=this;cr&&ie(cr,(function(t,n){e[t]=n}))})),yr=function(){function e(){}return e.create=function(e,t,n,r,i,o){if(n=Jt(r,n)||dn,J(e)||J(t)||J(n))throw Error("Input doesn't contain all required fields");var a={name:n,time:le(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};return J(i)||ie(i,(function(e,t){a.data[e]=t})),a},e}(),wr="user",_r="device",Ir="trace",br="app",Tr=new mr,xr="AppInsightsPropertiesPlugin",Cr="AppInsightsChannelPlugin",Er=function e(t,n,r,i){K(e,this,(function(e){var o,a=null,s=[],c=!1;function u(){r&&fe(r.getTransmissionControls(),(function(e){fe(e,(function(e){return e.flush(!0)}))}))}r&&(o=r.logger),e.trackPageView=function(e,r){var l=e.name;if(J(l)||"string"!=typeof l){var f=Be();l=e.name=f&&f.title||""}var h=e.uri;if(J(h)||"string"!=typeof h){var p=Fe();h=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),u(),void o.throwInternal(H.WARNING,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var d,g,v,m=!1,y=i.getPerformanceTiming().navigationStart;y>0&&(d=Ln(y,+new Date),i.shouldCollectDuration(d)||(d=void 0)),J(r)||J(r.duration)||(g=r.duration),!n&&isNaN(g)||(isNaN(g)&&(r||(r={}),r.duration=d),t.sendPageViewInternal(e,r),u(),m=!0),r||(r={}),v=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var a={name:l,uri:h};i.populatePageViewPerformanceEvent(a),a.isValid||m?(m||(r.duration=a.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(a,r),c=!0)):(r.duration=d,t.sendPageViewInternal(e,r))}else y>0&&Ln(y,+new Date)>6e4&&(n=!0,m||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){o.throwInternal(H.CRITICAL,38,"trackPageView failed on page load calculation: "+_e(e),{exception:We(e)})}return n},s.push(v),a||(a=setInterval((function(){var e=s.slice(0),t=!1;s=[],fe(e,(function(e){e()?t=!0:s.push(e)})),0===s.length&&(clearInterval(a),a=null),t&&u()}),100))}}))},kr=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+We(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+We(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(In()){null!=bn(this._logger,this.prevPageVisitDataKeyName)&&Ce("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Sr(e,t),r=Ve().stringify(n);Tn(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+We(e))}},e.prototype.stopPageVisitTimer=function(){try{if(In()){var e=we(),t=bn(this._logger,this.prevPageVisitDataKeyName);if(t&&je()){var n=Ve().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,function(e,t){var n=wn();if(null!==n)try{n.removeItem(t)}catch(t){vn=!1,e.throwInternal(H.WARNING,6,"Browser failed removal of session storage item. "+_e(t),{exception:We(t)})}}(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+We(e)),null}},e}(),Sr=function(e,t){this.pageVisitStartTime=we(),this.pageName=e,this.pageUrl=t},Ar=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,o=0,a=0,s=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:Ln(t.startTime,t.connectEnd),o=Ln(t.requestStart,t.responseStart),a=Ln(t.responseStart,t.responseEnd),s=Ln(t.responseEnd,t.loadEventEnd)):(r=Ln(n.navigationStart,n.loadEventEnd),i=Ln(n.navigationStart,n.connectEnd),o=Ln(n.requestStart,n.responseStart),a=Ln(n.responseStart,n.responseEnd),s=Ln(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(H.WARNING,10,"error calculating page view performance.",{total:r,network:i,request:o,response:a,dom:s}):this.shouldCollectDuration(r,i,o,a,s)?r<Math.floor(i)+Math.floor(o)+Math.floor(a)+Math.floor(s)?this._logger.throwInternal(H.WARNING,8,"client performance math error.",{total:r,network:i,request:o,response:a,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=an(r),e.networkConnect=an(i),e.sentRequest=an(o),e.receivedResponse=an(a),e.domProcessing=an(s),e.isValid=!0):this._logger.throwInternal(H.WARNING,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:a,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?qe().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?qe().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=qe();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=qe();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=qe(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Oe()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,o=!1;if(i)for(var a=0;a<r.length;a++)o=o||-1!==i.toLowerCase().indexOf(r[a]);if(o)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function Rr(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Pr=function(e){function t(){var n,r,i,o,a,s=e.call(this)||this;return s.identifier="ApplicationInsightsAnalytics",s.priority=180,s.autoRoutePVDelay=500,K(t,s,(function(e,c){var u=Fe();o=u&&u.href||"",e.getCookieMgr=function(){return yt(e.core)},e.processTelemetry=function(t,n){Qe(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var o=0;o<i;++o){var a=e._telemetryInitializers[o];if(a)try{if(!1===a.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(H.CRITICAL,64,"One of telemetry initializers failed, telemetry item will not be sent: "+_e(e),{exception:We(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=yr.create(t,On.dataType,On.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(H.WARNING,39,"trackTrace failed, trace will not be collected: "+_e(t),{exception:We(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(H.CRITICAL,29,"startTrackEvent failed, event will not be collected: "+_e(t),{exception:We(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,30,"stopTrackEvent failed, event will not be collected: "+_e(t),{exception:We(t)})}},e.trackTrace=function(t,n){try{var r=yr.create(t,ir.dataType,ir.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(H.WARNING,39,"trackTrace failed, trace will not be collected: "+_e(t),{exception:We(t)})}},e.trackMetric=function(t,n){try{var r=yr.create(t,er.dataType,er.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,36,"trackMetric failed, metric will not be collected: "+_e(t),{exception:We(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,b({},r.properties,r.measurements,n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(H.CRITICAL,37,"trackPageView failed, page view will not be collected: "+_e(t),{exception:We(t)})}},e.sendPageViewInternal=function(t,n,r){var i=Be();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var o=yr.create(t,nr.dataType,nr.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.sendPageViewPerformanceInternal=function(t,n,r){var i=yr.create(t,or.dataType,or.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,37,"trackPageViewPerformance failed, page view will not be collected: "+_e(t),{exception:We(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=Be();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(H.CRITICAL,31,"startTrackPage failed, page view may not be collected: "+_e(t),{exception:We(t)})}},e.stopTrackPage=function(t,n,i,o){try{if("string"!=typeof t){var a=Be();t=a&&a.title||""}if("string"!=typeof n){var s=Fe();n=s&&s.href||""}r.stop(t,n,i,o),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,32,"stopTrackPage failed, page view will not be collected: "+_e(t),{exception:We(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error(dn),o=new $n(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),a=yr.create(o,$n.dataType,$n.envelopeType,e.diagLog(),n,r);e.core.track(a)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,35,"trackException failed, exception will not be collected: "+_e(t),{exception:We(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=Me();i&&(r=i.event)}var o=t&&t.url||(Be()||{}).URL,a=t.errorSrc||"window.onerror@"+o+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:a,url:o,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};!function(e,t,n,r,i){return!i&&ce(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?(t.errorSrc||(t.errorSrc=a),e.trackException({exception:t,severityLevel:Jn.Error},s)):function(t,n){var r=yr.create(t,$n.dataType,$n.envelopeType,e.diagLog(),n);e.core.track(r)}($n.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,t.lineNumber||0,t.columnNumber||0,n,r,null,a),s)}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(H.CRITICAL,11,"_onError threw exception while logging error, error will not be collected: "+_e(t),{exception:We(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(u,l,h,p){if(!e.isInitialized()){if(J(l))throw Error("Error initializing");c.initialize(u,l,h,p),e.setInitialized(!1);var d=e._getTelCtx(),g=e.identifier;e.config=d.getExtCfg(g);var v=t.getDefaultConfig(u);void 0!==v&&ie(v,(function(t,n){e.config[t]=d.getConfig(g,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&(gn=!1,vn=!1);var m={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return e.config.accountId||u.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||u.appId}};e._pageViewPerformanceManager=new Ar(e.core),e._pageViewManager=new Er(s,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new kr(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];r=function(e){if(e.baseType===rr.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0},e._telemetryInitializers.push(r)}var r}(m),(n=new Nr(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i.duration=r.toString(),e.trackEvent({name:t,properties:i})},(r=new Nr(e.diagLog(),"trackPageView")).action=function(t,n,r,i,o){J(i)&&(i={}),i.duration=r.toString();var a={name:t,uri:n,properties:i,measurements:o};e.sendPageViewInternal(a,i)};var y,w=Me(),_=Boolean(typeof history===f&&history)?history:De("history"),I=Fe(),b=s;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&w){var T=w.onerror;w.onerror=function(e,t,n,r,i){var o=w.event,a=T&&T(e,t,n,r,i);return!0!==a&&b._onerror($n.CreateAutoException(e,t,n,r,i,o)),a},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&w){var x=w.onunhandledrejection;w.onunhandledrejection=function(e){var t=w.event,n=x&&x.call(w,e);return!0!==n&&b._onerror($n.CreateAutoException(e.reason.toString(),I?I.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&_&&te(_.pushState)&&te(_.replaceState)&&w&&"undefined"!=typeof Event){var C=s;fe(h,(function(e){e.identifier===xr&&(i=e)})),_.pushState=(y=_.pushState,function(){var e=y.apply(this,arguments);return Rr(w,rn(C.config.namePrefix+"pushState")),Rr(w,rn(C.config.namePrefix+"locationchange")),e}),_.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Rr(w,rn(C.config.namePrefix+"replaceState")),Rr(w,rn(C.config.namePrefix+"locationchange")),t}}(_.replaceState),w.addEventListener&&(w.addEventListener(C.config.namePrefix+"popstate",(function(){Rr(w,rn(C.config.namePrefix+"locationchange"))})),w.addEventListener(C.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=Ut();var e="_unknown_";I&&I.pathname&&(e=I.pathname+(I.hash||"")),i.context.telemetryTrace.name=e}a?(o=a,a=I&&I.href||""):a=I&&I.href||"",setTimeout(function(e){C.trackPageView({refUri:e,properties:{duration:0}})}.bind(s,o),C.autoRoutePVDelay)})))}e.setInitialized(!0)}}})),s}return x(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=on(e.disableExceptionTracking),e.autoTrackPageVisitTime=on(e.autoTrackPageVisitTime),e.overridePageViewDuration=on(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=on(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=on(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=on(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=on(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=on(e.enableDebug),e.disableFlushOnBeforeUnload=on(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=on(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.6.4",t}(it),Nr=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(H.WARNING,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,o,a){var s=r[t];if(isNaN(s))e.throwInternal(H.WARNING,63,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=Ln(s,+new Date);n.action(t,i,c,o,a)}delete r[t],r[t]=void 0}},Dr=function e(t){var n=[];K(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},Lr=function(){function e(t,n){var r,i=!1;K(e,this,(function(o){var a=u(e.BUFFER_KEY),s=u(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return fe(t,(function(t){te(t)||-1!==he(e,t)||n.push(t)})),n}function u(e){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var i=bn(t,r);if(i){var o=Ve().parse(i);if(ce(o)&&(o=Ve().parse(o)),o&&ae(o))return o}}catch(e){t.throwInternal(H.CRITICAL,42," storage key: "+r+", "+_e(e),{exception:We(e)})}return[]}function l(e,r){var i=e;try{i=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+i:i;var o=JSON.stringify(r);Tn(t,i,o)}catch(e){Tn(t,i,JSON.stringify([])),t.throwInternal(H.WARNING,41," storage key: "+i+", "+_e(e)+". Buffer cleared",{exception:We(e)})}}(r=a.concat(s)).length>e.MAX_BUFFER_SIZE&&(r.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,[]),l(e.BUFFER_KEY,r),o.enqueue=function(n){r.length>=e.MAX_BUFFER_SIZE?i||(t.throwInternal(H.WARNING,67,"Maximum buffer size reached: "+r.length,!0),i=!0):(r.push(n),l(e.BUFFER_KEY,r))},o.count=function(){return r.length},o.clear=function(){r=[],l(e.BUFFER_KEY,[]),l(e.SENT_BUFFER_KEY,[]),i=!1},o.getItems=function(){return r.slice(0)},o.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},o.markAsSent=function(n){r=c(n,r),l(e.BUFFER_KEY,r);var i=u(e.SENT_BUFFER_KEY);i instanceof Array&&n instanceof Array&&((i=i.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(H.CRITICAL,67,"Sent buffer reached its maximum size: "+i.length,!0),i.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,i))},o.clearSent=function(t){var n=u(e.SENT_BUFFER_KEY);n=c(t,n),l(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(),Mr="true";function Ur(e,t,n){return Ie(e,t,n,xe)}var Br=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){J(e)||ie(e,(function(e,r){ue(r)?n[e]=r:ce(r)?t[e]=r:je()&&(t[e]=Ve().stringify(r))}))},e.createEnvelope=function(t,n,r,i){var o=new Un(t,i,n);Ur(o,"sampleRate",r.sampleRate),(r.baseData||{}).startTime&&(o.time=le(r.baseData.startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(r,o),r.tags=r.tags||[],Ee(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],a=i.user;a&&(Ur(r,Tr.userAuthUserId,a.authId),Ur(r,Tr.userId,a.id||a.localId));var s=i.app;s&&Ur(r,Tr.sessionId,s.sesId);var c=i.device;c&&(Ur(r,Tr.deviceId,c.id||c.localId),Ur(r,Tr.deviceType,c.deviceClass),Ur(r,Tr.deviceIp,c.ip),Ur(r,Tr.deviceModel,c.model),Ur(r,Tr.deviceType,c.deviceType));var u=t.ext.web;if(u){Ur(r,Tr.deviceLanguage,u.browserLang),Ur(r,Tr.deviceBrowserVersion,u.browserVer),Ur(r,Tr.deviceBrowser,u.browser);var l=n.data=n.data||{},f=l.baseData=l.baseData||{},h=f.properties=f.properties||{};Ur(h,"domain",u.domain),Ur(h,"isManual",u.isManual?Mr:null),Ur(h,"screenRes",u.screenRes),Ur(h,"userConsent",u.userConsent?Mr:null)}var p=i.os;p&&Ur(r,Tr.deviceOS,p.name);var d=i.trace;d&&(Ur(r,Tr.operationParentId,d.parentID),Ur(r,Tr.operationName,d.name),Ur(r,Tr.operationId,d.traceID));for(var g={},v=o.length-1;v>=0;v--)ie(o[v],(function(e,t){g[e]=t})),o.splice(v,1);ie(o,(function(e,t){g[e]=t}));var m=b({},r,g);m[Tr.internalSdkVersion]||(m[Tr.internalSdkVersion]="javascript:"+e.Version),n.tags=Ee(m)},e.prototype.Init=function(e,t){this._logger=e,J(t.baseData)&&this._logger.throwInternal(H.CRITICAL,46,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Br.extractPropsAndMeasurements(n.data,i,r);var o=n.baseData;if(J(o))return t.warnToConsole("Invalid input for dependency data"),null;var a=o.properties&&o.properties[pn]?o.properties[pn]:"GET",s=new rr(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,a,o.type,o.correlationContext,i,r),c=new ar(rr.dataType,s);return Br.createEnvelope(t,rr.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}(Br),Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},i={};n.baseType!==On.dataType&&(r.baseTypeSource=n.baseType),n.baseType===On.dataType?(r=n.baseData.properties||{},i=n.baseData.measurements||{}):n.baseData&&Br.extractPropsAndMeasurements(n.baseData,r,i),Br.extractPropsAndMeasurements(n.data,r,i);var o=n.baseData.name,a=new On(t,o,r,i),s=new ar(On.dataType,a);return Br.createEnvelope(t,On.envelopeType,n,s)},t.EventEnvelopeCreator=new t,t}(Br),qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Br.extractPropsAndMeasurements(n.data,i,r);var o=n.baseData,a=$n.CreateFromInterface(t,o,i,r),s=new ar($n.dataType,a);return Br.createEnvelope(t,$n.envelopeType,n,s)},t.ExceptionEnvelopeCreator=new t,t}(Br),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData,i=r.properties||{},o=r.measurements||{};Br.extractPropsAndMeasurements(n.data,i,o);var a=new er(t,r.name,r.average,r.sampleCount,r.min,r.max,i,o),s=new ar(er.dataType,a);return Br.createEnvelope(t,er.envelopeType,n,s)},t.MetricEnvelopeCreator=new t,t}(Br),Vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,i=n.baseData;J(i)||J(i.properties)||J(i.properties.duration)?J(n.data)||J(n.data.duration)||(r=n.data.duration,delete n.data.duration):(r=i.properties.duration,delete i.properties.duration);var o,a=n.baseData;((n.ext||{}).trace||{}).traceID&&(o=n.ext.trace.traceID);var s=a.id||o,c=a.name,u=a.uri,l=a.properties||{},f=a.measurements||{};J(a.refUri)||(l.refUri=a.refUri),J(a.pageType)||(l.pageType=a.pageType),J(a.isLoggedIn)||(l.isLoggedIn=a.isLoggedIn.toString()),J(a.properties)||ie(a.properties,(function(e,t){l[e]=t})),Br.extractPropsAndMeasurements(n.data,l,f);var h=new nr(t,c,u,r,l,f,s),p=new ar(nr.dataType,h);return Br.createEnvelope(t,nr.envelopeType,n,p)},t.PageViewEnvelopeCreator=new t,t}(Br),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData,i=r.name,o=r.uri||r.url,a=r.properties||{},s=r.measurements||{};Br.extractPropsAndMeasurements(n.data,a,s);var c=new or(t,i,o,void 0,a,s,r),u=new ar(or.dataType,c);return Br.createEnvelope(t,or.envelopeType,n,u)},t.PageViewPerformanceEnvelopeCreator=new t,t}(Br),Hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n.baseData.message,i=n.baseData.severityLevel,o=n.baseData.properties||{},a=n.baseData.measurements||{};Br.extractPropsAndMeasurements(n.data,o,a);var s=new ir(t,r,i,o,a),c=new ar(ir.dataType,s);return Br.createEnvelope(t,ir.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}(Br),Wr=function e(t){K(e,this,(function(e){function n(e,o){var a={};if(!e)return t.throwInternal(H.CRITICAL,48,"cannot serialize object because it is null or undefined",{name:o},!0),a;if(e.__aiCircularRefCheck)return t.throwInternal(H.WARNING,50,"Circular reference detected while serializing object",{name:o},!0),a;if(!e.aiDataContract){if("measurements"===o)a=i(e,"number",o);else if("properties"===o)a=i(e,"string",o);else if("tags"===o)a=i(e,"string",o);else if(ae(e))a=r(e,o);else{t.throwInternal(H.WARNING,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{Ve().stringify(e),a=e}catch(e){t.throwInternal(H.CRITICAL,48,e&&te(e.toString)?e.toString():"Error serializing object",null,!0)}}return a}return e.__aiCircularRefCheck=!0,ie(e.aiDataContract,(function(i,s){var c=te(s)?1&s():1&s,u=te(s)?4&s():4&s,l=2&s,f=void 0!==e[i],h=ee(e[i])&&null!==e[i];if(!c||f||l){if(!u){var p;void 0!==(p=h?l?r(e[i],i):n(e[i],i):e[i])&&(a[i]=p)}}else t.throwInternal(H.CRITICAL,24,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e.__aiCircularRefCheck,a}function r(e,r){var i;if(e)if(ae(e)){i=[];for(var o=0;o<e.length;o++){var a=n(e[o],r+"["+o+"]");i.push(a)}}else t.throwInternal(H.CRITICAL,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,n,r){var i;return e&&(i={},ie(e,(function(e,o){if("string"===n)void 0===o?i[e]="undefined":null===o?i[e]="null":o.toString?i[e]=o.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var a=parseFloat(o);isNaN(a)?i[e]="NaN":i[e]=a}else i[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(H.CRITICAL,i[e],null,!0)}))),i}e.serialize=function(e){var r=n(e,"root");try{return Ve().stringify(r)}catch(e){t.throwInternal(H.CRITICAL,48,e&&te(e.toString)?e.toString():"Error serializing object",null,!0)}}}))},Kr=function(){function e(){var t=Me(),n=Be(),r=!1,i=!0;K(e,this,(function(e){try{if(t&&Bt.Attach(t,"online",s)&&(Bt.Attach(t,"offline",c),r=!0),n){var o=n.body||n;Y(o.ononline)||(o.ononline=s,o.onoffline=c,r=!0)}if(r){var a=Oe();a&&!J(a.onLine)&&(i=a.onLine)}}catch(e){r=!1}function s(){i=!0}function c(){i=!1}e.isListening=r,e.isOnline=function(){var e=!0,t=Oe();return r?e=i:t&&!J(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}().Offline,Gr=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}(),$r=function(){function e(){this.hashCodeGeneragor=new Gr,this.keys=new mr}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}(),Xr=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||$e(null),(e>100||e<0)&&(this._logger.throwInternal(H.WARNING,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new $r}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===er.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}();function Yr(e){try{return e.responseText}catch(e){}return null}var Jr=function(e){function t(){var n,r,i,o,a,s=e.call(this)||this;s.priority=1001,s.identifier=Cr,s._XMLHttpRequestSupported=!1;var c={};return K(t,s,(function(e,u){function l(){Ce("Method not implemented.")}function f(t,r,i,o,a,s){var c=null;if(e._appId||(c=m(s))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!p(i))return void e._onError(r,a);!e._senderConfig.isRetryDisabled()&&_(t)?(y(r),e.diagLog().throwInternal(H.WARNING,G,". Response code "+t+". Will retry to send "+r.length+" items.")):e._onError(r,a)}else Kr.isOffline()?e._senderConfig.isRetryDisabled()||(y(r,10),e.diagLog().throwInternal(H.WARNING,G,". Offline - Response Code: "+t+". Offline status: "+Kr.isOffline()+". Will retry to send "+r.length+" items.")):(p(i),206===t?(c||(c=m(s)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,c):e._onError(r,a)):(n=0,e._onSuccess(r,o)))}function p(t){return!(a>=10||J(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++a,0))}function d(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"});Oe().sendBeacon(r,o)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(g(t,!0),e.diagLog().throwInternal(H.WARNING,G,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function g(t,n){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[hn]=!0}catch(e){}r.open("POST",i,n),r.setRequestHeader("Content-type","application/json"),Pn(i)&&r.setRequestHeader($t,Xt),fe(me(c),(function(e){r.setRequestHeader(e,c[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,I(r),n)};var o=e._buffer.batchPayloads(t);r.send(o),e._buffer.markAsSent(t)}function v(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"}),a=new Headers;Pn(r)&&a.append($t,Xt),fe(me(c),(function(e){a.append(e,c[e])}));var s=new Request(r,{method:"POST",headers:a,body:o});fetch(s).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(e){f(n.status,t,n.url,t.length,n.statusText,e)})),e._buffer.markAsSent(t)})).catch((function(n){e._onError(t,n.message)}))}function m(t){try{if(t&&""!==t){var n=Ve().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(H.CRITICAL,43,"Cannot parse the response. "+_e(n),{response:t})}return null}function y(t,i){if(void 0===i&&(i=1),t&&0!==t.length){e._buffer.clearSent(t),n++;for(var o=0,a=t;o<a.length;o++){var s=a[o];e._buffer.enqueue(s)}!function(e){var t;if(n<=1)t=10;else{var i=(Math.pow(2,n)-1)/2,o=Math.floor(Math.random()*i*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var a=we()+1e3*t;r=a}(i),w()}}function w(){if(!i){var t=r?Math.max(0,r-we()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);i=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function _(e){return 408===e||429===e||500===e||503===e}function I(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+Yr(e)||0:t}function b(t,n){var r=Me(),i=new XDomainRequest;i.onload=function(){return e._xdrOnLoad(i,t)},i.onerror=function(n){return e._onError(t,T(i),n)};var o=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return e.diagLog().throwInternal(H.WARNING,G,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var a=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",a);var s=e._buffer.batchPayloads(t);i.send(s),e._buffer.markAsSent(t)}function T(e,t){return e?"XDomainRequest,Response:"+Yr(e)||0:t}e.pause=l,e.resume=l,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(H.CRITICAL,22,"flush failed, telemetry will not be collected: "+_e(t),{exception:We(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!sn())e.flush();else try{e.triggerSend(!0,d,2)}catch(t){e.diagLog().throwInternal(H.CRITICAL,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+_e(t),{exception:We(t)})}},e.teardown=l,e.addHeader=function(e,t){c[e]=t},e.initialize=function(i,c,l,f){u.initialize(i,c,l,f);var p=e._getTelCtx(),m=e.identifier;o=new Wr(c.logger),n=0,r=null,e._sender=null,a=0;var y=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),ie(y,(function(t,n){e._senderConfig[t]=function(){return p.getConfig(m,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&In()?new Lr(e.diagLog(),e._senderConfig):new Dr(e._senderConfig),e._sample=new Xr(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){if(!J(e.disableInstrumentationKeyValidation)&&e.disableInstrumentationKeyValidation)return!0;new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(i),!Pn(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&fe(e._senderConfig.customHeaders(),(function(e){s.addHeader(e.header,e.value)})),!e._senderConfig.isBeaconApiDisabled()&&sn())e._sender=d;else{var w=De("XMLHttpRequest");w?"withCredentials"in new w?(e._sender=g,e._XMLHttpRequestSupported=!0):typeof XDomainRequest!==h&&(e._sender=b):De("fetch")&&(e._sender=v)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(H.CRITICAL,7,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(H.CRITICAL,70,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(H.CRITICAL,28,"Sender was not initialized");if(l=n,!e._sample.isSampledIn(l))return void r.diagLog().throwInternal(H.WARNING,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n.sampleRate=e._sample.sampleRate;var i=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!i)return void r.diagLog().throwInternal(H.CRITICAL,47,"Unable to create an AppInsights envelope");var a=!1;if(n.tags&&n.tags.ProcessLegacy&&(fe(n.tags.ProcessLegacy,(function(e){try{e&&!1===e(i)&&(a=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(H.CRITICAL,64,"One of telemetry initializers failed, telemetry item will not be sent: "+_e(e),{exception:We(e)},!0)}})),delete n.tags.ProcessLegacy),a)return;var s=o.serialize(i),c=e._buffer.getItems(),u=e._buffer.batchPayloads(c);u&&u.length+s.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(s),w()}catch(e){r.diagLog().throwInternal(H.WARNING,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+_e(e),{exception:We(e)})}var l;e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&f(e.status,t,e.responseURL,n,I(e),Yr(e)||e.response)},e.triggerSend=function(t,n,o){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var a=e._buffer.getItems();!function(t,n){var r,i=(r="getNotifyMgr",e.core[r]?e.core[r]():e.core._notificationManager);if(i&&i.eventsSendRequest)try{i.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,74,"send request notification failed: "+_e(t),{exception:We(t)})}}(o||0,t),n?n.call(s,a,t):e._sender(a,t)}new Date}clearTimeout(i),i=null,r=null}catch(t){var c=He();(!c||c>9)&&e.diagLog().throwInternal(H.CRITICAL,G,"Telemetry transmission failed, some telemetry will be lost: "+_e(t),{exception:We(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(H.WARNING,26,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],i=[],o=0,a=n.errors.reverse();o<a.length;o++){var s=a[o],c=t.splice(s.index,1)[0];_(s.statusCode)?i.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,I(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(y(i),e.diagLog().throwInternal(H.WARNING,G,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,r){var i=Yr(t);if(!t||i+""!="200"&&""!==i){var o=m(i);o&&o.itemsReceived&&o.itemsReceived>o.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,o):e._onError(r,T(t))}else n=0,e._onSuccess(r,0)}})),s}return x(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||J(t)?e:b({},e,{iKey:t})).baseType){case On.dataType:return Fr.EventEnvelopeCreator.Create(n,r);case ir.dataType:return Hr.TraceEnvelopeCreator.Create(n,r);case nr.dataType:return Vr.PageViewEnvelopeCreator.Create(n,r);case or.dataType:return zr.PageViewPerformanceEnvelopeCreator.Create(n,r);case $n.dataType:return qr.ExceptionEnvelopeCreator.Create(n,r);case er.dataType:return jr.MetricEnvelopeCreator.Create(n,r);case rr.dataType:return Or.DependencyEnvelopeCreator.Create(n,r);default:return Fr.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(it),Zr=function(){},Qr=function(){function e(t,n){var r,i,o=$e(n),a=yt(n);K(e,this,(function(n){t||(t={}),te(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),te(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var s=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(i.length>=2)try{var a=+i[1]||0,s=+i[2]||0;isNaN(a)||a<=0?o.throwInternal(H.WARNING,27,"AI session acquisition date is 0"+r):isNaN(s)||s<=0?o.throwInternal(H.WARNING,27,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=a,e.renewalDate=s,n=!0)}catch(e){o.throwInternal(H.CRITICAL,9,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+_e(e),{exception:We(e)})}return n}function u(e,t){var o=e.acquisitionDate;e.renewalDate=t;var s,c=n.config,u=c.sessionRenewalMs(),l=o+c.sessionExpirationMs()-t,f=[e.id,o,t];s=l<u?l/1e3:u/1e3;var h=c.cookieDomain?c.cookieDomain():null;a.set(r(),f.join("|"),c.sessionExpirationMs()>0?s:null,h),i=t}r=function(){return"ai_session"+s},n.automaticSession=new Zr,n.update=function(){var t=we(),s=!1,l=n.automaticSession;l.id||(s=!function(e,t){var n=!1,i=a.get(r());if(i&&te(i.split))n=c(e,i);else{var s=function(e,t){var n=mn();if(null!==n)try{return n.getItem(t)}catch(t){gn=!1,e.throwInternal(H.WARNING,1,"Browser failed read of local storage. "+_e(t),{exception:We(t)})}return null}(o,r());s&&(n=c(e,s))}return n||!!e.id}(l));var f=n.config.sessionExpirationMs();if(!s&&f>0){var h=n.config.sessionRenewalMs(),p=t-l.acquisitionDate,d=t-l.renewalDate;s=(s=(s=p<0||d<0)||p>f)||d>h}s?function(e){var t=n.config||{},r=(t.getNewId?t.getNewId():null)||Mt;n.automaticSession.id=r(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,u(n.automaticSession,e),_n()||o.throwInternal(H.WARNING,0,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&u(l,t)},n.backup=function(){var e,t,i,a=n.automaticSession;e=a.id,t=a.acquisitionDate,i=a.renewalDate,function(e,t,n){var r=mn();if(null!==r)try{r.setItem(t,n)}catch(t){gn=!1,e.throwInternal(H.WARNING,3,"Browser failed write to local storage. "+_e(t),{exception:We(t)})}}(o,r(),[e,t,i].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),ei=function(){},ti=function(){this.id="browser",this.deviceClass="Browser"},ni=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.4"};function ri(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var ii=function(){function e(t,n){this.isNewUser=!1;var r,i=$e(n),o=yt(n);K(e,this,(function(n){n.config=t;var a=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";r=function(){return e.userCookieName+a};var s=o.get(r());if(s){n.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){var u=t||{},l=(u.getNewId?u.getNewId():null)||Mt;n.id=l(u.idLength?t.idLength():22);var f=le(new Date);n.accountAcquisitionDate=f,n.isNewUser=!0;var h=[n.id,f];o.set(r(),h.join(e.cookieSeparator),31536e3);var p=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";!function(e,t){var n=mn();if(null!==n)try{n.removeItem(t)}catch(t){gn=!1,e.throwInternal(H.WARNING,5,"Browser failed removal of local storage item. "+_e(t),{exception:We(t)})}}(i,p)}n.accountId=t.accountId?t.accountId():void 0;var d=o.get(e.authUserCookieName);if(d){var g=(d=decodeURI(d)).split(e.cookieSeparator);g[0]&&(n.authenticatedId=g[0]),g.length>1&&g[1]&&(n.accountId=g[1])}n.setAuthenticatedUserContext=function(t,r,a){if(void 0===a&&(a=!1),!ri(t)||r&&!ri(r))i.throwInternal(H.WARNING,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var s=n.authenticatedId;r&&(n.accountId=r,s=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),a&&o.set(e.authUserCookieName,encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,o.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),oi=function(){},ai=function(e,t,n,r){var i=this;i.traceID=e||Ut(),i.parentID=t,i.name=n;var o=Fe();!n&&o&&o.pathname&&(i.name=o.pathname),i.name=Jt(r,i.name)},si="ext",ci="tags";function ui(e,t){e&&e[t]&&0===me(e[t]).length&&delete e[t]}var li=function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},K(e,this,(function(e){e.application=new ei,e.internal=new ni(n),Le()&&(e.sessionManager=new Qr(n,t),e.device=new ti,e.location=new oi,e.user=new ii(n,t),e.telemetryTrace=new ai(void 0,void 0,void 0,i),e.session=new Zr),e.applySessionContext=function(t,n){var r=e.session,i=e.sessionManager;r&&ce(r.id)?Ie(be(t.ext,br),"sesId",r.id):i&&i.automaticSession&&Ie(be(t.ext,br),"sesId",i.automaticSession.id,ce)},e.applyOperatingSystemContxt=function(t,n){Ie(t.ext,"os",e.os)},e.applyApplicationContext=function(t,n){var r=e.application;if(r){var i=be(t,ci);Ie(i,Tr.applicationVersion,r.ver,ce),Ie(i,Tr.applicationBuild,r.build,ce)}},e.applyDeviceContext=function(t,n){var r=e.device;if(r){var i=be(be(t,si),_r);Ie(i,"localId",r.id,ce),Ie(i,"ip",r.ip,ce),Ie(i,"model",r.model,ce),Ie(i,"deviceClass",r.deviceClass,ce)}},e.applyInternalContext=function(t,n){var r=e.internal;if(r){var i=be(t,ci);Ie(i,Tr.internalAgentVersion,r.agentVersion,ce),Ie(i,Tr.internalSdkVersion,r.sdkVersion,ce),t.baseType!==Ge.dataType&&t.baseType!==nr.dataType||(Ie(i,Tr.internalSnippet,r.snippetVer,ce),Ie(i,Tr.internalSdkSrc,r.sdkSrc,ce))}},e.applyLocationContext=function(e,t){var n=r.location;n&&Ie(be(e,ci,[]),Tr.locationIp,n.ip,ce)},e.applyOperationContext=function(t,n){var r=e.telemetryTrace;if(r){var i=be(be(t,si),Ir,{traceID:void 0,parentID:void 0});Ie(i,"traceID",r.traceID,ce),Ie(i,"name",r.name,ce),Ie(i,"parentID",r.parentID,ce)}},e.applyWebContext=function(e,t){var n=r.web;n&&Ie(be(e,si),"web",n)},e.applyUserContext=function(t,n){var r=e.user;if(r){Ie(be(t,ci,[]),Tr.userAccountId,r.accountId,ce);var i=be(be(t,si),wr);Ie(i,"id",r.id,ce),Ie(i,"authId",r.authenticatedId,ce)}},e.cleanUp=function(e,t){var n=e.ext;n&&(ui(n,_r),ui(n,wr),ui(n,"web"),ui(n,"os"),ui(n,br),ui(n,Ir))}}))},fi=function(e){function t(){var n,r,i=e.call(this)||this;return i.priority=110,i.identifier=xr,K(t,i,(function(e,i){e.initialize=function(o,a,s,c){i.initialize(o,a,s,c);var u=e._getTelCtx(),l=e.identifier,f=t.getDefaultConfig();r=r||{},ie(f,(function(e,t){r[e]=function(){return u.getConfig(l,e,t())}})),e.context=new li(a,r),n=function(e,t){var n=null;return fe(e,(function(e){if("AppInsightsChannelPlugin"===e.identifier)return n=e,-1})),n}(s),e.context.appId=function(){return n?n._appId:null},e._extConfig=r},e.processTelemetry=function(t,n){if(J(t));else{n=e._getTelCtx(n),t.name===nr.envelopeType&&n.diagLog().resetInternalMessageCount();var r=e.context||{};if(r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update(),function(t,n){be(t,"tags",[]),be(t,"ext",{});var r=e.context;r.applySessionContext(t,n),r.applyApplicationContext(t,n),r.applyDeviceContext(t,n),r.applyOperationContext(t,n),r.applyUserContext(t,n),r.applyOperatingSystemContxt(t,n),r.applyWebContext(t,n),r.applyLocationContext(t,n),r.applyInternalContext(t,n),r.cleanUp(t,n)}(t,n),r.user&&r.user.isNewUser){r.user.isNewUser=!1;var i=new Ge(72,(Oe()||{}).userAgent||"");n.diagLog().logInternalMessage(H.CRITICAL,i)}e.processNext(t,n)}}})),i}return x(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(it);function hi(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=Ln(i,o)),r}function pi(e,t,n,r,i){var o=0,a=hi(n,r,i);return a&&(o=di(e,t,an(a))),o}function di(e,t,n){var r=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1),r}var gi=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},vi=function e(t,n,r){var i=this,o=r;i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new gi,i.clientFailure=0,i.traceID=t,i.spanID=n,K(e,i,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?((n=kn(e.requestUrl))&&(t=n.href),t):null;var t,n},e.getPathName=function(){return e.requestUrl?Zt(o,(t=e.method,n=e.requestUrl,t?t.toUpperCase()+" "+n:n)):null;var t,n},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*Ln(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,o=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(e.requestSentTime&&(o.startTime=new Date,o.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t.properties||{},i=0,o="redirect",a="startTime",s="connectEnd",c="requestStart",u="responseEnd",l=o+"Start",f=o="End";if(n){i|=pi(r,o,n,l,f),i|=pi(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=pi(r,"connect",n,"connectStart",s),i|=pi(r,"request",n,c,"requestEnd"),i|=pi(r,"response",n,"responseStart",u),i|=pi(r,"networkConnect",n,a,s),i|=pi(r,"sentRequest",n,c,u);var h=n.duration;h||(h=hi(n,a,u)||0),i|=di(r,"duration",h),i|=di(r,"perfTotal",h);var p=n.serverTiming;if(p){var d={};fe(p,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e.name||""+t),r=d[n]||{};ie(e,(function(e,t){("name"!==e&&ce(t)||ue(t))&&(r[e]&&(t=r[e]+";"+t),!t&&ce(t)||(r[e]=t))})),d[n]=r})),i|=di(r,"serverTiming",d)}i|=di(r,"transferSize",n.transferSize),i|=di(r,"encodedBodySize",n.encodedBodySize),i|=di(r,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=di(r,"missing",e.perfAttempts));i&&(t.properties=r)}(e,o),n&&me(e.requestHeaders).length>0&&(o.properties=o.properties||{},o.properties.requestHeaders=e.requestHeaders),r){var a=r();if(a){var s=a.correlationContext;if(s&&(o.correlationContext=s),a.headerMap&&me(a.headerMap).length>0&&(o.properties=o.properties||{},o.properties.responseHeaders=a.headerMap),e.status>=400){var c=a.type;o.properties=o.properties||{},""!==c&&"text"!==c||(o.properties.responseText=a.responseText?a.statusText+" - "+a.responseText:a.statusText),"json"===c&&(o.properties.responseText=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return o}}))},mi=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=Ut(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=Ut().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),yi="ai.ajxmn.",wi="fetch",_i=0;function Ii(e){var t="";try{J(e)||J(e.ajaxData)||J(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function bi(e,t,n,r,i){e.diagLog().throwInternal(H.CRITICAL,t,n,r,i)}function Ti(e,t,n,r,i){e.diagLog().throwInternal(H.WARNING,t,n,r,i)}function xi(e,t,n){return function(r){bi(e,t,n,{ajaxDiagnosticsMessage:Ii(r.inst),exception:We(r.err)})}}function Ci(e,t){return e&&t?e.indexOf(t):-1}var Ei,ki=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,a,s,c=Fe(),u=!1,l=!1,f=c&&c.host&&c.host.toLowerCase(),p=t.getEmptyConfig(),d=!1,g=0,v=!1,m=0,y=!1,_=[],I={};return K(t,n,(function(e,n){function c(e){var t=!0;return(e||p.ignoreHeaders)&&fe(p.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function b(e,t,n){_.push(function(e,t,n){return e?zt(e.prototype,t,n,!1):null}(e,t,n))}function T(e,t,n){var r=!1,i=((ce(t)?t:(t||{}).url||"")||"").toLowerCase();if(fe(s,(function(e){var t=e;ce(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var o=Ci(i,"?"),a=Ci(i,"#");return(-1===o||-1!==a&&a<o)&&(o=a),-1!==o&&(i=i.substring(0,o)),J(e)?J(t)||(r="object"==typeof t&&!0===t[hn]||!!n&&!0===n[hn]):r=!0===e[hn]||!0===i[hn],r?I[i]||(I[i]=1):I[i]&&(r=!0),r}function x(e,t){var n=!0,r=l;return J(e)||(n=!0===t||!J(e.ajaxData)),r&&n}function C(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function E(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==Ci(n.toLowerCase(),"request-context")){var r=t.getResponseHeader(Ht);return Nn.getCorrelationContext(r)}}catch(n){Ti(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Ii(t),exception:We(n)})}}function k(e,t){if(t.requestUrl&&a&&v){var n=qe();if(n&&te(n.mark)){_i++;var r=a+e+"#"+_i;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function S(e,t,n,r){var i=t.perfMark,o=qe(),a=p.maxAjaxPerfLookupAttempts,s=p.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(o&&i){u++;for(var f=null,h=o.getEntries(),p=h.length-1;p>=0;p--){var d=h[p];if(d){if("resource"===d.entryType)d.initiatorType!==e||-1===Ci(d.name,c)&&-1===Ci(c,d.name)||(f=d);else if("mark"===d.entryType&&d.name===i.name){t.perfTiming=f;break}if(d.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=a||!1===t.async?(i&&te(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(e){r(e)}}()}function A(t){var n="";try{J(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){bi(e,15,"Failed to grab failed fetch diagnostics message",{exception:We(t)})}return n}function R(t,n,r,i,o,a){function s(t,n,i){var o=i||{};o.fetchDiagnosticsMessage=A(r),n&&(o.exception=We(n)),Ti(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}i&&(i.responseFinishedTime=Dn(),i.status=n,S("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",d,o);t?e.trackDependencyDataInternal(t):s(14,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){s(18,e,null)})))}function P(t){if(t&&t.headers)try{var n=t.headers.get(Ht);return Nn.getCorrelationContext(n)}catch(n){Ti(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:A(t),exception:We(n)})}}e.initialize=function(f,g,I,A){if(!e.isInitialized()){n.initialize(f,g,I,A);var N=e._getTelCtx();ie(t.getDefaultConfig(),(function(e,n){p[e]=N.getConfig(t.identifier,e,n)}));var D=p.distributedTracingMode;if(d=p.enableRequestHeaderTracking,v=p.enableAjaxPerfTracking,m=p.maxAjaxCallsPerView,y=p.enableResponseHeaderTracking,s=p.excludeRequestFromAutoTrackingPatterns,o=D===ln.AI||D===ln.AI_AND_W3C,i=D===ln.AI_AND_W3C||D===ln.W3C,v){var L=f.instrumentationKey||"unkwn";a=L.length>5?yi+L.substring(L.length-5)+".":yi+L+"."}if(!1===p.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==h&&!J(XMLHttpRequest)){var n=XMLHttpRequest.prototype;t=!(J(n)||J(n.open)||J(n.send)||J(n.abort))}var r=He();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=i}catch(n){t=!1,bi(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:We(n)})}return t}(e)&&!l&&(b(XMLHttpRequest,"open",{req:function(t,n,i,o){var a=t.inst,s=a.ajaxData;T(a,i)||!x(a,!0)||s&&s.xhrMonitoringState.openDone||function(t,n,i,o){var a=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Ut(),s=Ut().substr(0,16),u=new vi(a,s,e.diagLog());u.method=n,u.requestUrl=i,u.xhrMonitoringState.openDone=!0,u.requestHeaders={},u.async=o,t.ajaxData=u,function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=Bt.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&x(t)&&function(t){var n=t.ajaxData;function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=Ii(t),n&&(i.exception=We(n)),Ti(e,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Dn(),n.status=t.status,S("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",d,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:E(t),type:t.responseType,responseText:C(t),response:t.response};if(y){var n=t.getAllResponseHeaders();if(n){var r=de(n).split(/[\r\n]+/),i={};fe(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");c(n)&&(i[n]=r)})),e.headerMap=i}}return e}));i?e.trackDependencyDataInternal(i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=We(r);n&&-1!==Ci(n.toLowerCase(),"c00c023f")||bi(e,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Ii(t),exception:n})}}))}(t)}(a,n,i,o)},hkErr:xi(e,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),b(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r.ajaxData;x(r)&&!i.xhrMonitoringState.sendDone&&(k("xhr",i),i.requestSentTime=Dn(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:xi(e,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),b(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t.ajaxData;x(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:xi(e,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),d&&b(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;x(r)&&c(t)&&(r.ajaxData.requestHeaders[t]=n)},hkErr:xi(e,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),l=!0),function(){var t,n=!(t=w())||J(t.Request)||J(t.Request.prototype)||J(t.fetch)?null:t.fetch;if(n){var i=w(),o=n.polyfill;!1===p.disableFetchTracking?(_.push(zt(i,wi,{req:function(t,n,i){var a;if(u&&!T(null,n,i)&&(!o||!l)){var s=t.ctx();a=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Ut(),o=Ut().substr(0,16),a=new vi(i,o,e.diagLog());a.requestSentTime=Dn(),t instanceof Request?a.requestUrl=t?t.url:"":a.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method),a.method=s;var u={};return d&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){c(t)&&(u[t]=e)})),a.requestHeaders=u,k("fetch",a),a}(n,i);var f=e.includeCorrelationHeaders(a,n,i);f!==i&&t.set(1,f),s.data=a}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return R(0,(e||{}).status,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:P(e)};if(y){var n={};e.headers.forEach((function(e,t){c(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw R(0,0,t,n,null,e.message),e})))},hkErr:xi(e,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),u=!0):o&&_.push(zt(i,wi,{req:function(e,t,n){T(null,t,n)}})),o&&(i.fetch.polyfill=o)}}(),I.length>0&&I){for(var M=void 0,U=0;!M&&U<I.length;)I[U]&&I[U].identifier===xr&&(M=I[U]),U++;M&&(r=M.context)}}},e.teardown=function(){fe(_,(function(e){e.rm()})),_=[],u=!1,l=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c=e._currentWindowHost||f;if(n){if(Nn.canIncludeCorrelationHeader(p,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),o){var u="|"+t.traceID+"."+t.spanID;a.headers.set(Kt,u),d&&(t.requestHeaders["Request-Id"]=u)}if((h=p.appId||r&&r.appId())&&(a.headers.set(Ht,Wt+h),d&&(t.requestHeaders["Request-Context"]=Wt+h)),i){var l=new mi(t.traceID,t.spanID);a.headers.set(Gt,l.toString()),d&&(t.requestHeaders.traceparent=l.toString())}}return a}if(s){var h;if(Nn.canIncludeCorrelationHeader(p,t.getAbsoluteUrl(),c))o&&(u="|"+t.traceID+"."+t.spanID,s.setRequestHeader(Kt,u),d&&(t.requestHeaders["Request-Id"]=u)),(h=p.appId||r&&r.appId())&&(s.setRequestHeader(Ht,Wt+h),d&&(t.requestHeaders["Request-Context"]=Wt+h)),i&&(l=new mi(t.traceID,t.spanID),s.setRequestHeader(Gt,l.toString()),d&&(t.requestHeaders.traceparent=l.toString()));return s}},e.trackDependencyDataInternal=function(t,n,r){if(-1===m||g<m){p.distributedTracingMode!==ln.W3C&&p.distributedTracingMode!==ln.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),J(t.startTime)&&(t.startTime=new Date);var i=yr.create(t,rr.dataType,rr.envelopeType,e.diagLog(),n,r);e.core.track(i)}else g===m&&bi(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++g}})),n}return x(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:ln.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return ie(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(it),Si=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Ai=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var r=function(e){if(!e)return{};var t=function(e,t,n){var r,i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++;return r}(e.split(";"),(function(e,t){var n=t.split("=");if(2===n.length){var r=n[0].toLowerCase(),i=n[1];e[r]=i}return e}),{});if(me(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||"https://dc.services.visualstudio.com"}return t}(n.connectionString),i=r.ingestionendpoint;n.endpointUrl=i?i+"/v2/track":n.endpointUrl,n.instrumentationKey=r.instrumentationkey||n.instrumentationKey}t.appInsights=new Pr,t.properties=new fi,t.dependencies=new ki,t.core=new kt,t._sender=new Jr,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),Qe(this.core,(function(){return"AISKU.flush"}),(function(){fe(t.core.getTransmissionControls(),(function(t){fe(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),fe(this.core.getTransmissionControls(),(function(t){fe(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var r=this;void 0===e&&(e=!1);var i=this;return e&&i.config.extensions&&i.config.extensions.length>0&&Ce("Extensions not allowed in legacy mode"),Qe(i.core,(function(){return"AISKU.loadAppInsights"}),(function(){var o=[];o.push(i._sender),o.push(i.properties),o.push(i.dependencies),o.push(i.appInsights),i.core.initialize(i.config,o,t,n),i.context=i.properties.context,Ei&&i.context&&(i.context.internal.sdkSrc=Ei),function(t){if(t){var n="";J(i._snippetVersion)||(n+=i._snippetVersion),e&&(n+=".lg"),i.context&&i.context.internal&&(i.context.internal.snippetVer=n||"-"),ie(i,(function(e,n){ce(e)&&!te(n)&&e&&"_"!==e[0]&&-1===Si.indexOf(e)&&(t[e]=n)}))}}(i.snippet),i.emptyQueue(),i.pollInternalLogs(),i.addHousekeepingBeforeUnload(r)})),i},e.prototype.updateSnippetDefinitions=function(e){!function(e,t,n){if(e&&t&&e!==t&&ee(e)&&ee(t)){var r=function(r){if(ce(r)){var i=t[r];te(i)?n&&!n(r)||(e[r]=(o=r,function(){var e=arguments;return t[o].apply(t,e)})):n&&!n(r)||(Q(e,r)&&delete e[r],ye(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var o};for(var i in t)r(i)}}(e,this,(function(e){return e&&-1===Si.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(ae(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&te(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(Le()||Ue()){var t=function(){e.onunloadFlush(!1),fe(e.appInsights.core._extensions,(function(e){if(e.identifier===xr)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=Lt("beforeunload",t);n=Lt("unload",t)||n,n=Lt("pagehide",t)||n,(n=Lt("visibilitychange",t)||n)||(r=Oe())&&r.product&&"ReactNative"===r.product||e.appInsights.core.logger.throwInternal(H.CRITICAL,19,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Lt("pagehide",t),Lt("visibilitychange",t))}var r},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}();!function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",o=0;o<t.length;o++)if(-1!==r.indexOf(t[o])){i="cdn"+(o+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),Ei=i+"";break}}catch(e){}}();var Ri=class{constructor(e,t,n,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=i,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!o,this.updateUserOptStatus(),void 0!==r.env.onDidChangeTelemetryEnabled?this.optOutListener=r.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus())):this.optOutListener=r.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus()))}updateUserOptStatus(){const e=r.workspace.getConfiguration(Ri.TELEMETRY_CONFIG_ID),t=void 0===r.env.isTelemetryEnabled?e.get(Ri.TELEMETRY_CONFIG_ENABLED_ID,!0):r.env.isTelemetryEnabled;this.userOptIn!==t&&(this.userOptIn=t)}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((n=>{0===e.indexOf(`${n}+`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=r.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;const n={};for(const r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!this.firstParty||"other"!==this.cleanRemoteName(r.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==r.ExtensionKind.Workspace&&r.env.uiKind!==r.UIKind.Web}getCommonProperties(){const e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,r&&r.env){switch(e["common.vscodemachineid"]=r.env.machineId,e["common.vscodesessionid"]=r.env.sessionId,e["common.vscodeversion"]=r.version,e["common.isnewappinstall"]=r.env.isNewAppInstall,r.env.uiKind){case r.UIKind.Web:e["common.uikind"]="web";break;case r.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(r.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";const i=[];""!==r.env.appRoot&&i.push(new RegExp(r.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let o=e;if(t){const t=[];for(const r of i)for(;(n=r.exec(e))&&n;)t.push([n.index,r.lastIndex]);const r=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g;let s=0;for(o="";(n=a.exec(e))&&n;)n[0]&&!r.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(o+=e.substring(s,n.index)+"<REDACTED: user-file-path>",s=a.lastIndex);s<e.length&&(o+=e.substr(s))}for(const e of i)o=o.replace(e,"");return o}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;const t=Object.create(null);for(const n of Object.keys(e)){const r=e[n];if(!r)continue;const i=/@[a-zA-Z0-9-.]+/;-1!==r.indexOf("token=")?t[n]="<REDACTED: token>":-1!==r.indexOf("ssword=")?t[n]="<REDACTED: password>":i.test(r)?t[n]="<REDACTED: email>":t[n]=r}return t}sendTelemetryEvent(e,t,n){if(this.userOptIn&&""!==e){t=u(u({},t),this.getCommonProperties());const r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}sendTelemetryErrorEvent(e,t,n,r){if(this.userOptIn&&""!==e){t=u(u({},t),this.getCommonProperties());const i=this.cloneAndChange(t,((e,t)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(t,this.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryException(e,t,n){if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e){t=u(u({},t),this.getCommonProperties());const r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}dispose(){return this.telemetryAppender.flush(),this.optOutListener.dispose()}},Pi=Ri;Pi.TELEMETRY_CONFIG_ID="telemetry",Pi.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry";var Ni=class extends Pi{constructor(e,t,n,r){const i=new class{constructor(e){let t;e&&0===e.indexOf("AIF-")&&(t="https://vortex.data.microsoft.com/collect/v1"),this._aiClient=new Ai({config:{instrumentationKey:e,endpointUrl:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0}}),this._aiClient.loadAppInsights(),t&&fetch(t).catch((()=>this._aiClient=void 0))}logEvent(e,t){this._aiClient&&this._aiClient.trackEvent({name:e},u(u({},t.properties),t.measurements))}logException(e,t){this._aiClient&&this._aiClient.trackException({exception:e,properties:u(u({},t.properties),t.measurements)})}flush(){return this._aiClient&&(this._aiClient.flush(),this._aiClient=void 0),Promise.resolve(void 0)}}(n);n&&0===n.indexOf("AIF-")&&(r=!0),super(e,t,i,{release:navigator.appVersion,platform:"web"},r)}}},189:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=void 0;var i=n(926),o=n(800),a=n(800);function s(e){return function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if("number"==typeof e)throw new Error("Browser implementation does currently not support externalized strings.");return o.localize.apply(void 0,r([e,t],n))}}function c(e){return o.setPseudo("pseudo"===(null==e?void 0:e.locale.toLowerCase())),s}Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return a.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return a.BundleFormat}}),t.loadMessageBundle=s,t.config=c,i.default.install(Object.freeze({loadMessageBundle:s,config:c}))},800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var r,i,o,a=n(926);function s(e){return void 0!==e}function c(e,n){return t.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],i=n[r],o=e;return"string"==typeof i?o=i:"number"!=typeof i&&"boolean"!=typeof i&&null!=i||(o=String(i)),o}))}(o=t.MessageFormat||(t.MessageFormat={})).file="file",o.bundle="bundle",o.both="both",(i=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",i.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&s(t.key)&&s(t.comment)}}(r||(r={})),t.isDefined=s,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return c(t,n)},t.loadMessageBundle=function(e){return a.default().loadMessageBundle(e)},t.config=function(e){return a.default().config(e)}},926:(e,t)=>{"use strict";var n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,f,h,p,d=e[u].replace(a,"%20"),g=d.indexOf(r);g>=0?(l=d.substr(0,g),f=d.substr(g+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),t(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},642:(e,t,n)=>{"use strict";t.decode=t.parse=n(808),t.encode=t.stringify=n(368)},727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureActiveDirectoryService=t.REFRESH_NETWORK_FAILURE=t.onDidChangeSessions=void 0;const r=n(798),i=n(642),o=n(764),a=n(549),s=n(151),c=n(234),u=n(64),l=n(255),f=n(147),h=n(300),p=n(654),d=n(189).loadMessageBundle(),g="https://vscode-redirect.azurewebsites.net/",v="https://login.microsoftonline.com/",m="aebc6443-996d-45c2-90f0-388ff96faa56",y="organizations";t.onDidChangeSessions=new a.EventEmitter,t.REFRESH_NETWORK_FAILURE="Network failure";class w extends a.EventEmitter{handleUri(e){this.fire(e)}}t.AzureActiveDirectoryService=class{constructor(e){this._context=e,this._tokens=[],this._refreshTimeouts=new Map,this._disposables=[],this._pendingStates=new Map,this._codeExchangePromises=new Map,this._codeVerfifiers=new Map,this._keychain=new u.Keychain(e),this._uriHandler=new w,this._disposables.push(a.window.registerUriHandler(this._uriHandler))}async initialize(){const e=await this._keychain.getToken()||await this._keychain.tryMigrate();if(e)try{const n=this.parseStoredData(e).map((async e=>{if(!e.refreshToken)return Promise.resolve();try{await this.refreshToken(e.refreshToken,e.scope,e.id)}catch(n){n.message===t.REFRESH_NETWORK_FAILURE?await this.handleRefreshNetworkError(e.id,e.refreshToken,e.scope)||(this._tokens.push({accessToken:void 0,refreshToken:e.refreshToken,account:{label:e.account.label??e.account.displayName,id:e.account.id},scope:e.scope,sessionId:e.id}),this.pollForReconnect(e.id,e.refreshToken,e.scope)):await this.removeSession(e.id)}}));await Promise.all(n)}catch(e){l.default.info("Failed to initialize stored data"),await this.clearSessions()}this._disposables.push(this._context.secrets.onDidChange((()=>this.checkForUpdates)))}parseStoredData(e){return JSON.parse(e)}async storeTokenData(){const e=this._tokens.map((e=>({id:e.sessionId,refreshToken:e.refreshToken,scope:e.scope,account:e.account})));await this._keychain.setToken(JSON.stringify(e))}async checkForUpdates(){const e=[];let n=[];const r=await this._keychain.getToken();if(r)try{const i=this.parseStoredData(r);let o=i.map((async n=>{if(!this._tokens.some((e=>e.scope===n.scope&&e.sessionId===n.id))&&n.refreshToken)try{const t=await this.refreshToken(n.refreshToken,n.scope,n.id);e.push(this.convertToSessionSync(t))}catch(e){e.message===t.REFRESH_NETWORK_FAILURE||await this.removeSession(n.id)}}));o=o.concat(this._tokens.map((async e=>{i.some((t=>e.scope===t.scope&&e.sessionId===t.id))||(await this.removeSession(e.sessionId),n.push(this.convertToSessionSync(e)))}))),await Promise.all(o)}catch(e){l.default.error(e.message),n=this._tokens.map(this.convertToSessionSync),this.clearSessions()}else this._tokens.length&&(n=this._tokens.map(this.convertToSessionSync),l.default.info("No stored keychain data, clearing local data"),this._tokens=[],this._refreshTimeouts.forEach((e=>{clearTimeout(e)})),this._refreshTimeouts.clear());(e.length||n.length)&&t.onDidChangeSessions.fire({added:e,removed:n,changed:[]})}convertToSessionSync(e){return{id:e.sessionId,accessToken:e.accessToken,idToken:e.idToken,account:e.account,scopes:e.scope.split(" ")}}async convertToSession(e){const t=await this.resolveAccessAndIdTokens(e);return{id:e.sessionId,accessToken:t.accessToken,idToken:t.idToken,account:e.account,scopes:e.scope.split(" ")}}async resolveAccessAndIdTokens(e){if(e.accessToken&&(!e.expiresAt||e.expiresAt>Date.now()))return e.expiresAt?l.default.info(`Token available from cache, expires in ${e.expiresAt-Date.now()} milliseconds`):l.default.info("Token available from cache"),Promise.resolve({accessToken:e.accessToken,idToken:e.idToken});try{l.default.info("Token expired or unavailable, trying refresh");const t=await this.refreshToken(e.refreshToken,e.scope,e.sessionId);if(t.accessToken)return{accessToken:t.accessToken,idToken:t.idToken};throw new Error}catch(e){throw new Error("Unavailable due to network problems")}}getTokenClaims(e){try{return JSON.parse(o.Buffer.from(e.split(".")[1],"base64").toString())}catch(e){throw l.default.error(e.message),new Error("Unable to read token claims")}}get sessions(){return Promise.all(this._tokens.map((e=>this.convertToSession(e))))}async getSessions(e){if(!e)return this.sessions;const t=e.sort().join(" "),n=this._tokens.filter((e=>e.scope===t));return Promise.all(n.map((e=>this.convertToSession(e))))}async createSession(e){return l.default.info("Logging in..."),e.includes("offline_access")||l.default.info("Warning: The 'offline_access' scope was not included, so the generated token will not be able to be refreshed."),new Promise((async(t,n)=>{const i=void 0!==a.env.remoteName,o=void 0===a.env.remoteName&&a.env.uiKind===a.UIKind.Web;if(i||o)return void t(this.loginWithoutLocalServer(e));const c=r(16).toString("base64"),{server:u,redirectPromise:h,codePromise:d}=(0,s.createServer)(c);let w;try{const i=await(0,s.startServer)(u);a.env.openExternal(a.Uri.parse(`http://localhost:${i}/signin?nonce=${encodeURIComponent(c)}`));const o=await h;if("err"in o){const{err:e,res:t}=o;throw t.writeHead(302,{Location:`/?error=${encodeURIComponent(e&&e.message||"Unknown error")}`}),t.end(),e}const _=o.req.headers.host||"",I=(/^[^:]+:(\d+)$/.exec(Array.isArray(_)?_[0]:_)||[])[1],b=`${I?parseInt(I,10):i},${encodeURIComponent(c)}`,T=(0,f.toBase64UrlEncoding)(r(32).toString("base64")),x=(0,f.toBase64UrlEncoding)(await(0,p.sha256)(T)),C=`${v}${y}/oauth2/v2.0/authorize?response_type=code&response_mode=query&client_id=${encodeURIComponent(m)}&redirect_uri=${encodeURIComponent(g)}&state=${b}&scope=${encodeURIComponent(e)}&prompt=select_account&code_challenge_method=S256&code_challenge=${x}`;await o.res.writeHead(302,{Location:C}),o.res.end();const E=await d,k=E.res;try{if("err"in E)throw E.err;w=await this.exchangeCodeForToken(E.code,T,e),this.setToken(w,e),l.default.info("Login successful"),k.writeHead(302,{Location:"/"}),t(await this.convertToSession(w)),k.end()}catch(e){k.writeHead(302,{Location:`/?error=${encodeURIComponent(e&&e.message||"Unknown error")}`}),k.end(),n(e.message)}}catch(t){l.default.error(t.message),"Error listening to server"!==t.message&&"Closed"!==t.message&&"Timeout waiting for port"!==t.message||await this.loginWithoutLocalServer(e),n(t.message)}finally{setTimeout((()=>{u.close()}),5e3)}}))}dispose(){this._disposables.forEach((e=>e.dispose())),this._disposables=[]}getCallbackEnvironment(e){if("https"!==e.scheme&&"http"!==e.scheme)return e.scheme;switch(e.authority){case"online.visualstudio.com":return"vso";case"online-ppe.core.vsengsaas.visualstudio.com":return"vsoppe";case"online.dev.core.vsengsaas.visualstudio.com":return"vsodev";default:return e.authority}}async loginWithoutLocalServer(e){const t=await a.env.asExternalUri(a.Uri.parse(`${a.env.uriScheme}://vscode.microsoft-authentication`)),n=r(16).toString("base64"),i=(t.authority.match(/:([0-9]*)$/)||[])[1]||("https"===t.scheme?443:80),o=`${this.getCallbackEnvironment(t)},${i},${encodeURIComponent(n)},${encodeURIComponent(t.query)}`,s=`${v}${y}/oauth2/v2.0/authorize`;let c=a.Uri.parse(s);const u=(0,f.toBase64UrlEncoding)(r(32).toString("base64")),l=(0,f.toBase64UrlEncoding)(await(0,p.sha256)(u));c=c.with({query:`response_type=code&client_id=${encodeURIComponent(m)}&response_mode=query&redirect_uri=${g}&state=${o}&scope=${e}&prompt=select_account&code_challenge_method=S256&code_challenge=${l}`}),a.env.openExternal(c);const h=new Promise(((e,t)=>{const n=setTimeout((()=>{clearTimeout(n),t("Login timed out.")}),3e5)})),d=this._pendingStates.get(e)||[];this._pendingStates.set(e,[...d,o]);let w=this._codeExchangePromises.get(e);return w||(w=this.handleCodeResponse(e),this._codeExchangePromises.set(e,w)),this._codeVerfifiers.set(o,u),Promise.race([w,h]).finally((()=>{this._pendingStates.delete(e),this._codeExchangePromises.delete(e),this._codeVerfifiers.delete(o)}))}async handleCodeResponse(e){let t;return new Promise(((n,r)=>{t=this._uriHandler.event((async t=>{try{const r=function(e){return e.query.split("&").reduce(((e,t)=>{const n=t.split("=");return e[n[0]]=n[1],e}),{})}(t),i=r.code,o=this._pendingStates.get(e)||[];if(!o.includes(r.state)&&!o.includes(decodeURIComponent(r.state)))throw new Error("State does not match.");const a=this._codeVerfifiers.get(r.state)??this._codeVerfifiers.get(decodeURIComponent(r.state));if(!a)throw new Error("No available code verifier");const s=await this.exchangeCodeForToken(i,a,e);this.setToken(s,e);const c=await this.convertToSession(s);n(c)}catch(e){r(e)}}))})).then((e=>(t.dispose(),e))).catch((e=>{throw t.dispose(),e}))}async setToken(e,n){const r=this._tokens.findIndex((t=>t.sessionId===e.sessionId));r>-1?this._tokens.splice(r,1,e):this._tokens.push(e),this.clearSessionTimeout(e.sessionId),e.expiresIn&&this._refreshTimeouts.set(e.sessionId,setTimeout((async()=>{try{const r=await this.refreshToken(e.refreshToken,n,e.sessionId);t.onDidChangeSessions.fire({added:[],removed:[],changed:[this.convertToSessionSync(r)]})}catch(r){r.message===t.REFRESH_NETWORK_FAILURE?await this.handleRefreshNetworkError(e.sessionId,e.refreshToken,n)||this.pollForReconnect(e.sessionId,e.refreshToken,e.scope):(await this.removeSession(e.sessionId),t.onDidChangeSessions.fire({added:[],removed:[this.convertToSessionSync(e)],changed:[]}))}}),1e3*(e.expiresIn-30))),this.storeTokenData()}getTokenFromResponse(e,t,n){let r;try{r=this.getTokenClaims(e.access_token)}catch(t){if(!e.id_token)throw t;l.default.info("Failed to fetch token claims from access_token. Attempting to parse id_token instead"),r=this.getTokenClaims(e.id_token)}return{expiresIn:e.expires_in,expiresAt:e.expires_in?Date.now()+1e3*e.expires_in:void 0,accessToken:e.access_token,idToken:e.id_token,refreshToken:e.refresh_token,scope:t,sessionId:n||`${r.tid}/${r.oid||r.altsecid||""+r.ipd||""}/${(0,c.v4)()}`,account:{label:r.email||r.unique_name||r.preferred_username||"user@example.com",id:`${r.tid}/${r.oid||r.altsecid||""+r.ipd||""}`}}}async exchangeCodeForToken(e,t,n){l.default.info("Exchanging login code for token");try{const r=i.stringify({grant_type:"authorization_code",code:e,client_id:m,scope:n,code_verifier:t,redirect_uri:g}),o=`${(await a.commands.executeCommand("workbench.getCodeExchangeProxyEndpoints"))?.microsoft||v}${y}/oauth2/v2.0/token`,s=await(0,h.default)(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":r.length.toString()},body:r});if(s.ok){l.default.info("Exchanging login code for token success");const e=await s.json();return this.getTokenFromResponse(e,n)}throw l.default.error("Exchanging login code for token failed"),new Error("Unable to login.")}catch(e){throw l.default.error(e.message),e}}async refreshToken(e,n,r){l.default.info("Refreshing token...");const o=i.stringify({refresh_token:e,client_id:m,grant_type:"refresh_token",scope:n});let s;try{const e=`${(await a.commands.executeCommand("workbench.getCodeExchangeProxyEndpoints"))?.microsoft||v}${y}/oauth2/v2.0/token`;s=await(0,h.default)(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":o.length.toString()},body:o})}catch(e){throw l.default.error("Refreshing token failed"),new Error(t.REFRESH_NETWORK_FAILURE)}try{if(s.ok){const e=await s.json(),t=this.getTokenFromResponse(e,n,r);return this.setToken(t,n),l.default.info("Token refresh success"),t}throw new Error("Bad request.")}catch(e){throw a.window.showErrorMessage(d("signOut","You have been signed out because reading stored authentication information failed.")),l.default.error(`Refreshing token failed: ${s.statusText}`),new Error("Refreshing token failed")}}clearSessionTimeout(e){const t=this._refreshTimeouts.get(e);t&&(clearTimeout(t),this._refreshTimeouts.delete(e))}removeInMemorySessionData(e){const t=this._tokens.findIndex((t=>t.sessionId===e));let n;return t>-1&&(n=this._tokens[t],this._tokens.splice(t,1)),this.clearSessionTimeout(e),n}pollForReconnect(e,n,r){this.clearSessionTimeout(e),this._refreshTimeouts.set(e,setTimeout((async()=>{try{const i=await this.refreshToken(n,r,e);t.onDidChangeSessions.fire({added:[],removed:[],changed:[this.convertToSessionSync(i)]})}catch(t){this.pollForReconnect(e,n,r)}}),18e5))}handleRefreshNetworkError(e,n,r,i=1){return new Promise(((o,a)=>{if(3===i)return l.default.error("Token refresh failed after 3 attempts"),o(!1);const s=5*i*i;this.clearSessionTimeout(e),this._refreshTimeouts.set(e,setTimeout((async()=>{try{const i=await this.refreshToken(n,r,e);return t.onDidChangeSessions.fire({added:[],removed:[],changed:[this.convertToSessionSync(i)]}),o(!0)}catch(t){return o(await this.handleRefreshNetworkError(e,n,r,i+1))}}),1e3*s))}))}async removeSession(e){l.default.info(`Logging out of session '${e}'`);const t=this.removeInMemorySessionData(e);let n;return t&&(n=this.convertToSessionSync(t)),0===this._tokens.length?await this._keychain.deleteToken():this.storeTokenData(),n}async clearSessions(){l.default.info("Logging out of all sessions"),this._tokens=[],await this._keychain.deleteToken(),this._refreshTimeouts.forEach((e=>{clearTimeout(e)})),this._refreshTimeouts.clear()}}},151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServer=t.startServer=void 0,t.startServer=function(e){throw new Error("Not implemented")},t.createServer=function(e){throw new Error("Not implemented")}},654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0,t.sha256=async function(e){return n(72)("sha256").update(e).digest("base64")}},64:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keychain=void 0;const r=n(549),i=n(255),o=n(189).loadMessageBundle(),a=`${r.env.uriScheme}-microsoft.login`,s="microsoft.login",c="account";t.Keychain=class{constructor(e){this.context=e;const t=function(){try{return n(183)}catch(e){console.log(e)}}();if(!t)throw new Error("System keychain unavailable");this.keytar=t}async setToken(e){try{return await this.context.secrets.store(s,e)}catch(e){if(i.default.error(`Setting token failed: ${e}`),"The specified item already exists in the keychain."===e.message)return;const t=o("troubleshooting","Troubleshooting Guide");await r.window.showErrorMessage(o("keychainWriteError","Writing login information to the keychain failed with error '{0}'.",e.message),t)===t&&r.env.openExternal(r.Uri.parse("https://code.visualstudio.com/docs/editor/settings-sync#_troubleshooting-keychain-issues"))}}async getToken(){try{return await this.context.secrets.get(s)}catch(e){return i.default.error(`Getting token failed: ${e}`),Promise.resolve(void 0)}}async deleteToken(){try{return await this.context.secrets.delete(s)}catch(e){return i.default.error(`Deleting token failed: ${e}`),Promise.resolve(void 0)}}async tryMigrate(){try{const e=await this.keytar.getPassword(a,c);return e&&(await this.setToken(e),await this.keytar.deletePassword(a,c)),e}catch(e){return Promise.resolve(null)}}}},255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(549);function i(e,t,n=" "){return n.repeat(Math.max(0,t-e.length))+e}const o=new class{constructor(){this.output=r.window.createOutputChannel("Microsoft Authentication")}data2String(e){return e instanceof Error?e.stack||e.message:!1===e.success&&e.message?e.message:e.toString()}info(e,t){this.logLevel("Info",e,t)}error(e,t){this.logLevel("Error",e,t)}logLevel(e,t,n){this.output.appendLine(`[${e}  - ${this.now()}] ${t}`),n&&this.output.appendLine(this.data2String(n))}now(){const e=new Date;return i(e.getUTCHours()+"",2,"0")+":"+i(e.getMinutes()+"",2,"0")+":"+i(e.getUTCSeconds()+"",2,"0")+"."+e.getMilliseconds()}};t.default=o},147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBase64UrlEncoding=void 0,t.toBase64UrlEncoding=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},183:e=>{"use strict";e.exports=require("keytar")},549:e=>{"use strict";e.exports=require("vscode")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=e.DEFAULT_SCOPES=void 0;const t=n(549),i=n(727),o=n(924);e.DEFAULT_SCOPES="https://management.core.windows.net/.default offline_access",e.activate=async function(e){const{name:n,version:r,aiKey:a}=e.extension.packageJSON,s=new o.default(n,r,a),c=new i.AzureActiveDirectoryService(e);e.subscriptions.push(c),await c.initialize(),e.subscriptions.push(t.authentication.registerAuthenticationProvider("microsoft","Microsoft",{onDidChangeSessions:i.onDidChangeSessions.event,getSessions:e=>c.getSessions(e),createSession:async e=>{try{s.sendTelemetryEvent("login",{scopes:JSON.stringify(e.map((e=>e.replace(/[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}/i,"{guid}"))))});const t=await c.createSession(e.sort().join(" "));return i.onDidChangeSessions.fire({added:[t],removed:[],changed:[]}),t}catch(e){throw s.sendTelemetryEvent("loginFailed"),e}},removeSession:async e=>{try{s.sendTelemetryEvent("logout");const t=await c.removeSession(e);t&&i.onDidChangeSessions.fire({added:[],removed:[t],changed:[]})}catch(e){s.sendTelemetryEvent("logoutFailed")}}},{supportsMultipleAccounts:!0}))},e.deactivate=function(){}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/0214d59846f265d9e50f53b61e2267407d81cbfb/extensions/microsoft-authentication/dist/browser/extension.js.map